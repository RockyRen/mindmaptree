(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const w of m.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&i(w)}).observe(document,{childList:!0,subtree:!0});function e(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(u){if(u.ep)return;u.ep=!0;const m=e(u);fetch(u.href,m)}})();const pe=()=>new Map,Zr=l=>{const t=pe();return l.forEach((e,i)=>{t.set(i,e)}),t},se=(l,t,e)=>{let i=l.get(t);return i===void 0&&l.set(t,i=e()),i},Ds=(l,t)=>{const e=[];for(const[i,u]of l)e.push(t(u,i));return e},Ms=(l,t)=>{for(const[e,i]of l)if(t(i,e))return!0;return!1},on=()=>new Set,Br=l=>l[l.length-1],Is=(l,t)=>{for(let e=0;e<t.length;e++)l.push(t[e])},Ze=Array.from,Ps=Array.isArray;class xr{constructor(){this._observers=pe()}on(t,e){se(this._observers,t,on).add(e)}once(t,e){const i=(...u)=>{this.off(t,i),e(...u)};this.on(t,i)}off(t,e){const i=this._observers.get(t);i!==void 0&&(i.delete(e),i.size===0&&this._observers.delete(t))}emit(t,e){return Ze((this._observers.get(t)||pe()).values()).forEach(i=>i(...e))}destroy(){this._observers=pe()}}const xe=Math.floor,fr=Math.abs,js=Math.log10,li=(l,t)=>l<t?l:t,fn=(l,t)=>l>t?l:t,go=l=>l!==0?l<0:1/l<0,qs=String.fromCharCode,Bs=l=>l.toLowerCase(),Fs=/^\s*/g,Us=l=>l.replace(Fs,""),Hs=/([A-Z])/g,qi=(l,t)=>Us(l.replace(Hs,e=>`${t}${Bs(e)}`)),zs=l=>{const t=unescape(encodeURIComponent(l)),e=t.length,i=new Uint8Array(e);for(let u=0;u<e;u++)i[u]=t.codePointAt(u);return i},qn=typeof TextEncoder<"u"?new TextEncoder:null,Vs=l=>qn.encode(l),Xr=qn?Vs:zs;let Pn=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Pn&&Pn.decode(new Uint8Array).length===1&&(Pn=null);const Bi=l=>l===void 0?null:l;class Ws{constructor(){this.map=new Map}setItem(t,e){this.map.set(t,e)}getItem(t){return this.map.get(t)}}let yo=new Ws,ui=!0;try{typeof localStorage<"u"&&(yo=localStorage,ui=!1)}catch{}const vo=yo,Ks=l=>ui||addEventListener("storage",l),$s=l=>ui||removeEventListener("storage",l),Gs=Object.assign,Ys=Object.keys,Zs=(l,t)=>{for(const e in l)t(l[e],e)},yr=l=>Ys(l).length,Xs=l=>{for(const t in l)return!1;return!0},Js=(l,t)=>{for(const e in l)if(!t(l[e],e))return!1;return!0},mo=(l,t)=>Object.prototype.hasOwnProperty.call(l,t),Qs=(l,t)=>l===t||yr(l)===yr(t)&&Js(l,(e,i)=>(e!==void 0||mo(t,i))&&t[i]===e),ci=(l,t,e=0)=>{try{for(;e<l.length;e++)l[e](...t)}finally{e<l.length&&ci(l,t,e+1)}},ta=()=>{},ea=l=>l,na=(l,t)=>l===t,jn=(l,t)=>{if(l==null||t==null)return na(l,t);if(l.constructor!==t.constructor)return!1;if(l===t)return!0;switch(l.constructor){case ArrayBuffer:l=new Uint8Array(l),t=new Uint8Array(t);case Uint8Array:{if(l.byteLength!==t.byteLength)return!1;for(let e=0;e<l.length;e++)if(l[e]!==t[e])return!1;break}case Set:{if(l.size!==t.size)return!1;for(const e of l)if(!t.has(e))return!1;break}case Map:{if(l.size!==t.size)return!1;for(const e of l.keys())if(!t.has(e)||!jn(l.get(e),t.get(e)))return!1;break}case Object:if(yr(l)!==yr(t))return!1;for(const e in l)if(!mo(l,e)||!jn(l[e],t[e]))return!1;break;case Array:if(l.length!==t.length)return!1;for(let e=0;e<l.length;e++)if(!jn(l[e],t[e]))return!1;break;default:return!1}return!0},ra=(l,t)=>t.includes(l),wn=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name),bo=typeof window<"u"&&typeof document<"u"&&!wn;let Ae;const ia=()=>{if(Ae===void 0)if(wn){Ae=pe();const l=process.argv;let t=null;for(let e=0;e<l.length;e++){const i=l[e];i[0]==="-"?(t!==null&&Ae.set(t,""),t=i):t!==null&&(Ae.set(t,i),t=null)}t!==null&&Ae.set(t,"")}else typeof location=="object"?(Ae=pe(),(location.search||"?").slice(1).split("&").forEach(l=>{if(l.length!==0){const[t,e]=l.split("=");Ae.set(`--${qi(t,"-")}`,e),Ae.set(`-${qi(t,"-")}`,e)}})):Ae=pe();return Ae},Jr=l=>ia().has(l),vr=l=>Bi(wn?process.env[l.toUpperCase()]:vo.getItem(l)),oa=l=>Jr("--"+l)||vr(l)!==null;oa("production");const Fi=wn&&ra({}.FORCE_COLOR,["true","1","2"]),sa=!Jr("no-colors")&&(!wn||process.stdout.isTTY||Fi)&&(!wn||Jr("color")||Fi||vr("COLORTERM")!==null||(vr("TERM")||"").includes("color")),Ui=1,Hi=2,Fr=4,Ur=8,Bn=32,qe=64,ne=128,Rr=31,Qr=63,nn=127,aa=2147483647,_o=Number.MAX_SAFE_INTEGER,la=Number.isInteger||(l=>typeof l=="number"&&isFinite(l)&&xe(l)===l),Je=l=>new Error(l),Te=()=>{throw Je("Method unimplemented")},ge=()=>{throw Je("Unexpected case")},wo=Je("Unexpected end of array"),Eo=Je("Integer out of Range");class Nr{constructor(t){this.arr=t,this.pos=0}}const Le=l=>new Nr(l),ua=l=>l.pos!==l.arr.length,ca=(l,t)=>{const e=di(l.arr.buffer,l.pos+l.arr.byteOffset,t);return l.pos+=t,e},Gt=l=>ca(l,Ot(l)),sn=l=>l.arr[l.pos++],Ot=l=>{let t=0,e=1;const i=l.arr.length;for(;l.pos<i;){const u=l.arr[l.pos++];if(t=t+(u&nn)*e,e*=128,u<ne)return t;if(t>_o)throw Eo}throw wo},fi=l=>{let t=l.arr[l.pos++],e=t&Qr,i=64;const u=(t&qe)>0?-1:1;if(!(t&ne))return u*e;const m=l.arr.length;for(;l.pos<m;){if(t=l.arr[l.pos++],e=e+(t&nn)*i,i*=128,t<ne)return u*e;if(e>_o)throw Eo}throw wo},fa=l=>{let t=Ot(l);if(t===0)return"";{let e=String.fromCodePoint(sn(l));if(--t<100)for(;t--;)e+=String.fromCodePoint(sn(l));else for(;t>0;){const i=t<1e4?t:1e4,u=l.arr.subarray(l.pos,l.pos+i);l.pos+=i,e+=String.fromCodePoint.apply(null,u),t-=i}return decodeURIComponent(escape(e))}},ha=l=>Pn.decode(Gt(l)),Be=Pn?ha:fa,hi=(l,t)=>{const e=new DataView(l.arr.buffer,l.arr.byteOffset+l.pos,t);return l.pos+=t,e},da=l=>hi(l,4).getFloat32(0,!1),pa=l=>hi(l,8).getFloat64(0,!1),ga=l=>hi(l,8).getBigInt64(0,!1),ya=[l=>{},l=>null,fi,da,pa,ga,l=>!1,l=>!0,Be,l=>{const t=Ot(l),e={};for(let i=0;i<t;i++){const u=Be(l);e[u]=En(l)}return e},l=>{const t=Ot(l),e=[];for(let i=0;i<t;i++)e.push(En(l));return e},Gt],En=l=>ya[127-sn(l)](l);class zi extends Nr{constructor(t,e){super(t),this.reader=e,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),ua(this)?this.count=Ot(this)+1:this.count=-1),this.count--,this.s}}class hr extends Nr{constructor(t){super(t),this.s=0,this.count=0}read(){if(this.count===0){this.s=fi(this);const t=go(this.s);this.count=1,t&&(this.s=-this.s,this.count=Ot(this)+2)}return this.count--,this.s}}class Hr extends Nr{constructor(t){super(t),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const t=fi(this),e=t&1;this.diff=xe(t/2),this.count=1,e&&(this.count=Ot(this)+2)}return this.s+=this.diff,this.count--,this.s}}class va{constructor(t){this.decoder=new hr(t),this.str=Be(this.decoder),this.spos=0}read(){const t=this.spos+this.decoder.read(),e=this.str.slice(this.spos,t);return this.spos=t,e}}const Oo=l=>new Uint8Array(l),di=(l,t,e)=>new Uint8Array(l,t,e),ma=l=>new Uint8Array(l),ba=l=>{let t="";for(let e=0;e<l.byteLength;e++)t+=qs(l[e]);return btoa(t)},_a=l=>Buffer.from(l.buffer,l.byteOffset,l.byteLength).toString("base64"),wa=l=>{const t=atob(l),e=Oo(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e},Ea=l=>{const t=Buffer.from(l,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},So=bo?ba:_a,ko=bo?wa:Ea,Oa=l=>{const t=Oo(l.byteLength);return t.set(l),t};class Kn{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Yt=()=>new Kn,Sa=l=>{let t=l.cpos;for(let e=0;e<l.bufs.length;e++)t+=l.bufs[e].length;return t},qt=l=>{const t=new Uint8Array(Sa(l));let e=0;for(let i=0;i<l.bufs.length;i++){const u=l.bufs[i];t.set(u,e),e+=u.length}return t.set(di(l.cbuf.buffer,0,l.cpos),e),t},ka=(l,t)=>{const e=l.cbuf.length;e-l.cpos<t&&(l.bufs.push(di(l.cbuf.buffer,0,l.cpos)),l.cbuf=new Uint8Array(fn(e,t)*2),l.cpos=0)},$t=(l,t)=>{const e=l.cbuf.length;l.cpos===e&&(l.bufs.push(l.cbuf),l.cbuf=new Uint8Array(e*2),l.cpos=0),l.cbuf[l.cpos++]=t},Fn=$t,wt=(l,t)=>{for(;t>nn;)$t(l,ne|nn&t),t=xe(t/128);$t(l,nn&t)},pi=(l,t)=>{const e=go(t);for(e&&(t=-t),$t(l,(t>Qr?ne:0)|(e?qe:0)|Qr&t),t=xe(t/64);t>0;)$t(l,(t>nn?ne:0)|nn&t),t=xe(t/128)},ti=new Uint8Array(3e4),Aa=ti.length/3,Ta=(l,t)=>{if(t.length<Aa){const e=qn.encodeInto(t,ti).written||0;wt(l,e);for(let i=0;i<e;i++)$t(l,ti[i])}else Ft(l,Xr(t))},Ca=(l,t)=>{const e=unescape(encodeURIComponent(t)),i=e.length;wt(l,i);for(let u=0;u<i;u++)$t(l,e.codePointAt(u))},Ce=qn&&qn.encodeInto?Ta:Ca,Lr=(l,t)=>{const e=l.cbuf.length,i=l.cpos,u=li(e-i,t.length),m=t.length-u;l.cbuf.set(t.subarray(0,u),i),l.cpos+=u,m>0&&(l.bufs.push(l.cbuf),l.cbuf=new Uint8Array(fn(e*2,m)),l.cbuf.set(t.subarray(u)),l.cpos=m)},Ft=(l,t)=>{wt(l,t.byteLength),Lr(l,t)},gi=(l,t)=>{ka(l,t);const e=new DataView(l.cbuf.buffer,l.cpos,t);return l.cpos+=t,e},xa=(l,t)=>gi(l,4).setFloat32(0,t,!1),Ra=(l,t)=>gi(l,8).setFloat64(0,t,!1),Na=(l,t)=>gi(l,8).setBigInt64(0,t,!1),Vi=new DataView(new ArrayBuffer(4)),La=l=>(Vi.setFloat32(0,l),Vi.getFloat32(0)===l),On=(l,t)=>{switch(typeof t){case"string":$t(l,119),Ce(l,t);break;case"number":la(t)&&fr(t)<=aa?($t(l,125),pi(l,t)):La(t)?($t(l,124),xa(l,t)):($t(l,123),Ra(l,t));break;case"bigint":$t(l,122),Na(l,t);break;case"object":if(t===null)$t(l,126);else if(Ps(t)){$t(l,117),wt(l,t.length);for(let e=0;e<t.length;e++)On(l,t[e])}else if(t instanceof Uint8Array)$t(l,116),Ft(l,t);else{$t(l,118);const e=Object.keys(t);wt(l,e.length);for(let i=0;i<e.length;i++){const u=e[i];Ce(l,u),On(l,t[u])}}break;case"boolean":$t(l,t?120:121);break;default:$t(l,127)}};class Wi extends Kn{constructor(t){super(),this.w=t,this.s=null,this.count=0}write(t){this.s===t?this.count++:(this.count>0&&wt(this,this.count-1),this.count=1,this.w(this,t),this.s=t)}}const Ki=l=>{l.count>0&&(pi(l.encoder,l.count===1?l.s:-l.s),l.count>1&&wt(l.encoder,l.count-2))};class dr{constructor(){this.encoder=new Kn,this.s=0,this.count=0}write(t){this.s===t?this.count++:(Ki(this),this.count=1,this.s=t)}toUint8Array(){return Ki(this),qt(this.encoder)}}const $i=l=>{if(l.count>0){const t=l.diff*2+(l.count===1?0:1);pi(l.encoder,t),l.count>1&&wt(l.encoder,l.count-2)}};class zr{constructor(){this.encoder=new Kn,this.s=0,this.count=0,this.diff=0}write(t){this.diff===t-this.s?(this.s=t,this.count++):($i(this),this.count=1,this.diff=t-this.s,this.s=t)}toUint8Array(){return $i(this),qt(this.encoder)}}class Da{constructor(){this.sarr=[],this.s="",this.lensE=new dr}write(t){this.s+=t,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(t.length)}toUint8Array(){const t=new Kn;return this.sarr.push(this.s),this.s="",Ce(t,this.sarr.join("")),Lr(t,this.lensE.toUint8Array()),qt(t)}}const Ma=crypto.getRandomValues.bind(crypto),Ia=Math.random,Ao=()=>Ma(new Uint32Array(1))[0],Pa=[1e7]+-1e3+-4e3+-8e3+-1e11,To=()=>Pa.replace(/[018]/g,l=>(l^Ao()&15>>l/4).toString(16)),Fe=Date.now,Gi=l=>new Promise(l);Promise.all.bind(Promise);const ja=l=>Promise.reject(l),yi=l=>Promise.resolve(l);class qa{constructor(t,e){this.left=t,this.right=e}}const je=(l,t)=>new qa(l,t);typeof DOMParser<"u"&&new DOMParser;const Ba=l=>Ds(l,(t,e)=>`${e}:${t};`).join(""),Ue=Symbol,oe=Ue(),an=Ue(),Co=Ue(),vi=Ue(),xo=Ue(),Ro=Ue(),No=Ue(),mi=Ue(),Dr=Ue(),Fa=l=>{const t=[];let e=0;for(;e<l.length;e++){const i=l[e];i.constructor===String||i.constructor===Number||i.constructor===Object&&t.push(JSON.stringify(i))}return t},Yi=[xo,No,mi,Co];let Vr=0,Zi=Fe();const Ua=(l,t)=>{const e=Yi[Vr],i=vr("log"),u=i!==null&&(i==="*"||i==="true"||new RegExp(i,"gi").test(t));return Vr=(Vr+1)%Yi.length,t+=": ",u?(...m)=>{const w=Fe(),y=w-Zi;Zi=w,l(e,t,Dr,...m.map(h=>typeof h=="string"||typeof h=="symbol"?h:JSON.stringify(h)),e," +"+y+"ms")}:ta},Ha={[oe]:je("font-weight","bold"),[an]:je("font-weight","normal"),[Co]:je("color","blue"),[xo]:je("color","green"),[vi]:je("color","grey"),[Ro]:je("color","red"),[No]:je("color","purple"),[mi]:je("color","orange"),[Dr]:je("color","black")},za=l=>{const t=[],e=[],i=pe();let u=[],m=0;for(;m<l.length;m++){const w=l[m],y=Ha[w];if(y!==void 0)i.set(y.left,y.right);else if(w.constructor===String||w.constructor===Number){const h=Ba(i);m>0||h.length>0?(t.push("%c"+w),e.push(h)):t.push(w)}else break}for(m>0&&(u=e,u.unshift(t.join("")));m<l.length;m++){const w=l[m];w instanceof Symbol||u.push(w)}return u},Va=sa?za:Fa,Lo=(...l)=>{console.log(...Va(l)),Wa.forEach(t=>t.print(l))},Wa=on(),Ka=l=>Ua(Lo,l),Do=l=>({[Symbol.iterator](){return this},next:l}),$a=(l,t)=>Do(()=>{let e;do e=l.next();while(!e.done&&!t(e.value));return e}),Wr=(l,t)=>Do(()=>{const{done:e,value:i}=l.next();return{done:e,value:e?void 0:t(i)}});class bi{constructor(t,e){this.clock=t,this.len=e}}class $n{constructor(){this.clients=new Map}}const ei=(l,t,e)=>t.clients.forEach((i,u)=>{const m=l.doc.store.clients.get(u);for(let w=0;w<i.length;w++){const y=i[w];Go(l,m,y.clock,y.len,e)}}),Ga=(l,t)=>{let e=0,i=l.length-1;for(;e<=i;){const u=xe((e+i)/2),m=l[u],w=m.clock;if(w<=t){if(t<w+m.len)return u;e=u+1}else i=u-1}return null},Mo=(l,t)=>{const e=l.clients.get(t.client);return e!==void 0&&Ga(e,t.clock)!==null},_i=l=>{l.clients.forEach(t=>{t.sort((u,m)=>u.clock-m.clock);let e,i;for(e=1,i=1;e<t.length;e++){const u=t[i-1],m=t[e];u.clock+u.len>=m.clock?u.len=fn(u.len,m.clock+m.len-u.clock):(i<e&&(t[i]=m),i++)}t.length=i})},Ya=l=>{const t=new $n;for(let e=0;e<l.length;e++)l[e].clients.forEach((i,u)=>{if(!t.clients.has(u)){const m=i.slice();for(let w=e+1;w<l.length;w++)Is(m,l[w].clients.get(u)||[]);t.clients.set(u,m)}});return _i(t),t},mr=(l,t,e,i)=>{se(l.clients,t,()=>[]).push(new bi(e,i))},Za=()=>new $n,Xa=l=>{const t=Za();return l.clients.forEach((e,i)=>{const u=[];for(let m=0;m<e.length;m++){const w=e[m];if(w.deleted){const y=w.id.clock;let h=w.length;if(m+1<e.length)for(let _=e[m+1];m+1<e.length&&_.deleted;_=e[++m+1])h+=_.length;u.push(new bi(y,h))}}u.length>0&&t.clients.set(i,u)}),t},Tn=(l,t)=>{wt(l.restEncoder,t.clients.size),Ze(t.clients.entries()).sort((e,i)=>i[0]-e[0]).forEach(([e,i])=>{l.resetDsCurVal(),wt(l.restEncoder,e);const u=i.length;wt(l.restEncoder,u);for(let m=0;m<u;m++){const w=i[m];l.writeDsClock(w.clock),l.writeDsLen(w.len)}})},wi=l=>{const t=new $n,e=Ot(l.restDecoder);for(let i=0;i<e;i++){l.resetDsCurVal();const u=Ot(l.restDecoder),m=Ot(l.restDecoder);if(m>0){const w=se(t.clients,u,()=>[]);for(let y=0;y<m;y++)w.push(new bi(l.readDsClock(),l.readDsLen()))}}return t},Xi=(l,t,e)=>{const i=new $n,u=Ot(l.restDecoder);for(let m=0;m<u;m++){l.resetDsCurVal();const w=Ot(l.restDecoder),y=Ot(l.restDecoder),h=e.clients.get(w)||[],_=Vt(e,w);for(let b=0;b<y;b++){const r=l.readDsClock(),n=r+l.readDsLen();if(r<_){_<n&&mr(i,w,_,n-_);let a=Re(h,r),f=h[a];for(!f.deleted&&f.id.clock<r&&(h.splice(a+1,0,kr(t,f,r-f.id.clock)),a++);a<h.length&&(f=h[a++],f.id.clock<n);)f.deleted||(n<f.id.clock+f.length&&h.splice(a,0,kr(t,f,n-f.id.clock)),f.delete(t))}else mr(i,w,r,n-r)}}if(i.clients.size>0){const m=new ln;return wt(m.restEncoder,0),Tn(m,i),m.toUint8Array()}return null},Io=Ao;class Cn extends xr{constructor({guid:t=To(),collectionid:e=null,gc:i=!0,gcFilter:u=()=>!0,meta:m=null,autoLoad:w=!1,shouldLoad:y=!0}={}){super(),this.gc=i,this.gcFilter=u,this.clientID=Io(),this.guid=t,this.collectionid=e,this.share=new Map,this.store=new Ko,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=y,this.autoLoad=w,this.meta=m,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=Gi(_=>{this.on("load",()=>{this.isLoaded=!0,_(this)})});const h=()=>Gi(_=>{const b=r=>{(r===void 0||r===!0)&&(this.off("sync",b),_())};this.on("sync",b)});this.on("sync",_=>{_===!1&&this.isSynced&&(this.whenSynced=h()),this.isSynced=_===void 0||_===!0,this.isLoaded||this.emit("load",[])}),this.whenSynced=h()}load(){const t=this._item;t!==null&&!this.shouldLoad&&Pt(t.parent.doc,e=>{e.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Ze(this.subdocs).map(t=>t.guid))}transact(t,e=null){return Pt(this,t,e)}get(t,e=Zt){const i=se(this.share,t,()=>{const m=new e;return m._integrate(this,null),m}),u=i.constructor;if(e!==Zt&&u!==e)if(u===Zt){const m=new e;m._map=i._map,i._map.forEach(w=>{for(;w!==null;w=w.left)w.parent=m}),m._start=i._start;for(let w=m._start;w!==null;w=w.right)w.parent=m;return m._length=i._length,this.share.set(t,m),m._integrate(this,null),m}else throw new Error(`Type with the name ${t} has already been defined with a different constructor`);return i}getArray(t=""){return this.get(t,bn)}getText(t=""){return this.get(t,An)}getMap(t=""){return this.get(t,kn)}getXmlFragment(t=""){return this.get(t,un)}toJSON(){const t={};return this.share.forEach((e,i)=>{t[i]=e.toJSON()}),t}destroy(){Ze(this.subdocs).forEach(e=>e.destroy());const t=this._item;if(t!==null){this._item=null;const e=t.content;e.doc=new Cn({guid:this.guid,...e.opts,shouldLoad:!1}),e.doc._item=t,Pt(t.parent.doc,i=>{const u=e.doc;t.deleted||i.subdocsAdded.add(u),i.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(t,e){super.on(t,e)}off(t,e){super.off(t,e)}}class Po{constructor(t){this.restDecoder=t}resetDsCurVal(){}readDsClock(){return Ot(this.restDecoder)}readDsLen(){return Ot(this.restDecoder)}}class jo extends Po{readLeftID(){return At(Ot(this.restDecoder),Ot(this.restDecoder))}readRightID(){return At(Ot(this.restDecoder),Ot(this.restDecoder))}readClient(){return Ot(this.restDecoder)}readInfo(){return sn(this.restDecoder)}readString(){return Be(this.restDecoder)}readParentInfo(){return Ot(this.restDecoder)===1}readTypeRef(){return Ot(this.restDecoder)}readLen(){return Ot(this.restDecoder)}readAny(){return En(this.restDecoder)}readBuf(){return Oa(Gt(this.restDecoder))}readJSON(){return JSON.parse(Be(this.restDecoder))}readKey(){return Be(this.restDecoder)}}class Ja{constructor(t){this.dsCurrVal=0,this.restDecoder=t}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=Ot(this.restDecoder),this.dsCurrVal}readDsLen(){const t=Ot(this.restDecoder)+1;return this.dsCurrVal+=t,t}}class Sn extends Ja{constructor(t){super(t),this.keys=[],Ot(t),this.keyClockDecoder=new Hr(Gt(t)),this.clientDecoder=new hr(Gt(t)),this.leftClockDecoder=new Hr(Gt(t)),this.rightClockDecoder=new Hr(Gt(t)),this.infoDecoder=new zi(Gt(t),sn),this.stringDecoder=new va(Gt(t)),this.parentInfoDecoder=new zi(Gt(t),sn),this.typeRefDecoder=new hr(Gt(t)),this.lenDecoder=new hr(Gt(t))}readLeftID(){return new mn(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new mn(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return En(this.restDecoder)}readBuf(){return Gt(this.restDecoder)}readJSON(){return En(this.restDecoder)}readKey(){const t=this.keyClockDecoder.read();if(t<this.keys.length)return this.keys[t];{const e=this.stringDecoder.read();return this.keys.push(e),e}}}class qo{constructor(){this.restEncoder=Yt()}toUint8Array(){return qt(this.restEncoder)}resetDsCurVal(){}writeDsClock(t){wt(this.restEncoder,t)}writeDsLen(t){wt(this.restEncoder,t)}}class Gn extends qo{writeLeftID(t){wt(this.restEncoder,t.client),wt(this.restEncoder,t.clock)}writeRightID(t){wt(this.restEncoder,t.client),wt(this.restEncoder,t.clock)}writeClient(t){wt(this.restEncoder,t)}writeInfo(t){Fn(this.restEncoder,t)}writeString(t){Ce(this.restEncoder,t)}writeParentInfo(t){wt(this.restEncoder,t?1:0)}writeTypeRef(t){wt(this.restEncoder,t)}writeLen(t){wt(this.restEncoder,t)}writeAny(t){On(this.restEncoder,t)}writeBuf(t){Ft(this.restEncoder,t)}writeJSON(t){Ce(this.restEncoder,JSON.stringify(t))}writeKey(t){Ce(this.restEncoder,t)}}class Bo{constructor(){this.restEncoder=Yt(),this.dsCurrVal=0}toUint8Array(){return qt(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(t){const e=t-this.dsCurrVal;this.dsCurrVal=t,wt(this.restEncoder,e)}writeDsLen(t){t===0&&ge(),wt(this.restEncoder,t-1),this.dsCurrVal+=t}}class ln extends Bo{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new zr,this.clientEncoder=new dr,this.leftClockEncoder=new zr,this.rightClockEncoder=new zr,this.infoEncoder=new Wi(Fn),this.stringEncoder=new Da,this.parentInfoEncoder=new Wi(Fn),this.typeRefEncoder=new dr,this.lenEncoder=new dr}toUint8Array(){const t=Yt();return wt(t,0),Ft(t,this.keyClockEncoder.toUint8Array()),Ft(t,this.clientEncoder.toUint8Array()),Ft(t,this.leftClockEncoder.toUint8Array()),Ft(t,this.rightClockEncoder.toUint8Array()),Ft(t,qt(this.infoEncoder)),Ft(t,this.stringEncoder.toUint8Array()),Ft(t,qt(this.parentInfoEncoder)),Ft(t,this.typeRefEncoder.toUint8Array()),Ft(t,this.lenEncoder.toUint8Array()),Lr(t,qt(this.restEncoder)),qt(t)}writeLeftID(t){this.clientEncoder.write(t.client),this.leftClockEncoder.write(t.clock)}writeRightID(t){this.clientEncoder.write(t.client),this.rightClockEncoder.write(t.clock)}writeClient(t){this.clientEncoder.write(t)}writeInfo(t){this.infoEncoder.write(t)}writeString(t){this.stringEncoder.write(t)}writeParentInfo(t){this.parentInfoEncoder.write(t?1:0)}writeTypeRef(t){this.typeRefEncoder.write(t)}writeLen(t){this.lenEncoder.write(t)}writeAny(t){On(this.restEncoder,t)}writeBuf(t){Ft(this.restEncoder,t)}writeJSON(t){On(this.restEncoder,t)}writeKey(t){const e=this.keyMap.get(t);e===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(t)):this.keyClockEncoder.write(e)}}const Qa=(l,t,e,i)=>{i=fn(i,t[0].id.clock);const u=Re(t,i);wt(l.restEncoder,t.length-u),l.writeClient(e),wt(l.restEncoder,i);const m=t[u];m.write(l,i-m.id.clock);for(let w=u+1;w<t.length;w++)t[w].write(l,0)},Ei=(l,t,e)=>{const i=new Map;e.forEach((u,m)=>{Vt(t,m)>u&&i.set(m,u)}),Mr(t).forEach((u,m)=>{e.has(m)||i.set(m,0)}),wt(l.restEncoder,i.size),Ze(i.entries()).sort((u,m)=>m[0]-u[0]).forEach(([u,m])=>{Qa(l,t.clients.get(u),u,m)})},tl=(l,t)=>{const e=pe(),i=Ot(l.restDecoder);for(let u=0;u<i;u++){const m=Ot(l.restDecoder),w=new Array(m),y=l.readClient();let h=Ot(l.restDecoder);e.set(y,{i:0,refs:w});for(let _=0;_<m;_++){const b=l.readInfo();switch(Rr&b){case 0:{const r=l.readLen();w[_]=new re(At(y,h),r),h+=r;break}case 10:{const r=Ot(l.restDecoder);w[_]=new ie(At(y,h),r),h+=r;break}default:{const r=(b&(qe|ne))===0,n=new Ut(At(y,h),null,(b&ne)===ne?l.readLeftID():null,null,(b&qe)===qe?l.readRightID():null,r?l.readParentInfo()?t.get(l.readString()):l.readLeftID():null,r&&(b&Bn)===Bn?l.readString():null,ds(l,b));w[_]=n,h+=n.length}}}}return e},el=(l,t,e)=>{const i=[];let u=Ze(e.keys()).sort((a,f)=>a-f);if(u.length===0)return null;const m=()=>{if(u.length===0)return null;let a=e.get(u[u.length-1]);for(;a.refs.length===a.i;)if(u.pop(),u.length>0)a=e.get(u[u.length-1]);else return null;return a};let w=m();if(w===null&&i.length===0)return null;const y=new Ko,h=new Map,_=(a,f)=>{const v=h.get(a);(v==null||v>f)&&h.set(a,f)};let b=w.refs[w.i++];const r=new Map,n=()=>{for(const a of i){const f=a.id.client,v=e.get(f);v?(v.i--,y.clients.set(f,v.refs.slice(v.i)),e.delete(f),v.i=0,v.refs=[]):y.clients.set(f,[a]),u=u.filter(E=>E!==f)}i.length=0};for(;;){if(b.constructor!==ie){const f=se(r,b.id.client,()=>Vt(t,b.id.client))-b.id.clock;if(f<0)i.push(b),_(b.id.client,b.id.clock-1),n();else{const v=b.getMissing(l,t);if(v!==null){i.push(b);const E=e.get(v)||{refs:[],i:0};if(E.refs.length===E.i)_(v,Vt(t,v)),n();else{b=E.refs[E.i++];continue}}else(f===0||f<b.length)&&(b.integrate(l,f),r.set(b.id.client,b.id.clock+b.length))}}if(i.length>0)b=i.pop();else if(w!==null&&w.i<w.refs.length)b=w.refs[w.i++];else{if(w=m(),w===null)break;b=w.refs[w.i++]}}if(y.clients.size>0){const a=new ln;return Ei(a,y,new Map),wt(a.restEncoder,0),{missing:h,update:a.toUint8Array()}}return null},nl=(l,t)=>Ei(l,t.doc.store,t.beforeState),rl=(l,t,e,i=new Sn(l))=>Pt(t,u=>{u.local=!1;let m=!1;const w=u.doc,y=w.store,h=tl(i,w),_=el(u,y,h),b=y.pendingStructs;if(b){for(const[n,a]of b.missing)if(a<Vt(y,n)){m=!0;break}if(_){for(const[n,a]of _.missing){const f=b.missing.get(n);(f==null||f>a)&&b.missing.set(n,a)}b.update=br([b.update,_.update])}}else y.pendingStructs=_;const r=Xi(i,u,y);if(y.pendingDs){const n=new Sn(Le(y.pendingDs));Ot(n.restDecoder);const a=Xi(n,u,y);r&&a?y.pendingDs=br([r,a]):y.pendingDs=r||a}else y.pendingDs=r;if(m){const n=y.pendingStructs.update;y.pendingStructs=null,Fo(u.doc,n)}},e,!1),Fo=(l,t,e,i=Sn)=>{const u=Le(t);rl(u,l,e,new i(u))},il=(l,t,e)=>Fo(l,t,e,jo),ol=(l,t,e=new Map)=>{Ei(l,t.store,e),Tn(l,Xa(t.store))},sl=(l,t=new Uint8Array([0]),e=new ln)=>{const i=Uo(t);ol(e,l,i);const u=[e.toUint8Array()];if(l.store.pendingDs&&u.push(l.store.pendingDs),l.store.pendingStructs&&u.push(Ol(l.store.pendingStructs.update,t)),u.length>1){if(e.constructor===Gn)return wl(u.map((m,w)=>w===0?m:kl(m)));if(e.constructor===ln)return br(u)}return u[0]},al=(l,t)=>sl(l,t,new Gn),ll=l=>{const t=new Map,e=Ot(l.restDecoder);for(let i=0;i<e;i++){const u=Ot(l.restDecoder),m=Ot(l.restDecoder);t.set(u,m)}return t},Uo=l=>ll(new Po(Le(l))),Ho=(l,t)=>(wt(l.restEncoder,t.size),Ze(t.entries()).sort((e,i)=>i[0]-e[0]).forEach(([e,i])=>{wt(l.restEncoder,e),wt(l.restEncoder,i)}),l),ul=(l,t)=>Ho(l,Mr(t.store)),cl=(l,t=new Bo)=>(l instanceof Map?Ho(t,l):ul(t,l),t.toUint8Array()),fl=l=>cl(l,new qo);class hl{constructor(){this.l=[]}}const Ji=()=>new hl,Qi=(l,t)=>l.l.push(t),to=(l,t)=>{const e=l.l,i=e.length;l.l=e.filter(u=>t!==u),i===l.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},zo=(l,t,e)=>ci(l.l,[t,e]);class mn{constructor(t,e){this.client=t,this.clock=e}}const vn=(l,t)=>l===t||l!==null&&t!==null&&l.client===t.client&&l.clock===t.clock,At=(l,t)=>new mn(l,t),Vo=l=>{for(const[t,e]of l.doc.share.entries())if(e===l)return t;throw ge()};class Wo{constructor(t,e,i,u=0){this.type=t,this.tname=e,this.item=i,this.assoc=u}}const eo=l=>new Wo(l.type==null?null:At(l.type.client,l.type.clock),l.tname||null,l.item==null?null:At(l.item.client,l.item.clock),l.assoc==null?0:l.assoc);class dl{constructor(t,e,i=0){this.type=t,this.index=e,this.assoc=i}}const pl=(l,t,e=0)=>new dl(l,t,e),sr=(l,t,e)=>{let i=null,u=null;return l._item===null?u=Vo(l):i=At(l._item.id.client,l._item.id.clock),new Wo(i,u,t,e)},no=(l,t,e=0)=>{let i=l._start;if(e<0){if(t===0)return sr(l,null,e);t--}for(;i!==null;){if(!i.deleted&&i.countable){if(i.length>t)return sr(l,At(i.id.client,i.id.clock+t),e);t-=i.length}if(i.right===null&&e<0)return sr(l,i.lastId,e);i=i.right}return sr(l,null,e)},ro=(l,t)=>{const e=t.store,i=l.item,u=l.type,m=l.tname,w=l.assoc;let y=null,h=0;if(i!==null){if(Vt(e,i.client)<=i.clock)return null;const _=fo(e,i),b=_.item;if(!(b instanceof Ut))return null;if(y=b.parent,y._item===null||!y._item.deleted){h=b.deleted||!b.countable?0:_.diff+(w>=0?0:1);let r=b.left;for(;r!==null;)!r.deleted&&r.countable&&(h+=r.length),r=r.left}}else{if(m!==null)y=t.get(m);else if(u!==null){if(Vt(e,u.client)<=u.clock)return null;const{item:_}=fo(e,u);if(_ instanceof Ut&&_.content instanceof De)y=_.content.type;else return null}else throw ge();w>=0?h=y._length:h=0}return pl(y,h,l.assoc)},io=(l,t)=>l===t||l!==null&&t!==null&&l.tname===t.tname&&vn(l.item,t.item)&&vn(l.type,t.type)&&l.assoc===t.assoc,In=(l,t)=>t===void 0?!l.deleted:t.sv.has(l.id.client)&&(t.sv.get(l.id.client)||0)>l.id.clock&&!Mo(t.ds,l.id),ni=(l,t)=>{const e=se(l.meta,ni,on),i=l.doc.store;e.has(t)||(t.sv.forEach((u,m)=>{u<Vt(i,m)&&Xe(l,At(m,u))}),ei(l,t.ds,u=>{}),e.add(t))};class Ko{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Mr=l=>{const t=new Map;return l.clients.forEach((e,i)=>{const u=e[e.length-1];t.set(i,u.id.clock+u.length)}),t},Vt=(l,t)=>{const e=l.clients.get(t);if(e===void 0)return 0;const i=e[e.length-1];return i.id.clock+i.length},$o=(l,t)=>{let e=l.clients.get(t.id.client);if(e===void 0)e=[],l.clients.set(t.id.client,e);else{const i=e[e.length-1];if(i.id.clock+i.length!==t.id.clock)throw ge()}e.push(t)},Re=(l,t)=>{let e=0,i=l.length-1,u=l[i],m=u.id.clock;if(m===t)return i;let w=xe(t/(m+u.length-1)*i);for(;e<=i;){if(u=l[w],m=u.id.clock,m<=t){if(t<m+u.length)return w;e=w+1}else i=w-1;w=xe((e+i)/2)}throw ge()},gl=(l,t)=>{const e=l.clients.get(t.client);return e[Re(e,t.clock)]},pr=gl,ri=(l,t,e)=>{const i=Re(t,e),u=t[i];return u.id.clock<e&&u instanceof Ut?(t.splice(i+1,0,kr(l,u,e-u.id.clock)),i+1):i},Xe=(l,t)=>{const e=l.doc.store.clients.get(t.client);return e[ri(l,e,t.clock)]},oo=(l,t,e)=>{const i=t.clients.get(e.client),u=Re(i,e.clock),m=i[u];return e.clock!==m.id.clock+m.length-1&&m.constructor!==re&&i.splice(u+1,0,kr(l,m,e.clock-m.id.clock+1)),m},yl=(l,t,e)=>{const i=l.clients.get(t.id.client);i[Re(i,t.id.clock)]=e},Go=(l,t,e,i,u)=>{if(i===0)return;const m=e+i;let w=ri(l,t,e),y;do y=t[w++],m<y.id.clock+y.length&&ri(l,t,m),u(y);while(w<t.length&&t[w].id.clock<m)};class vl{constructor(t,e,i){this.doc=t,this.deleteSet=new $n,this.beforeState=Mr(t.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=e,this.meta=new Map,this.local=i,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set}}const so=(l,t)=>t.deleteSet.clients.size===0&&!Ms(t.afterState,(e,i)=>t.beforeState.get(i)!==e)?!1:(_i(t.deleteSet),nl(l,t),Tn(l,t.deleteSet),!0),ao=(l,t,e)=>{const i=t._item;(i===null||i.id.clock<(l.beforeState.get(i.id.client)||0)&&!i.deleted)&&se(l.changed,t,on).add(e)},gr=(l,t)=>{const e=l[t-1],i=l[t];e.deleted===i.deleted&&e.constructor===i.constructor&&e.mergeWith(i)&&(l.splice(t,1),i instanceof Ut&&i.parentSub!==null&&i.parent._map.get(i.parentSub)===i&&i.parent._map.set(i.parentSub,e))},ml=(l,t,e)=>{for(const[i,u]of l.clients.entries()){const m=t.clients.get(i);for(let w=u.length-1;w>=0;w--){const y=u[w],h=y.clock+y.len;for(let _=Re(m,y.clock),b=m[_];_<m.length&&b.id.clock<h;b=m[++_]){const r=m[_];if(y.clock+y.len<=r.id.clock)break;r instanceof Ut&&r.deleted&&!r.keep&&e(r)&&r.gc(t,!1)}}}},bl=(l,t)=>{l.clients.forEach((e,i)=>{const u=t.clients.get(i);for(let m=e.length-1;m>=0;m--){const w=e[m],y=li(u.length-1,1+Re(u,w.clock+w.len-1));for(let h=y,_=u[h];h>0&&_.id.clock>=w.clock;_=u[--h])gr(u,h)}})},Yo=(l,t)=>{if(t<l.length){const e=l[t],i=e.doc,u=i.store,m=e.deleteSet,w=e._mergeStructs;try{_i(m),e.afterState=Mr(e.doc.store),i.emit("beforeObserverCalls",[e,i]);const y=[];e.changed.forEach((h,_)=>y.push(()=>{(_._item===null||!_._item.deleted)&&_._callObserver(e,h)})),y.push(()=>{e.changedParentTypes.forEach((h,_)=>y.push(()=>{(_._item===null||!_._item.deleted)&&(h=h.filter(b=>b.target._item===null||!b.target._item.deleted),h.forEach(b=>{b.currentTarget=_}),h.sort((b,r)=>b.path.length-r.path.length),zo(_._dEH,h,e))})),y.push(()=>i.emit("afterTransaction",[e,i]))}),ci(y,[])}finally{i.gc&&ml(m,u,i.gcFilter),bl(m,u),e.afterState.forEach((b,r)=>{const n=e.beforeState.get(r)||0;if(n!==b){const a=u.clients.get(r),f=fn(Re(a,n),1);for(let v=a.length-1;v>=f;v--)gr(a,v)}});for(let b=0;b<w.length;b++){const{client:r,clock:n}=w[b].id,a=u.clients.get(r),f=Re(a,n);f+1<a.length&&gr(a,f+1),f>0&&gr(a,f)}if(!e.local&&e.afterState.get(i.clientID)!==e.beforeState.get(i.clientID)&&(Lo(mi,oe,"[yjs] ",an,Ro,"Changed the client-id because another client seems to be using it."),i.clientID=Io()),i.emit("afterTransactionCleanup",[e,i]),i._observers.has("update")){const b=new Gn;so(b,e)&&i.emit("update",[b.toUint8Array(),e.origin,i,e])}if(i._observers.has("updateV2")){const b=new ln;so(b,e)&&i.emit("updateV2",[b.toUint8Array(),e.origin,i,e])}const{subdocsAdded:y,subdocsLoaded:h,subdocsRemoved:_}=e;(y.size>0||_.size>0||h.size>0)&&(y.forEach(b=>{b.clientID=i.clientID,b.collectionid==null&&(b.collectionid=i.collectionid),i.subdocs.add(b)}),_.forEach(b=>i.subdocs.delete(b)),i.emit("subdocs",[{loaded:h,added:y,removed:_},i,e]),_.forEach(b=>b.destroy())),l.length<=t+1?(i._transactionCleanups=[],i.emit("afterAllTransactions",[i,l])):Yo(l,t+1)}}},Pt=(l,t,e=null,i=!0)=>{const u=l._transactionCleanups;let m=!1,w=null;l._transaction===null&&(m=!0,l._transaction=new vl(l,e,i),u.push(l._transaction),u.length===1&&l.emit("beforeAllTransactions",[l]),l.emit("beforeTransaction",[l._transaction,l]));try{w=t(l._transaction)}finally{if(m){const y=l._transaction===u[0];l._transaction=null,y&&Yo(u,0)}}return w};function*_l(l){const t=Ot(l.restDecoder);for(let e=0;e<t;e++){const i=Ot(l.restDecoder),u=l.readClient();let m=Ot(l.restDecoder);for(let w=0;w<i;w++){const y=l.readInfo();if(y===10){const h=Ot(l.restDecoder);yield new ie(At(u,m),h),m+=h}else if(Rr&y){const h=(y&(qe|ne))===0,_=new Ut(At(u,m),null,(y&ne)===ne?l.readLeftID():null,null,(y&qe)===qe?l.readRightID():null,h?l.readParentInfo()?l.readString():l.readLeftID():null,h&&(y&Bn)===Bn?l.readString():null,ds(l,y));yield _,m+=_.length}else{const h=l.readLen();yield new re(At(u,m),h),m+=h}}}}class Oi{constructor(t,e){this.gen=_l(t),this.curr=null,this.done=!1,this.filterSkips=e,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===ie);return this.curr}}class Si{constructor(t){this.currClient=0,this.startClock=0,this.written=0,this.encoder=t,this.clientStructs=[]}}const wl=l=>br(l,jo,Gn),El=(l,t)=>{if(l.constructor===re){const{client:e,clock:i}=l.id;return new re(At(e,i+t),l.length-t)}else if(l.constructor===ie){const{client:e,clock:i}=l.id;return new ie(At(e,i+t),l.length-t)}else{const e=l,{client:i,clock:u}=e.id;return new Ut(At(i,u+t),null,At(i,u+t-1),null,e.rightOrigin,e.parent,e.parentSub,e.content.splice(t))}},br=(l,t=Sn,e=ln)=>{if(l.length===1)return l[0];const i=l.map(b=>new t(Le(b)));let u=i.map(b=>new Oi(b,!0)),m=null;const w=new e,y=new Si(w);for(;u=u.filter(n=>n.curr!==null),u.sort((n,a)=>{if(n.curr.id.client===a.curr.id.client){const f=n.curr.id.clock-a.curr.id.clock;return f===0?n.curr.constructor===a.curr.constructor?0:n.curr.constructor===ie?1:-1:f}else return a.curr.id.client-n.curr.id.client}),u.length!==0;){const b=u[0],r=b.curr.id.client;if(m!==null){let n=b.curr,a=!1;for(;n!==null&&n.id.clock+n.length<=m.struct.id.clock+m.struct.length&&n.id.client>=m.struct.id.client;)n=b.next(),a=!0;if(n===null||n.id.client!==r||a&&n.id.clock>m.struct.id.clock+m.struct.length)continue;if(r!==m.struct.id.client)Ge(y,m.struct,m.offset),m={struct:n,offset:0},b.next();else if(m.struct.id.clock+m.struct.length<n.id.clock)if(m.struct.constructor===ie)m.struct.length=n.id.clock+n.length-m.struct.id.clock;else{Ge(y,m.struct,m.offset);const f=n.id.clock-m.struct.id.clock-m.struct.length;m={struct:new ie(At(r,m.struct.id.clock+m.struct.length),f),offset:0}}else{const f=m.struct.id.clock+m.struct.length-n.id.clock;f>0&&(m.struct.constructor===ie?m.struct.length-=f:n=El(n,f)),m.struct.mergeWith(n)||(Ge(y,m.struct,m.offset),m={struct:n,offset:0},b.next())}}else m={struct:b.curr,offset:0},b.next();for(let n=b.curr;n!==null&&n.id.client===r&&n.id.clock===m.struct.id.clock+m.struct.length&&n.constructor!==ie;n=b.next())Ge(y,m.struct,m.offset),m={struct:n,offset:0}}m!==null&&(Ge(y,m.struct,m.offset),m=null),ki(y);const h=i.map(b=>wi(b)),_=Ya(h);return Tn(w,_),w.toUint8Array()},Ol=(l,t,e=Sn,i=ln)=>{const u=Uo(t),m=new i,w=new Si(m),y=new e(Le(l)),h=new Oi(y,!1);for(;h.curr;){const b=h.curr,r=b.id.client,n=u.get(r)||0;if(h.curr.constructor===ie){h.next();continue}if(b.id.clock+b.length>n)for(Ge(w,b,fn(n-b.id.clock,0)),h.next();h.curr&&h.curr.id.client===r;)Ge(w,h.curr,0),h.next();else for(;h.curr&&h.curr.id.client===r&&h.curr.id.clock+h.curr.length<=n;)h.next()}ki(w);const _=wi(y);return Tn(m,_),m.toUint8Array()},Zo=l=>{l.written>0&&(l.clientStructs.push({written:l.written,restEncoder:qt(l.encoder.restEncoder)}),l.encoder.restEncoder=Yt(),l.written=0)},Ge=(l,t,e)=>{l.written>0&&l.currClient!==t.id.client&&Zo(l),l.written===0&&(l.currClient=t.id.client,l.encoder.writeClient(t.id.client),wt(l.encoder.restEncoder,t.id.clock+e)),t.write(l.encoder,e),l.written++},ki=l=>{Zo(l);const t=l.encoder.restEncoder;wt(t,l.clientStructs.length);for(let e=0;e<l.clientStructs.length;e++){const i=l.clientStructs[e];wt(t,i.written),Lr(t,i.restEncoder)}},Sl=(l,t,e,i)=>{const u=new e(Le(l)),m=new Oi(u,!1),w=new i,y=new Si(w);for(let _=m.curr;_!==null;_=m.next())Ge(y,t(_),0);ki(y);const h=wi(u);return Tn(w,h),w.toUint8Array()},kl=l=>Sl(l,ea,Sn,Gn);class Ir{constructor(t,e){this.target=t,this.currentTarget=t,this.transaction=e,this._changes=null,this._keys=null,this._delta=null}get path(){return Al(this.currentTarget,this.target)}deletes(t){return Mo(this.transaction.deleteSet,t.id)}get keys(){if(this._keys===null){const t=new Map,e=this.target;this.transaction.changed.get(e).forEach(u=>{if(u!==null){const m=e._map.get(u);let w,y;if(this.adds(m)){let h=m.left;for(;h!==null&&this.adds(h);)h=h.left;if(this.deletes(m))if(h!==null&&this.deletes(h))w="delete",y=Br(h.content.getContent());else return;else h!==null&&this.deletes(h)?(w="update",y=Br(h.content.getContent())):(w="add",y=void 0)}else if(this.deletes(m))w="delete",y=Br(m.content.getContent());else return;t.set(u,{action:w,oldValue:y})}}),this._keys=t}return this._keys}get delta(){return this.changes.delta}adds(t){return t.id.clock>=(this.transaction.beforeState.get(t.id.client)||0)}get changes(){let t=this._changes;if(t===null){const e=this.target,i=on(),u=on(),m=[];if(t={added:i,deleted:u,delta:m,keys:this.keys},this.transaction.changed.get(e).has(null)){let y=null;const h=()=>{y&&m.push(y)};for(let _=e._start;_!==null;_=_.right)_.deleted?this.deletes(_)&&!this.adds(_)&&((y===null||y.delete===void 0)&&(h(),y={delete:0}),y.delete+=_.length,u.add(_)):this.adds(_)?((y===null||y.insert===void 0)&&(h(),y={insert:[]}),y.insert=y.insert.concat(_.content.getContent()),i.add(_)):((y===null||y.retain===void 0)&&(h(),y={retain:0}),y.retain+=_.length);y!==null&&y.retain===void 0&&h()}this._changes=t}return t}}const Al=(l,t)=>{const e=[];for(;t._item!==null&&t!==l;){if(t._item.parentSub!==null)e.unshift(t._item.parentSub);else{let i=0,u=t._item.parent._start;for(;u!==t._item&&u!==null;)u.deleted||i++,u=u.right;e.unshift(i)}t=t._item.parent}return e},Xo=80;let Ai=0;class Tl{constructor(t,e){t.marker=!0,this.p=t,this.index=e,this.timestamp=Ai++}}const Cl=l=>{l.timestamp=Ai++},Jo=(l,t,e)=>{l.p.marker=!1,l.p=t,t.marker=!0,l.index=e,l.timestamp=Ai++},xl=(l,t,e)=>{if(l.length>=Xo){const i=l.reduce((u,m)=>u.timestamp<m.timestamp?u:m);return Jo(i,t,e),i}else{const i=new Tl(t,e);return l.push(i),i}},Pr=(l,t)=>{if(l._start===null||t===0||l._searchMarker===null)return null;const e=l._searchMarker.length===0?null:l._searchMarker.reduce((m,w)=>fr(t-m.index)<fr(t-w.index)?m:w);let i=l._start,u=0;for(e!==null&&(i=e.p,u=e.index,Cl(e));i.right!==null&&u<t;){if(!i.deleted&&i.countable){if(t<u+i.length)break;u+=i.length}i=i.right}for(;i.left!==null&&u>t;)i=i.left,!i.deleted&&i.countable&&(u-=i.length);for(;i.left!==null&&i.left.id.client===i.id.client&&i.left.id.clock+i.left.length===i.id.clock;)i=i.left,!i.deleted&&i.countable&&(u-=i.length);return e!==null&&fr(e.index-u)<i.parent.length/Xo?(Jo(e,i,u),e):xl(l._searchMarker,i,u)},Un=(l,t,e)=>{for(let i=l.length-1;i>=0;i--){const u=l[i];if(e>0){let m=u.p;for(m.marker=!1;m&&(m.deleted||!m.countable);)m=m.left,m&&!m.deleted&&m.countable&&(u.index-=m.length);if(m===null||m.marker===!0){l.splice(i,1);continue}u.p=m,m.marker=!0}(t<u.index||e>0&&t===u.index)&&(u.index=fn(t,u.index+e))}},jr=(l,t,e)=>{const i=l,u=t.changedParentTypes;for(;se(u,l,()=>[]).push(e),l._item!==null;)l=l._item.parent;zo(i._eH,e,t)};class Zt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Ji(),this._dEH=Ji(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(t,e){this.doc=t,this._item=e}_copy(){throw Te()}clone(){throw Te()}_write(t){}get _first(){let t=this._start;for(;t!==null&&t.deleted;)t=t.right;return t}_callObserver(t,e){!t.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(t){Qi(this._eH,t)}observeDeep(t){Qi(this._dEH,t)}unobserve(t){to(this._eH,t)}unobserveDeep(t){to(this._dEH,t)}toJSON(){}}const Qo=(l,t,e)=>{t<0&&(t=l._length+t),e<0&&(e=l._length+e);let i=e-t;const u=[];let m=l._start;for(;m!==null&&i>0;){if(m.countable&&!m.deleted){const w=m.content.getContent();if(w.length<=t)t-=w.length;else{for(let y=t;y<w.length&&i>0;y++)u.push(w[y]),i--;t=0}}m=m.right}return u},ts=l=>{const t=[];let e=l._start;for(;e!==null;){if(e.countable&&!e.deleted){const i=e.content.getContent();for(let u=0;u<i.length;u++)t.push(i[u])}e=e.right}return t},Hn=(l,t)=>{let e=0,i=l._start;for(;i!==null;){if(i.countable&&!i.deleted){const u=i.content.getContent();for(let m=0;m<u.length;m++)t(u[m],e++,l)}i=i.right}},es=(l,t)=>{const e=[];return Hn(l,(i,u)=>{e.push(t(i,u,l))}),e},Rl=l=>{let t=l._start,e=null,i=0;return{[Symbol.iterator](){return this},next:()=>{if(e===null){for(;t!==null&&t.deleted;)t=t.right;if(t===null)return{done:!0,value:void 0};e=t.content.getContent(),i=0,t=t.right}const u=e[i++];return e.length<=i&&(e=null),{done:!1,value:u}}}},ns=(l,t)=>{const e=Pr(l,t);let i=l._start;for(e!==null&&(i=e.p,t-=e.index);i!==null;i=i.right)if(!i.deleted&&i.countable){if(t<i.length)return i.content.getContent()[t];t-=i.length}},_r=(l,t,e,i)=>{let u=e;const m=l.doc,w=m.clientID,y=m.store,h=e===null?t._start:e.right;let _=[];const b=()=>{_.length>0&&(u=new Ut(At(w,Vt(y,w)),u,u&&u.lastId,h,h&&h.id,t,null,new cn(_)),u.integrate(l,0),_=[])};i.forEach(r=>{if(r===null)_.push(r);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:_.push(r);break;default:switch(b(),r.constructor){case Uint8Array:case ArrayBuffer:u=new Ut(At(w,Vt(y,w)),u,u&&u.lastId,h,h&&h.id,t,null,new Yn(new Uint8Array(r))),u.integrate(l,0);break;case Cn:u=new Ut(At(w,Vt(y,w)),u,u&&u.lastId,h,h&&h.id,t,null,new Zn(r)),u.integrate(l,0);break;default:if(r instanceof Zt)u=new Ut(At(w,Vt(y,w)),u,u&&u.lastId,h,h&&h.id,t,null,new De(r)),u.integrate(l,0);else throw new Error("Unexpected content type in insert operation")}}}),b()},rs=Je("Length exceeded!"),is=(l,t,e,i)=>{if(e>t._length)throw rs;if(e===0)return t._searchMarker&&Un(t._searchMarker,e,i.length),_r(l,t,null,i);const u=e,m=Pr(t,e);let w=t._start;for(m!==null&&(w=m.p,e-=m.index,e===0&&(w=w.prev,e+=w&&w.countable&&!w.deleted?w.length:0));w!==null;w=w.right)if(!w.deleted&&w.countable){if(e<=w.length){e<w.length&&Xe(l,At(w.id.client,w.id.clock+e));break}e-=w.length}return t._searchMarker&&Un(t._searchMarker,u,i.length),_r(l,t,w,i)},Nl=(l,t,e)=>{let u=(t._searchMarker||[]).reduce((m,w)=>w.index>m.index?w:m,{index:0,p:t._start}).p;if(u)for(;u.right;)u=u.right;return _r(l,t,u,e)},os=(l,t,e,i)=>{if(i===0)return;const u=e,m=i,w=Pr(t,e);let y=t._start;for(w!==null&&(y=w.p,e-=w.index);y!==null&&e>0;y=y.right)!y.deleted&&y.countable&&(e<y.length&&Xe(l,At(y.id.client,y.id.clock+e)),e-=y.length);for(;i>0&&y!==null;)y.deleted||(i<y.length&&Xe(l,At(y.id.client,y.id.clock+i)),y.delete(l),i-=y.length),y=y.right;if(i>0)throw rs;t._searchMarker&&Un(t._searchMarker,u,-m+i)},wr=(l,t,e)=>{const i=t._map.get(e);i!==void 0&&i.delete(l)},Ti=(l,t,e,i)=>{const u=t._map.get(e)||null,m=l.doc,w=m.clientID;let y;if(i==null)y=new cn([i]);else switch(i.constructor){case Number:case Object:case Boolean:case Array:case String:y=new cn([i]);break;case Uint8Array:y=new Yn(i);break;case Cn:y=new Zn(i);break;default:if(i instanceof Zt)y=new De(i);else throw new Error("Unexpected content type")}new Ut(At(w,Vt(m.store,w)),u,u&&u.lastId,null,null,t,e,y).integrate(l,0)},Ci=(l,t)=>{const e=l._map.get(t);return e!==void 0&&!e.deleted?e.content.getContent()[e.length-1]:void 0},ss=l=>{const t={};return l._map.forEach((e,i)=>{e.deleted||(t[i]=e.content.getContent()[e.length-1])}),t},as=(l,t)=>{const e=l._map.get(t);return e!==void 0&&!e.deleted},ar=l=>$a(l.entries(),t=>!t[1].deleted);class Ll extends Ir{constructor(t,e){super(t,e),this._transaction=e}}class bn extends Zt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(t){const e=new bn;return e.push(t),e}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new bn}clone(){const t=new bn;return t.insert(0,this.toArray().map(e=>e instanceof Zt?e.clone():e)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}_callObserver(t,e){super._callObserver(t,e),jr(this,t,new Ll(this,t))}insert(t,e){this.doc!==null?Pt(this.doc,i=>{is(i,this,t,e)}):this._prelimContent.splice(t,0,...e)}push(t){this.doc!==null?Pt(this.doc,e=>{Nl(e,this,t)}):this._prelimContent.push(...t)}unshift(t){this.insert(0,t)}delete(t,e=1){this.doc!==null?Pt(this.doc,i=>{os(i,this,t,e)}):this._prelimContent.splice(t,e)}get(t){return ns(this,t)}toArray(){return ts(this)}slice(t=0,e=this.length){return Qo(this,t,e)}toJSON(){return this.map(t=>t instanceof Zt?t.toJSON():t)}map(t){return es(this,t)}forEach(t){Hn(this,t)}[Symbol.iterator](){return Rl(this)}_write(t){t.writeTypeRef(eu)}}const Dl=l=>new bn;class Ml extends Ir{constructor(t,e,i){super(t,e),this.keysChanged=i}}class kn extends Zt{constructor(t){super(),this._prelimContent=null,t===void 0?this._prelimContent=new Map:this._prelimContent=new Map(t)}_integrate(t,e){super._integrate(t,e),this._prelimContent.forEach((i,u)=>{this.set(u,i)}),this._prelimContent=null}_copy(){return new kn}clone(){const t=new kn;return this.forEach((e,i)=>{t.set(i,e instanceof Zt?e.clone():e)}),t}_callObserver(t,e){jr(this,t,new Ml(this,t,e))}toJSON(){const t={};return this._map.forEach((e,i)=>{if(!e.deleted){const u=e.content.getContent()[e.length-1];t[i]=u instanceof Zt?u.toJSON():u}}),t}get size(){return[...ar(this._map)].length}keys(){return Wr(ar(this._map),t=>t[0])}values(){return Wr(ar(this._map),t=>t[1].content.getContent()[t[1].length-1])}entries(){return Wr(ar(this._map),t=>[t[0],t[1].content.getContent()[t[1].length-1]])}forEach(t){this._map.forEach((e,i)=>{e.deleted||t(e.content.getContent()[e.length-1],i,this)})}[Symbol.iterator](){return this.entries()}delete(t){this.doc!==null?Pt(this.doc,e=>{wr(e,this,t)}):this._prelimContent.delete(t)}set(t,e){return this.doc!==null?Pt(this.doc,i=>{Ti(i,this,t,e)}):this._prelimContent.set(t,e),e}get(t){return Ci(this,t)}has(t){return as(this,t)}clear(){this.doc!==null?Pt(this.doc,t=>{this.forEach(function(e,i,u){wr(t,u,i)})}):this._prelimContent.clear()}_write(t){t.writeTypeRef(nu)}}const Il=l=>new kn,Ye=(l,t)=>l===t||typeof l=="object"&&typeof t=="object"&&l&&t&&Qs(l,t);class ii{constructor(t,e,i,u){this.left=t,this.right=e,this.index=i,this.currentAttributes=u}forward(){switch(this.right===null&&ge(),this.right.content.constructor){case Wt:this.right.deleted||xn(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const lo=(l,t,e)=>{for(;t.right!==null&&e>0;){switch(t.right.content.constructor){case Wt:t.right.deleted||xn(t.currentAttributes,t.right.content);break;default:t.right.deleted||(e<t.right.length&&Xe(l,At(t.right.id.client,t.right.id.clock+e)),t.index+=t.right.length,e-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},lr=(l,t,e)=>{const i=new Map,u=Pr(t,e);if(u){const m=new ii(u.p.left,u.p,u.index,i);return lo(l,m,e-u.index)}else{const m=new ii(null,t._start,0,i);return lo(l,m,e)}},ls=(l,t,e,i)=>{for(;e.right!==null&&(e.right.deleted===!0||e.right.content.constructor===Wt&&Ye(i.get(e.right.content.key),e.right.content.value));)e.right.deleted||i.delete(e.right.content.key),e.forward();const u=l.doc,m=u.clientID;i.forEach((w,y)=>{const h=e.left,_=e.right,b=new Ut(At(m,Vt(u.store,m)),h,h&&h.lastId,_,_&&_.id,t,null,new Wt(y,w));b.integrate(l,0),e.right=b,e.forward()})},xn=(l,t)=>{const{key:e,value:i}=t;i===null?l.delete(e):l.set(e,i)},us=(l,t)=>{for(;l.right!==null;){if(!(l.right.deleted||l.right.content.constructor===Wt&&Ye(t[l.right.content.key]||null,l.right.content.value)))break;l.forward()}},cs=(l,t,e,i)=>{const u=l.doc,m=u.clientID,w=new Map;for(const y in i){const h=i[y],_=e.currentAttributes.get(y)||null;if(!Ye(_,h)){w.set(y,_);const{left:b,right:r}=e;e.right=new Ut(At(m,Vt(u.store,m)),b,b&&b.lastId,r,r&&r.id,t,null,new Wt(y,h)),e.right.integrate(l,0),e.forward()}}return w},Kr=(l,t,e,i,u)=>{e.currentAttributes.forEach((n,a)=>{u[a]===void 0&&(u[a]=null)});const m=l.doc,w=m.clientID;us(e,u);const y=cs(l,t,e,u),h=i.constructor===String?new Ne(i):i instanceof Zt?new De(i):new hn(i);let{left:_,right:b,index:r}=e;t._searchMarker&&Un(t._searchMarker,e.index,h.getLength()),b=new Ut(At(w,Vt(m.store,w)),_,_&&_.lastId,b,b&&b.id,t,null,h),b.integrate(l,0),e.right=b,e.index=r,e.forward(),ls(l,t,e,y)},uo=(l,t,e,i,u)=>{const m=l.doc,w=m.clientID;us(e,u);const y=cs(l,t,e,u);t:for(;e.right!==null&&(i>0||y.size>0&&(e.right.deleted||e.right.content.constructor===Wt));){if(!e.right.deleted)switch(e.right.content.constructor){case Wt:{const{key:h,value:_}=e.right.content,b=u[h];if(b!==void 0){if(Ye(b,_))y.delete(h);else{if(i===0)break t;y.set(h,_)}e.right.delete(l)}else e.currentAttributes.set(h,_);break}default:i<e.right.length&&Xe(l,At(e.right.id.client,e.right.id.clock+i)),i-=e.right.length;break}e.forward()}if(i>0){let h="";for(;i>0;i--)h+=`
`;e.right=new Ut(At(w,Vt(m.store,w)),e.left,e.left&&e.left.lastId,e.right,e.right&&e.right.id,t,null,new Ne(h)),e.right.integrate(l,0),e.forward()}ls(l,t,e,y)},fs=(l,t,e,i,u)=>{let m=t;const w=pe();for(;m&&(!m.countable||m.deleted);){if(!m.deleted&&m.content.constructor===Wt){const _=m.content;w.set(_.key,_)}m=m.right}let y=0,h=!1;for(;t!==m;){if(e===t&&(h=!0),!t.deleted){const _=t.content;switch(_.constructor){case Wt:{const{key:b,value:r}=_,n=i.get(b)||null;(w.get(b)!==_||n===r)&&(t.delete(l),y++,!h&&(u.get(b)||null)===r&&n!==r&&(n===null?u.delete(b):u.set(b,n))),!h&&!t.deleted&&xn(u,_);break}}}t=t.right}return y},Pl=(l,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const e=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Wt){const i=t.content.key;e.has(i)?t.delete(l):e.add(i)}t=t.left}},jl=l=>{let t=0;return Pt(l.doc,e=>{let i=l._start,u=l._start,m=pe();const w=Zr(m);for(;u;){if(u.deleted===!1)switch(u.content.constructor){case Wt:xn(w,u.content);break;default:t+=fs(e,i,u,m,w),m=Zr(w),i=u;break}u=u.right}}),t},co=(l,t,e)=>{const i=e,u=Zr(t.currentAttributes),m=t.right;for(;e>0&&t.right!==null;){if(t.right.deleted===!1)switch(t.right.content.constructor){case De:case hn:case Ne:e<t.right.length&&Xe(l,At(t.right.id.client,t.right.id.clock+e)),e-=t.right.length,t.right.delete(l);break}t.forward()}m&&fs(l,m,t.right,u,t.currentAttributes);const w=(t.left||t.right).parent;return w._searchMarker&&Un(w._searchMarker,t.index,-i+e),t};class ql extends Ir{constructor(t,e,i){super(t,e),this.childListChanged=!1,this.keysChanged=new Set,i.forEach(u=>{u===null?this.childListChanged=!0:this.keysChanged.add(u)})}get changes(){if(this._changes===null){const t={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=t}return this._changes}get delta(){if(this._delta===null){const t=this.target.doc,e=[];Pt(t,i=>{const u=new Map,m=new Map;let w=this.target._start,y=null;const h={};let _="",b=0,r=0;const n=()=>{if(y!==null){let a=null;switch(y){case"delete":r>0&&(a={delete:r}),r=0;break;case"insert":(typeof _=="object"||_.length>0)&&(a={insert:_},u.size>0&&(a.attributes={},u.forEach((f,v)=>{f!==null&&(a.attributes[v]=f)}))),_="";break;case"retain":b>0&&(a={retain:b},Xs(h)||(a.attributes=Gs({},h))),b=0;break}a&&e.push(a),y=null}};for(;w!==null;){switch(w.content.constructor){case De:case hn:this.adds(w)?this.deletes(w)||(n(),y="insert",_=w.content.getContent()[0],n()):this.deletes(w)?(y!=="delete"&&(n(),y="delete"),r+=1):w.deleted||(y!=="retain"&&(n(),y="retain"),b+=1);break;case Ne:this.adds(w)?this.deletes(w)||(y!=="insert"&&(n(),y="insert"),_+=w.content.str):this.deletes(w)?(y!=="delete"&&(n(),y="delete"),r+=w.length):w.deleted||(y!=="retain"&&(n(),y="retain"),b+=w.length);break;case Wt:{const{key:a,value:f}=w.content;if(this.adds(w)){if(!this.deletes(w)){const v=u.get(a)||null;Ye(v,f)?f!==null&&w.delete(i):(y==="retain"&&n(),Ye(f,m.get(a)||null)?delete h[a]:h[a]=f)}}else if(this.deletes(w)){m.set(a,f);const v=u.get(a)||null;Ye(v,f)||(y==="retain"&&n(),h[a]=v)}else if(!w.deleted){m.set(a,f);const v=h[a];v!==void 0&&(Ye(v,f)?v!==null&&w.delete(i):(y==="retain"&&n(),f===null?delete h[a]:h[a]=f))}w.deleted||(y==="insert"&&n(),xn(u,w.content));break}}w=w.right}for(n();e.length>0;){const a=e[e.length-1];if(a.retain!==void 0&&a.attributes===void 0)e.pop();else break}}),this._delta=e}return this._delta}}class An extends Zt{constructor(t){super(),this._pending=t!==void 0?[()=>this.insert(0,t)]:[],this._searchMarker=[]}get length(){return this._length}_integrate(t,e){super._integrate(t,e);try{this._pending.forEach(i=>i())}catch(i){console.error(i)}this._pending=null}_copy(){return new An}clone(){const t=new An;return t.applyDelta(this.toDelta()),t}_callObserver(t,e){super._callObserver(t,e);const i=new ql(this,t,e),u=t.doc;if(jr(this,t,i),!t.local){let m=!1;for(const[w,y]of t.afterState.entries()){const h=t.beforeState.get(w)||0;if(y!==h&&(Go(t,u.store.clients.get(w),h,y,_=>{!_.deleted&&_.content.constructor===Wt&&(m=!0)}),m))break}m||ei(t,t.deleteSet,w=>{w instanceof re||m||w.parent===this&&w.content.constructor===Wt&&(m=!0)}),Pt(u,w=>{m?jl(this):ei(w,w.deleteSet,y=>{y instanceof re||y.parent===this&&Pl(w,y)})})}}toString(){let t="",e=this._start;for(;e!==null;)!e.deleted&&e.countable&&e.content.constructor===Ne&&(t+=e.content.str),e=e.right;return t}toJSON(){return this.toString()}applyDelta(t,{sanitize:e=!0}={}){this.doc!==null?Pt(this.doc,i=>{const u=new ii(null,this._start,0,new Map);for(let m=0;m<t.length;m++){const w=t[m];if(w.insert!==void 0){const y=!e&&typeof w.insert=="string"&&m===t.length-1&&u.right===null&&w.insert.slice(-1)===`
`?w.insert.slice(0,-1):w.insert;(typeof y!="string"||y.length>0)&&Kr(i,this,u,y,w.attributes||{})}else w.retain!==void 0?uo(i,this,u,w.retain,w.attributes||{}):w.delete!==void 0&&co(i,u,w.delete)}}):this._pending.push(()=>this.applyDelta(t))}toDelta(t,e,i){const u=[],m=new Map,w=this.doc;let y="",h=this._start;function _(){if(y.length>0){const r={};let n=!1;m.forEach((f,v)=>{n=!0,r[v]=f});const a={insert:y};n&&(a.attributes=r),u.push(a),y=""}}const b=()=>{for(;h!==null;){if(In(h,t)||e!==void 0&&In(h,e))switch(h.content.constructor){case Ne:{const r=m.get("ychange");t!==void 0&&!In(h,t)?(r===void 0||r.user!==h.id.client||r.type!=="removed")&&(_(),m.set("ychange",i?i("removed",h.id):{type:"removed"})):e!==void 0&&!In(h,e)?(r===void 0||r.user!==h.id.client||r.type!=="added")&&(_(),m.set("ychange",i?i("added",h.id):{type:"added"})):r!==void 0&&(_(),m.delete("ychange")),y+=h.content.str;break}case De:case hn:{_();const r={insert:h.content.getContent()[0]};if(m.size>0){const n={};r.attributes=n,m.forEach((a,f)=>{n[f]=a})}u.push(r);break}case Wt:In(h,t)&&(_(),xn(m,h.content));break}h=h.right}_()};return t||e?Pt(w,r=>{t&&ni(r,t),e&&ni(r,e),b()},"cleanup"):b(),u}insert(t,e,i){if(e.length<=0)return;const u=this.doc;u!==null?Pt(u,m=>{const w=lr(m,this,t);i||(i={},w.currentAttributes.forEach((y,h)=>{i[h]=y})),Kr(m,this,w,e,i)}):this._pending.push(()=>this.insert(t,e,i))}insertEmbed(t,e,i={}){const u=this.doc;u!==null?Pt(u,m=>{const w=lr(m,this,t);Kr(m,this,w,e,i)}):this._pending.push(()=>this.insertEmbed(t,e,i))}delete(t,e){if(e===0)return;const i=this.doc;i!==null?Pt(i,u=>{co(u,lr(u,this,t),e)}):this._pending.push(()=>this.delete(t,e))}format(t,e,i){if(e===0)return;const u=this.doc;u!==null?Pt(u,m=>{const w=lr(m,this,t);w.right!==null&&uo(m,this,w,e,i)}):this._pending.push(()=>this.format(t,e,i))}removeAttribute(t){this.doc!==null?Pt(this.doc,e=>{wr(e,this,t)}):this._pending.push(()=>this.removeAttribute(t))}setAttribute(t,e){this.doc!==null?Pt(this.doc,i=>{Ti(i,this,t,e)}):this._pending.push(()=>this.setAttribute(t,e))}getAttribute(t){return Ci(this,t)}getAttributes(){return ss(this)}_write(t){t.writeTypeRef(ru)}}const Bl=l=>new An;class $r{constructor(t,e=()=>!0){this._filter=e,this._root=t,this._currentNode=t._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let t=this._currentNode,e=t&&t.content&&t.content.type;if(t!==null&&(!this._firstCall||t.deleted||!this._filter(e)))do if(e=t.content.type,!t.deleted&&(e.constructor===zn||e.constructor===un)&&e._start!==null)t=e._start;else for(;t!==null;)if(t.right!==null){t=t.right;break}else t.parent===this._root?t=null:t=t.parent._item;while(t!==null&&(t.deleted||!this._filter(t.content.type)));return this._firstCall=!1,t===null?{value:void 0,done:!0}:(this._currentNode=t,{value:t.content.type,done:!1})}}class un extends Zt{constructor(){super(),this._prelimContent=[]}get firstChild(){const t=this._first;return t?t.content.getContent()[0]:null}_integrate(t,e){super._integrate(t,e),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new un}clone(){const t=new un;return t.insert(0,this.toArray().map(e=>e instanceof Zt?e.clone():e)),t}get length(){return this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(t){return new $r(this,t)}querySelector(t){t=t.toUpperCase();const i=new $r(this,u=>u.nodeName&&u.nodeName.toUpperCase()===t).next();return i.done?null:i.value}querySelectorAll(t){return t=t.toUpperCase(),Ze(new $r(this,e=>e.nodeName&&e.nodeName.toUpperCase()===t))}_callObserver(t,e){jr(this,t,new Hl(this,e,t))}toString(){return es(this,t=>t.toString()).join("")}toJSON(){return this.toString()}toDOM(t=document,e={},i){const u=t.createDocumentFragment();return i!==void 0&&i._createAssociation(u,this),Hn(this,m=>{u.insertBefore(m.toDOM(t,e,i),null)}),u}insert(t,e){this.doc!==null?Pt(this.doc,i=>{is(i,this,t,e)}):this._prelimContent.splice(t,0,...e)}insertAfter(t,e){if(this.doc!==null)Pt(this.doc,i=>{const u=t&&t instanceof Zt?t._item:t;_r(i,this,u,e)});else{const i=this._prelimContent,u=t===null?0:i.findIndex(m=>m===t)+1;if(u===0&&t!==null)throw Je("Reference item not found");i.splice(u,0,...e)}}delete(t,e=1){this.doc!==null?Pt(this.doc,i=>{os(i,this,t,e)}):this._prelimContent.splice(t,e)}toArray(){return ts(this)}push(t){this.insert(this.length,t)}unshift(t){this.insert(0,t)}get(t){return ns(this,t)}slice(t=0,e=this.length){return Qo(this,t,e)}forEach(t){Hn(this,t)}_write(t){t.writeTypeRef(ou)}}const Fl=l=>new un;class zn extends un{constructor(t="UNDEFINED"){super(),this.nodeName=t,this._prelimAttrs=new Map}get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_integrate(t,e){super._integrate(t,e),this._prelimAttrs.forEach((i,u)=>{this.setAttribute(u,i)}),this._prelimAttrs=null}_copy(){return new zn(this.nodeName)}clone(){const t=new zn(this.nodeName),e=this.getAttributes();return Zs(e,(i,u)=>{typeof i=="string"&&t.setAttribute(u,i)}),t.insert(0,this.toArray().map(i=>i instanceof Zt?i.clone():i)),t}toString(){const t=this.getAttributes(),e=[],i=[];for(const y in t)i.push(y);i.sort();const u=i.length;for(let y=0;y<u;y++){const h=i[y];e.push(h+'="'+t[h]+'"')}const m=this.nodeName.toLocaleLowerCase(),w=e.length>0?" "+e.join(" "):"";return`<${m}${w}>${super.toString()}</${m}>`}removeAttribute(t){this.doc!==null?Pt(this.doc,e=>{wr(e,this,t)}):this._prelimAttrs.delete(t)}setAttribute(t,e){this.doc!==null?Pt(this.doc,i=>{Ti(i,this,t,e)}):this._prelimAttrs.set(t,e)}getAttribute(t){return Ci(this,t)}hasAttribute(t){return as(this,t)}getAttributes(){return ss(this)}toDOM(t=document,e={},i){const u=t.createElement(this.nodeName),m=this.getAttributes();for(const w in m){const y=m[w];typeof y=="string"&&u.setAttribute(w,y)}return Hn(this,w=>{u.appendChild(w.toDOM(t,e,i))}),i!==void 0&&i._createAssociation(u,this),u}_write(t){t.writeTypeRef(iu),t.writeKey(this.nodeName)}}const Ul=l=>new zn(l.readKey());class Hl extends Ir{constructor(t,e,i){super(t,i),this.childListChanged=!1,this.attributesChanged=new Set,e.forEach(u=>{u===null?this.childListChanged=!0:this.attributesChanged.add(u)})}}class Er extends kn{constructor(t){super(),this.hookName=t}_copy(){return new Er(this.hookName)}clone(){const t=new Er(this.hookName);return this.forEach((e,i)=>{t.set(i,e)}),t}toDOM(t=document,e={},i){const u=e[this.hookName];let m;return u!==void 0?m=u.createDom(this):m=document.createElement(this.hookName),m.setAttribute("data-yjs-hook",this.hookName),i!==void 0&&i._createAssociation(m,this),m}_write(t){t.writeTypeRef(su),t.writeKey(this.hookName)}}const zl=l=>new Er(l.readKey());class Or extends An{get nextSibling(){const t=this._item?this._item.next:null;return t?t.content.type:null}get prevSibling(){const t=this._item?this._item.prev:null;return t?t.content.type:null}_copy(){return new Or}clone(){const t=new Or;return t.applyDelta(this.toDelta()),t}toDOM(t=document,e,i){const u=t.createTextNode(this.toString());return i!==void 0&&i._createAssociation(u,this),u}toString(){return this.toDelta().map(t=>{const e=[];for(const u in t.attributes){const m=[];for(const w in t.attributes[u])m.push({key:w,value:t.attributes[u][w]});m.sort((w,y)=>w.key<y.key?-1:1),e.push({nodeName:u,attrs:m})}e.sort((u,m)=>u.nodeName<m.nodeName?-1:1);let i="";for(let u=0;u<e.length;u++){const m=e[u];i+=`<${m.nodeName}`;for(let w=0;w<m.attrs.length;w++){const y=m.attrs[w];i+=` ${y.key}="${y.value}"`}i+=">"}i+=t.insert;for(let u=e.length-1;u>=0;u--)i+=`</${e[u].nodeName}>`;return i}).join("")}toJSON(){return this.toString()}_write(t){t.writeTypeRef(au)}}const Vl=l=>new Or;class xi{constructor(t,e){this.id=t,this.length=e}get deleted(){throw Te()}mergeWith(t){return!1}write(t,e,i){throw Te()}integrate(t,e){throw Te()}}const Wl=0;class re extends xi{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,e){e>0&&(this.id.clock+=e,this.length-=e),$o(t.doc.store,this)}write(t,e){t.writeInfo(Wl),t.writeLen(this.length-e)}getMissing(t,e){return null}}class Yn{constructor(t){this.content=t}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Yn(this.content)}splice(t){throw Te()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeBuf(this.content)}getRef(){return 3}}const Kl=l=>new Yn(l.readBuf());class Vn{constructor(t){this.len=t}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Vn(this.len)}splice(t){const e=new Vn(this.len-t);return this.len=t,e}mergeWith(t){return this.len+=t.len,!0}integrate(t,e){mr(t.deleteSet,e.id.client,e.id.clock,this.len),e.markDeleted()}delete(t){}gc(t){}write(t,e){t.writeLen(this.len-e)}getRef(){return 1}}const $l=l=>new Vn(l.readLen()),hs=(l,t)=>new Cn({guid:l,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class Zn{constructor(t){t._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=t;const e={};this.opts=e,t.gc||(e.gc=!1),t.autoLoad&&(e.autoLoad=!0),t.meta!==null&&(e.meta=t.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Zn(hs(this.doc.guid,this.opts))}splice(t){throw Te()}mergeWith(t){return!1}integrate(t,e){this.doc._item=e,t.subdocsAdded.add(this.doc),this.doc.shouldLoad&&t.subdocsLoaded.add(this.doc)}delete(t){t.subdocsAdded.has(this.doc)?t.subdocsAdded.delete(this.doc):t.subdocsRemoved.add(this.doc)}gc(t){}write(t,e){t.writeString(this.doc.guid),t.writeAny(this.opts)}getRef(){return 9}}const Gl=l=>new Zn(hs(l.readString(),l.readAny()));class hn{constructor(t){this.embed=t}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new hn(this.embed)}splice(t){throw Te()}mergeWith(t){return!1}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeJSON(this.embed)}getRef(){return 5}}const Yl=l=>new hn(l.readJSON());class Wt{constructor(t,e){this.key=t,this.value=e}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Wt(this.key,this.value)}splice(t){throw Te()}mergeWith(t){return!1}integrate(t,e){e.parent._searchMarker=null}delete(t){}gc(t){}write(t,e){t.writeKey(this.key),t.writeJSON(this.value)}getRef(){return 6}}const Zl=l=>new Wt(l.readKey(),l.readJSON());class Sr{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Sr(this.arr)}splice(t){const e=new Sr(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const i=this.arr.length;t.writeLen(i-e);for(let u=e;u<i;u++){const m=this.arr[u];t.writeString(m===void 0?"undefined":JSON.stringify(m))}}getRef(){return 2}}const Xl=l=>{const t=l.readLen(),e=[];for(let i=0;i<t;i++){const u=l.readString();u==="undefined"?e.push(void 0):e.push(JSON.parse(u))}return new Sr(e)};class cn{constructor(t){this.arr=t}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new cn(this.arr)}splice(t){const e=new cn(this.arr.slice(t));return this.arr=this.arr.slice(0,t),e}mergeWith(t){return this.arr=this.arr.concat(t.arr),!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){const i=this.arr.length;t.writeLen(i-e);for(let u=e;u<i;u++){const m=this.arr[u];t.writeAny(m)}}getRef(){return 8}}const Jl=l=>{const t=l.readLen(),e=[];for(let i=0;i<t;i++)e.push(l.readAny());return new cn(e)};class Ne{constructor(t){this.str=t}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Ne(this.str)}splice(t){const e=new Ne(this.str.slice(t));this.str=this.str.slice(0,t);const i=this.str.charCodeAt(t-1);return i>=55296&&i<=56319&&(this.str=this.str.slice(0,t-1)+"",e.str=""+e.str.slice(1)),e}mergeWith(t){return this.str+=t.str,!0}integrate(t,e){}delete(t){}gc(t){}write(t,e){t.writeString(e===0?this.str:this.str.slice(e))}getRef(){return 4}}const Ql=l=>new Ne(l.readString()),tu=[Dl,Il,Bl,Ul,Fl,zl,Vl],eu=0,nu=1,ru=2,iu=3,ou=4,su=5,au=6;class De{constructor(t){this.type=t}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new De(this.type._copy())}splice(t){throw Te()}mergeWith(t){return!1}integrate(t,e){this.type._integrate(t.doc,e)}delete(t){let e=this.type._start;for(;e!==null;)e.deleted?t._mergeStructs.push(e):e.delete(t),e=e.right;this.type._map.forEach(i=>{i.deleted?t._mergeStructs.push(i):i.delete(t)}),t.changed.delete(this.type)}gc(t){let e=this.type._start;for(;e!==null;)e.gc(t,!0),e=e.right;this.type._start=null,this.type._map.forEach(i=>{for(;i!==null;)i.gc(t,!0),i=i.left}),this.type._map=new Map}write(t,e){this.type._write(t)}getRef(){return 7}}const lu=l=>new De(tu[l.readTypeRef()](l)),fo=(l,t)=>{let e=t,i=0,u;do i>0&&(e=At(e.client,e.clock+i)),u=pr(l,e),i=e.clock-u.id.clock,e=u.redone;while(e!==null&&u instanceof Ut);return{item:u,diff:i}},kr=(l,t,e)=>{const{client:i,clock:u}=t.id,m=new Ut(At(i,u+e),t,At(i,u+e-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(e));return t.deleted&&m.markDeleted(),t.keep&&(m.keep=!0),t.redone!==null&&(m.redone=At(t.redone.client,t.redone.clock+e)),t.right=m,m.right!==null&&(m.right.left=m),l._mergeStructs.push(m),m.parentSub!==null&&m.right===null&&m.parent._map.set(m.parentSub,m),t.length=e,m};class Ut extends xi{constructor(t,e,i,u,m,w,y,h){super(t,h.getLength()),this.origin=i,this.left=e,this.right=u,this.rightOrigin=m,this.parent=w,this.parentSub=y,this.redone=null,this.content=h,this.info=this.content.isCountable()?Hi:0}set marker(t){(this.info&Ur)>0!==t&&(this.info^=Ur)}get marker(){return(this.info&Ur)>0}get keep(){return(this.info&Ui)>0}set keep(t){this.keep!==t&&(this.info^=Ui)}get countable(){return(this.info&Hi)>0}get deleted(){return(this.info&Fr)>0}set deleted(t){this.deleted!==t&&(this.info^=Fr)}markDeleted(){this.info|=Fr}getMissing(t,e){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Vt(e,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Vt(e,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===mn&&this.id.client!==this.parent.client&&this.parent.clock>=Vt(e,this.parent.client))return this.parent.client;if(this.origin&&(this.left=oo(t,e,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Xe(t,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===re||this.right&&this.right.constructor===re)&&(this.parent=null),!this.parent)this.left&&this.left.constructor===Ut&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Ut&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===mn){const i=pr(e,this.parent);i.constructor===re?this.parent=null:this.parent=i.content.type}return null}integrate(t,e){if(e>0&&(this.id.clock+=e,this.left=oo(t,t.doc.store,At(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(e),this.length-=e),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let i=this.left,u;if(i!==null)u=i.right;else if(this.parentSub!==null)for(u=this.parent._map.get(this.parentSub)||null;u!==null&&u.left!==null;)u=u.left;else u=this.parent._start;const m=new Set,w=new Set;for(;u!==null&&u!==this.right;){if(w.add(u),m.add(u),vn(this.origin,u.origin)){if(u.id.client<this.id.client)i=u,m.clear();else if(vn(this.rightOrigin,u.rightOrigin))break}else if(u.origin!==null&&w.has(pr(t.doc.store,u.origin)))m.has(pr(t.doc.store,u.origin))||(i=u,m.clear());else break;u=u.right}this.left=i}if(this.left!==null){const i=this.left.right;this.right=i,this.left.right=this}else{let i;if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start,this.parent._start=this;this.right=i}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(t)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),$o(t.doc.store,this),this.content.integrate(t,this),ao(t,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(t)}else new re(this.id,this.length).integrate(t,0)}get next(){let t=this.right;for(;t!==null&&t.deleted;)t=t.right;return t}get prev(){let t=this.left;for(;t!==null&&t.deleted;)t=t.left;return t}get lastId(){return this.length===1?this.id:At(this.id.client,this.id.clock+this.length-1)}mergeWith(t){if(this.constructor===t.constructor&&vn(t.origin,this.lastId)&&this.right===t&&vn(this.rightOrigin,t.rightOrigin)&&this.id.client===t.id.client&&this.id.clock+this.length===t.id.clock&&this.deleted===t.deleted&&this.redone===null&&t.redone===null&&this.content.constructor===t.content.constructor&&this.content.mergeWith(t.content)){const e=this.parent._searchMarker;return e&&e.forEach(i=>{i.p===t&&(i.p=this,!this.deleted&&this.countable&&(i.index-=this.length))}),t.keep&&(this.keep=!0),this.right=t.right,this.right!==null&&(this.right.left=this),this.length+=t.length,!0}return!1}delete(t){if(!this.deleted){const e=this.parent;this.countable&&this.parentSub===null&&(e._length-=this.length),this.markDeleted(),mr(t.deleteSet,this.id.client,this.id.clock,this.length),ao(t,e,this.parentSub),this.content.delete(t)}}gc(t,e){if(!this.deleted)throw ge();this.content.gc(t),e?yl(t,this,new re(this.id,this.length)):this.content=new Vn(this.length)}write(t,e){const i=e>0?At(this.id.client,this.id.clock+e-1):this.origin,u=this.rightOrigin,m=this.parentSub,w=this.content.getRef()&Rr|(i===null?0:ne)|(u===null?0:qe)|(m===null?0:Bn);if(t.writeInfo(w),i!==null&&t.writeLeftID(i),u!==null&&t.writeRightID(u),i===null&&u===null){const y=this.parent;if(y._item!==void 0){const h=y._item;if(h===null){const _=Vo(y);t.writeParentInfo(!0),t.writeString(_)}else t.writeParentInfo(!1),t.writeLeftID(h.id)}else y.constructor===String?(t.writeParentInfo(!0),t.writeString(y)):y.constructor===mn?(t.writeParentInfo(!1),t.writeLeftID(y)):ge();m!==null&&t.writeString(m)}this.content.write(t,e)}}const ds=(l,t)=>uu[t&Rr](l),uu=[()=>{ge()},$l,Xl,Kl,Ql,Yl,Zl,lu,Jl,Gl,()=>{ge()}],cu=10;class ie extends xi{get deleted(){return!0}delete(){}mergeWith(t){return this.constructor!==t.constructor?!1:(this.length+=t.length,!0)}integrate(t,e){ge()}write(t,e){t.writeInfo(cu),wt(t.restEncoder,this.length-e)}getMissing(t,e){return null}}const ps=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},gs="__ $YJS$ __";ps[gs]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");ps[gs]=!0;const fu=1200,hu=2500,Ar=3e4,oi=l=>{if(l.shouldConnect&&l.ws===null){const t=new WebSocket(l.url),e=l.binaryType;let i=null;e&&(t.binaryType=e),l.ws=t,l.connecting=!0,l.connected=!1,t.onmessage=w=>{l.lastMessageReceived=Fe();const y=w.data,h=typeof y=="string"?JSON.parse(y):y;h&&h.type==="pong"&&(clearTimeout(i),i=setTimeout(m,Ar/2)),l.emit("message",[h,l])};const u=w=>{l.ws!==null&&(l.ws=null,l.connecting=!1,l.connected?(l.connected=!1,l.emit("disconnect",[{type:"disconnect",error:w},l])):l.unsuccessfulReconnects++,setTimeout(oi,li(js(l.unsuccessfulReconnects+1)*fu,hu),l)),clearTimeout(i)},m=()=>{l.ws===t&&l.send({type:"ping"})};t.onclose=()=>u(null),t.onerror=w=>u(w),t.onopen=()=>{l.lastMessageReceived=Fe(),l.connecting=!1,l.connected=!0,l.unsuccessfulReconnects=0,l.emit("connect",[{type:"connect"},l]),i=setTimeout(m,Ar/2)}}};class du extends xr{constructor(t,{binaryType:e}={}){super(),this.url=t,this.ws=null,this.binaryType=e||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval(()=>{this.connected&&Ar<Fe()-this.lastMessageReceived&&this.ws.close()},Ar/2),oi(this)}send(t){this.ws&&this.ws.send(JSON.stringify(t))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,this.ws!==null&&this.ws.close()}connect(){this.shouldConnect=!0,!this.connected&&this.ws===null&&oi(this)}}const ys=new Map;class pu{constructor(t){this.room=t,this.onmessage=null,this._onChange=e=>e.key===t&&this.onmessage!==null&&this.onmessage({data:ko(e.newValue||"")}),Ks(this._onChange)}postMessage(t){vo.setItem(this.room,So(ma(t)))}close(){$s(this._onChange)}}const gu=typeof BroadcastChannel>"u"?pu:BroadcastChannel,Ri=l=>se(ys,l,()=>{const t=on(),e=new gu(l);return e.onmessage=i=>t.forEach(u=>u(i.data,"broadcastchannel")),{bc:e,subs:t}}),yu=(l,t)=>(Ri(l).subs.add(t),t),vu=(l,t)=>{const e=Ri(l),i=e.subs.delete(t);return i&&e.subs.size===0&&(e.bc.close(),ys.delete(l)),i},mu=(l,t,e=null)=>{const i=Ri(l);i.bc.postMessage(t),i.subs.forEach(u=>u(t,e))},bu=()=>{let l=!0;return(t,e)=>{if(l){l=!1;try{t()}finally{l=!0}}else e!==void 0&&e()}};var he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ni(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function ur(l){throw new Error('Could not dynamically require "'+l+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vs={exports:{}};(function(l,t){(function(e){l.exports=e()})(function(){var e=Math.floor,i=Math.abs,u=Math.pow;return function(){function m(w,y,h){function _(n,a){if(!y[n]){if(!w[n]){var f=typeof ur=="function"&&ur;if(!a&&f)return f(n,!0);if(b)return b(n,!0);var v=new Error("Cannot find module '"+n+"'");throw v.code="MODULE_NOT_FOUND",v}var E=y[n]={exports:{}};w[n][0].call(E.exports,function(g){var d=w[n][1][g];return _(d||g)},E,E.exports,m,w,y,h)}return y[n].exports}for(var b=typeof ur=="function"&&ur,r=0;r<h.length;r++)_(h[r]);return _}return m}()({1:[function(m,w,y){function h(s){var p=s.length;if(0<p%4)throw new Error("Invalid string. Length must be a multiple of 4");var S=s.indexOf("=");S===-1&&(S=p);var O=S===p?0:4-S%4;return[S,O]}function _(s,p,S){return 3*(p+S)/4-S}function b(s){var p,S,O=h(s),C=O[0],L=O[1],k=new E(_(s,C,L)),A=0,x=0<L?C-4:C;for(S=0;S<x;S+=4)p=v[s.charCodeAt(S)]<<18|v[s.charCodeAt(S+1)]<<12|v[s.charCodeAt(S+2)]<<6|v[s.charCodeAt(S+3)],k[A++]=255&p>>16,k[A++]=255&p>>8,k[A++]=255&p;return L===2&&(p=v[s.charCodeAt(S)]<<2|v[s.charCodeAt(S+1)]>>4,k[A++]=255&p),L===1&&(p=v[s.charCodeAt(S)]<<10|v[s.charCodeAt(S+1)]<<4|v[s.charCodeAt(S+2)]>>2,k[A++]=255&p>>8,k[A++]=255&p),k}function r(s){return f[63&s>>18]+f[63&s>>12]+f[63&s>>6]+f[63&s]}function n(s,p,S){for(var O,C=[],L=p;L<S;L+=3)O=(16711680&s[L]<<16)+(65280&s[L+1]<<8)+(255&s[L+2]),C.push(r(O));return C.join("")}function a(s){for(var p,S=s.length,O=S%3,C=[],L=16383,k=0,A=S-O;k<A;k+=L)C.push(n(s,k,k+L>A?A:k+L));return O===1?(p=s[S-1],C.push(f[p>>2]+f[63&p<<4]+"==")):O===2&&(p=(s[S-2]<<8)+s[S-1],C.push(f[p>>10]+f[63&p>>4]+f[63&p<<2]+"=")),C.join("")}y.byteLength=function(s){var p=h(s),S=p[0],O=p[1];return 3*(S+O)/4-O},y.toByteArray=b,y.fromByteArray=a;for(var f=[],v=[],E=typeof Uint8Array>"u"?Array:Uint8Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,o=g.length;d<o;++d)f[d]=g[d],v[g.charCodeAt(d)]=d;v[45]=62,v[95]=63},{}],2:[function(){},{}],3:[function(m,w,y){(function(){(function(){var h=String.fromCharCode,_=Math.min;function b(c){if(2147483647<c)throw new RangeError('The value "'+c+'" is invalid for option "size"');var T=new Uint8Array(c);return T.__proto__=r.prototype,T}function r(c,T,R){if(typeof c=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(c)}return n(c,T,R)}function n(c,T,R){if(typeof c=="string")return E(c,T);if(ArrayBuffer.isView(c))return g(c);if(c==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(X(c,ArrayBuffer)||c&&X(c.buffer,ArrayBuffer))return d(c,T,R);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var W=c.valueOf&&c.valueOf();if(W!=null&&W!==c)return r.from(W,T,R);var G=o(c);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return r.from(c[Symbol.toPrimitive]("string"),T,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}function a(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(0>c)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function f(c,T,R){return a(c),0>=c||T===void 0?b(c):typeof R=="string"?b(c).fill(T,R):b(c).fill(T)}function v(c){return a(c),b(0>c?0:0|s(c))}function E(c,T){if((typeof T!="string"||T==="")&&(T="utf8"),!r.isEncoding(T))throw new TypeError("Unknown encoding: "+T);var R=0|p(c,T),W=b(R),G=W.write(c,T);return G!==R&&(W=W.slice(0,G)),W}function g(c){for(var T=0>c.length?0:0|s(c.length),R=b(T),W=0;W<T;W+=1)R[W]=255&c[W];return R}function d(c,T,R){if(0>T||c.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<T+(R||0))throw new RangeError('"length" is outside of buffer bounds');var W;return W=T===void 0&&R===void 0?new Uint8Array(c):R===void 0?new Uint8Array(c,T):new Uint8Array(c,T,R),W.__proto__=r.prototype,W}function o(c){if(r.isBuffer(c)){var T=0|s(c.length),R=b(T);return R.length===0||c.copy(R,0,0,T),R}return c.length===void 0?c.type==="Buffer"&&Array.isArray(c.data)?g(c.data):void 0:typeof c.length!="number"||it(c.length)?b(0):g(c)}function s(c){if(c>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|c}function p(c,T){if(r.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||X(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);var R=c.length,W=2<arguments.length&&arguments[2]===!0;if(!W&&R===0)return 0;for(var G=!1;;)switch(T){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return nt(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*R;case"hex":return R>>>1;case"base64":return ct(c).length;default:if(G)return W?-1:nt(c).length;T=(""+T).toLowerCase(),G=!0}}function S(c,T,R){var W=!1;if((T===void 0||0>T)&&(T=0),T>this.length||((R===void 0||R>this.length)&&(R=this.length),0>=R)||(R>>>=0,T>>>=0,R<=T))return"";for(c||(c="utf8");;)switch(c){case"hex":return q(this,T,R);case"utf8":case"utf-8":return $(this,T,R);case"ascii":return K(this,T,R);case"latin1":case"binary":return V(this,T,R);case"base64":return U(this,T,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,T,R);default:if(W)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),W=!0}}function O(c,T,R){var W=c[T];c[T]=c[R],c[R]=W}function C(c,T,R,W,G){if(c.length===0)return-1;if(typeof R=="string"?(W=R,R=0):2147483647<R?R=2147483647:-2147483648>R&&(R=-2147483648),R=+R,it(R)&&(R=G?0:c.length-1),0>R&&(R=c.length+R),R>=c.length){if(G)return-1;R=c.length-1}else if(0>R)if(G)R=0;else return-1;if(typeof T=="string"&&(T=r.from(T,W)),r.isBuffer(T))return T.length===0?-1:L(c,T,R,W,G);if(typeof T=="number")return T&=255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(c,T,R):Uint8Array.prototype.lastIndexOf.call(c,T,R):L(c,[T],R,W,G);throw new TypeError("val must be string, number or Buffer")}function L(c,T,R,W,G){function Q(ye,ve){return ut===1?ye[ve]:ye.readUInt16BE(ve*ut)}var ut=1,vt=c.length,yt=T.length;if(W!==void 0&&(W=(W+"").toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(2>c.length||2>T.length)return-1;ut=2,vt/=2,yt/=2,R/=2}var _t;if(G){var pt=-1;for(_t=R;_t<vt;_t++)if(Q(c,_t)!==Q(T,pt===-1?0:_t-pt))pt!==-1&&(_t-=_t-pt),pt=-1;else if(pt===-1&&(pt=_t),_t-pt+1===yt)return pt*ut}else for(R+yt>vt&&(R=vt-yt),_t=R;0<=_t;_t--){for(var Lt=!0,Xt=0;Xt<yt;Xt++)if(Q(c,_t+Xt)!==Q(T,Xt)){Lt=!1;break}if(Lt)return _t}return-1}function k(c,T,R,W){R=+R||0;var G=c.length-R;W?(W=+W,W>G&&(W=G)):W=G;var Q=T.length;W>Q/2&&(W=Q/2);for(var ut,vt=0;vt<W;++vt){if(ut=parseInt(T.substr(2*vt,2),16),it(ut))return vt;c[R+vt]=ut}return vt}function A(c,T,R,W){return gt(nt(T,c.length-R),c,R,W)}function x(c,T,R,W){return gt(ot(T),c,R,W)}function N(c,T,R,W){return x(c,T,R,W)}function I(c,T,R,W){return gt(ct(T),c,R,W)}function P(c,T,R,W){return gt(ft(T,c.length-R),c,R,W)}function U(c,T,R){return T===0&&R===c.length?lt.fromByteArray(c):lt.fromByteArray(c.slice(T,R))}function $(c,T,R){R=_(c.length,R);for(var W=[],G=T;G<R;){var Q=c[G],ut=null,vt=239<Q?4:223<Q?3:191<Q?2:1;if(G+vt<=R){var yt,_t,pt,Lt;vt===1?128>Q&&(ut=Q):vt===2?(yt=c[G+1],(192&yt)==128&&(Lt=(31&Q)<<6|63&yt,127<Lt&&(ut=Lt))):vt===3?(yt=c[G+1],_t=c[G+2],(192&yt)==128&&(192&_t)==128&&(Lt=(15&Q)<<12|(63&yt)<<6|63&_t,2047<Lt&&(55296>Lt||57343<Lt)&&(ut=Lt))):vt===4&&(yt=c[G+1],_t=c[G+2],pt=c[G+3],(192&yt)==128&&(192&_t)==128&&(192&pt)==128&&(Lt=(15&Q)<<18|(63&yt)<<12|(63&_t)<<6|63&pt,65535<Lt&&1114112>Lt&&(ut=Lt)))}ut===null?(ut=65533,vt=1):65535<ut&&(ut-=65536,W.push(55296|1023&ut>>>10),ut=56320|1023&ut),W.push(ut),G+=vt}return et(W)}function et(c){var T=c.length;if(T<=4096)return h.apply(String,c);for(var R="",W=0;W<T;)R+=h.apply(String,c.slice(W,W+=4096));return R}function K(c,T,R){var W="";R=_(c.length,R);for(var G=T;G<R;++G)W+=h(127&c[G]);return W}function V(c,T,R){var W="";R=_(c.length,R);for(var G=T;G<R;++G)W+=h(c[G]);return W}function q(c,T,R){var W=c.length;(!T||0>T)&&(T=0),(!R||0>R||R>W)&&(R=W);for(var G="",Q=T;Q<R;++Q)G+=Y(c[Q]);return G}function H(c,T,R){for(var W=c.slice(T,R),G="",Q=0;Q<W.length;Q+=2)G+=h(W[Q]+256*W[Q+1]);return G}function F(c,T,R){if(c%1!=0||0>c)throw new RangeError("offset is not uint");if(c+T>R)throw new RangeError("Trying to access beyond buffer length")}function Z(c,T,R,W,G,Q){if(!r.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>G||T<Q)throw new RangeError('"value" argument is out of bounds');if(R+W>c.length)throw new RangeError("Index out of range")}function j(c,T,R,W){if(R+W>c.length)throw new RangeError("Index out of range");if(0>R)throw new RangeError("Index out of range")}function D(c,T,R,W,G){return T=+T,R>>>=0,G||j(c,T,R,4),J.write(c,T,R,W,23,4),R+4}function B(c,T,R,W,G){return T=+T,R>>>=0,G||j(c,T,R,8),J.write(c,T,R,W,52,8),R+8}function z(c){if(c=c.split("=")[0],c=c.trim().replace(M,""),2>c.length)return"";for(;c.length%4!=0;)c+="=";return c}function Y(c){return 16>c?"0"+c.toString(16):c.toString(16)}function nt(c,T){T=T||1/0;for(var R,W=c.length,G=null,Q=[],ut=0;ut<W;++ut){if(R=c.charCodeAt(ut),55295<R&&57344>R){if(!G){if(56319<R){-1<(T-=3)&&Q.push(239,191,189);continue}else if(ut+1===W){-1<(T-=3)&&Q.push(239,191,189);continue}G=R;continue}if(56320>R){-1<(T-=3)&&Q.push(239,191,189),G=R;continue}R=(G-55296<<10|R-56320)+65536}else G&&-1<(T-=3)&&Q.push(239,191,189);if(G=null,128>R){if(0>(T-=1))break;Q.push(R)}else if(2048>R){if(0>(T-=2))break;Q.push(192|R>>6,128|63&R)}else if(65536>R){if(0>(T-=3))break;Q.push(224|R>>12,128|63&R>>6,128|63&R)}else if(1114112>R){if(0>(T-=4))break;Q.push(240|R>>18,128|63&R>>12,128|63&R>>6,128|63&R)}else throw new Error("Invalid code point")}return Q}function ot(c){for(var T=[],R=0;R<c.length;++R)T.push(255&c.charCodeAt(R));return T}function ft(c,T){for(var R,W,G,Q=[],ut=0;ut<c.length&&!(0>(T-=2));++ut)R=c.charCodeAt(ut),W=R>>8,G=R%256,Q.push(G),Q.push(W);return Q}function ct(c){return lt.toByteArray(z(c))}function gt(c,T,R,W){for(var G=0;G<W&&!(G+R>=T.length||G>=c.length);++G)T[G+R]=c[G];return G}function X(c,T){return c instanceof T||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===T.name}function it(c){return c!==c}var lt=m("base64-js"),J=m("ieee754");y.Buffer=r,y.SlowBuffer=function(c){return+c!=c&&(c=0),r.alloc(+c)},y.INSPECT_MAX_BYTES=50,y.kMaxLength=2147483647,r.TYPED_ARRAY_SUPPORT=function(){try{var c=new Uint8Array(1);return c.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},c.foo()===42}catch{return!1}}(),r.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){return r.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){return r.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192,r.from=function(c,T,R){return n(c,T,R)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,r.alloc=function(c,T,R){return f(c,T,R)},r.allocUnsafe=function(c){return v(c)},r.allocUnsafeSlow=function(c){return v(c)},r.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==r.prototype},r.compare=function(c,T){if(X(c,Uint8Array)&&(c=r.from(c,c.offset,c.byteLength)),X(T,Uint8Array)&&(T=r.from(T,T.offset,T.byteLength)),!r.isBuffer(c)||!r.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===T)return 0;for(var R=c.length,W=T.length,G=0,Q=_(R,W);G<Q;++G)if(c[G]!==T[G]){R=c[G],W=T[G];break}return R<W?-1:W<R?1:0},r.isEncoding=function(c){switch((c+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(c,T){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return r.alloc(0);var R;if(T===void 0)for(T=0,R=0;R<c.length;++R)T+=c[R].length;var W=r.allocUnsafe(T),G=0;for(R=0;R<c.length;++R){var Q=c[R];if(X(Q,Uint8Array)&&(Q=r.from(Q)),!r.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(W,G),G+=Q.length}return W},r.byteLength=p,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var c=this.length;if(c%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<c;T+=2)O(this,T,T+1);return this},r.prototype.swap32=function(){var c=this.length;if(c%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<c;T+=4)O(this,T,T+3),O(this,T+1,T+2);return this},r.prototype.swap64=function(){var c=this.length;if(c%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<c;T+=8)O(this,T,T+7),O(this,T+1,T+6),O(this,T+2,T+5),O(this,T+3,T+4);return this},r.prototype.toString=function(){var c=this.length;return c===0?"":arguments.length===0?$(this,0,c):S.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(c){if(!r.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c||r.compare(this,c)===0},r.prototype.inspect=function(){var c="",T=y.INSPECT_MAX_BYTES;return c=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(c+=" ... "),"<Buffer "+c+">"},r.prototype.compare=function(c,T,R,W,G){if(X(c,Uint8Array)&&(c=r.from(c,c.offset,c.byteLength)),!r.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(T===void 0&&(T=0),R===void 0&&(R=c?c.length:0),W===void 0&&(W=0),G===void 0&&(G=this.length),0>T||R>c.length||0>W||G>this.length)throw new RangeError("out of range index");if(W>=G&&T>=R)return 0;if(W>=G)return-1;if(T>=R)return 1;if(T>>>=0,R>>>=0,W>>>=0,G>>>=0,this===c)return 0;for(var Q=G-W,ut=R-T,vt=_(Q,ut),yt=this.slice(W,G),_t=c.slice(T,R),pt=0;pt<vt;++pt)if(yt[pt]!==_t[pt]){Q=yt[pt],ut=_t[pt];break}return Q<ut?-1:ut<Q?1:0},r.prototype.includes=function(c,T,R){return this.indexOf(c,T,R)!==-1},r.prototype.indexOf=function(c,T,R){return C(this,c,T,R,!0)},r.prototype.lastIndexOf=function(c,T,R){return C(this,c,T,R,!1)},r.prototype.write=function(c,T,R,W){if(T===void 0)W="utf8",R=this.length,T=0;else if(R===void 0&&typeof T=="string")W=T,R=this.length,T=0;else if(isFinite(T))T>>>=0,isFinite(R)?(R>>>=0,W===void 0&&(W="utf8")):(W=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var G=this.length-T;if((R===void 0||R>G)&&(R=G),0<c.length&&(0>R||0>T)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");for(var Q=!1;;)switch(W){case"hex":return k(this,c,T,R);case"utf8":case"utf-8":return A(this,c,T,R);case"ascii":return x(this,c,T,R);case"latin1":case"binary":return N(this,c,T,R);case"base64":return I(this,c,T,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,c,T,R);default:if(Q)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),Q=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.slice=function(c,T){var R=this.length;c=~~c,T=T===void 0?R:~~T,0>c?(c+=R,0>c&&(c=0)):c>R&&(c=R),0>T?(T+=R,0>T&&(T=0)):T>R&&(T=R),T<c&&(T=c);var W=this.subarray(c,T);return W.__proto__=r.prototype,W},r.prototype.readUIntLE=function(c,T,R){c>>>=0,T>>>=0,R||F(c,T,this.length);for(var W=this[c],G=1,Q=0;++Q<T&&(G*=256);)W+=this[c+Q]*G;return W},r.prototype.readUIntBE=function(c,T,R){c>>>=0,T>>>=0,R||F(c,T,this.length);for(var W=this[c+--T],G=1;0<T&&(G*=256);)W+=this[c+--T]*G;return W},r.prototype.readUInt8=function(c,T){return c>>>=0,T||F(c,1,this.length),this[c]},r.prototype.readUInt16LE=function(c,T){return c>>>=0,T||F(c,2,this.length),this[c]|this[c+1]<<8},r.prototype.readUInt16BE=function(c,T){return c>>>=0,T||F(c,2,this.length),this[c]<<8|this[c+1]},r.prototype.readUInt32LE=function(c,T){return c>>>=0,T||F(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+16777216*this[c+3]},r.prototype.readUInt32BE=function(c,T){return c>>>=0,T||F(c,4,this.length),16777216*this[c]+(this[c+1]<<16|this[c+2]<<8|this[c+3])},r.prototype.readIntLE=function(c,T,R){c>>>=0,T>>>=0,R||F(c,T,this.length);for(var W=this[c],G=1,Q=0;++Q<T&&(G*=256);)W+=this[c+Q]*G;return G*=128,W>=G&&(W-=u(2,8*T)),W},r.prototype.readIntBE=function(c,T,R){c>>>=0,T>>>=0,R||F(c,T,this.length);for(var W=T,G=1,Q=this[c+--W];0<W&&(G*=256);)Q+=this[c+--W]*G;return G*=128,Q>=G&&(Q-=u(2,8*T)),Q},r.prototype.readInt8=function(c,T){return c>>>=0,T||F(c,1,this.length),128&this[c]?-1*(255-this[c]+1):this[c]},r.prototype.readInt16LE=function(c,T){c>>>=0,T||F(c,2,this.length);var R=this[c]|this[c+1]<<8;return 32768&R?4294901760|R:R},r.prototype.readInt16BE=function(c,T){c>>>=0,T||F(c,2,this.length);var R=this[c+1]|this[c]<<8;return 32768&R?4294901760|R:R},r.prototype.readInt32LE=function(c,T){return c>>>=0,T||F(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},r.prototype.readInt32BE=function(c,T){return c>>>=0,T||F(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},r.prototype.readFloatLE=function(c,T){return c>>>=0,T||F(c,4,this.length),J.read(this,c,!0,23,4)},r.prototype.readFloatBE=function(c,T){return c>>>=0,T||F(c,4,this.length),J.read(this,c,!1,23,4)},r.prototype.readDoubleLE=function(c,T){return c>>>=0,T||F(c,8,this.length),J.read(this,c,!0,52,8)},r.prototype.readDoubleBE=function(c,T){return c>>>=0,T||F(c,8,this.length),J.read(this,c,!1,52,8)},r.prototype.writeUIntLE=function(c,T,R,W){if(c=+c,T>>>=0,R>>>=0,!W){var G=u(2,8*R)-1;Z(this,c,T,R,G,0)}var Q=1,ut=0;for(this[T]=255&c;++ut<R&&(Q*=256);)this[T+ut]=255&c/Q;return T+R},r.prototype.writeUIntBE=function(c,T,R,W){if(c=+c,T>>>=0,R>>>=0,!W){var G=u(2,8*R)-1;Z(this,c,T,R,G,0)}var Q=R-1,ut=1;for(this[T+Q]=255&c;0<=--Q&&(ut*=256);)this[T+Q]=255&c/ut;return T+R},r.prototype.writeUInt8=function(c,T,R){return c=+c,T>>>=0,R||Z(this,c,T,1,255,0),this[T]=255&c,T+1},r.prototype.writeUInt16LE=function(c,T,R){return c=+c,T>>>=0,R||Z(this,c,T,2,65535,0),this[T]=255&c,this[T+1]=c>>>8,T+2},r.prototype.writeUInt16BE=function(c,T,R){return c=+c,T>>>=0,R||Z(this,c,T,2,65535,0),this[T]=c>>>8,this[T+1]=255&c,T+2},r.prototype.writeUInt32LE=function(c,T,R){return c=+c,T>>>=0,R||Z(this,c,T,4,4294967295,0),this[T+3]=c>>>24,this[T+2]=c>>>16,this[T+1]=c>>>8,this[T]=255&c,T+4},r.prototype.writeUInt32BE=function(c,T,R){return c=+c,T>>>=0,R||Z(this,c,T,4,4294967295,0),this[T]=c>>>24,this[T+1]=c>>>16,this[T+2]=c>>>8,this[T+3]=255&c,T+4},r.prototype.writeIntLE=function(c,T,R,W){if(c=+c,T>>>=0,!W){var G=u(2,8*R-1);Z(this,c,T,R,G-1,-G)}var Q=0,ut=1,vt=0;for(this[T]=255&c;++Q<R&&(ut*=256);)0>c&&vt===0&&this[T+Q-1]!==0&&(vt=1),this[T+Q]=255&(c/ut>>0)-vt;return T+R},r.prototype.writeIntBE=function(c,T,R,W){if(c=+c,T>>>=0,!W){var G=u(2,8*R-1);Z(this,c,T,R,G-1,-G)}var Q=R-1,ut=1,vt=0;for(this[T+Q]=255&c;0<=--Q&&(ut*=256);)0>c&&vt===0&&this[T+Q+1]!==0&&(vt=1),this[T+Q]=255&(c/ut>>0)-vt;return T+R},r.prototype.writeInt8=function(c,T,R){return c=+c,T>>>=0,R||Z(this,c,T,1,127,-128),0>c&&(c=255+c+1),this[T]=255&c,T+1},r.prototype.writeInt16LE=function(c,T,R){return c=+c,T>>>=0,R||Z(this,c,T,2,32767,-32768),this[T]=255&c,this[T+1]=c>>>8,T+2},r.prototype.writeInt16BE=function(c,T,R){return c=+c,T>>>=0,R||Z(this,c,T,2,32767,-32768),this[T]=c>>>8,this[T+1]=255&c,T+2},r.prototype.writeInt32LE=function(c,T,R){return c=+c,T>>>=0,R||Z(this,c,T,4,2147483647,-2147483648),this[T]=255&c,this[T+1]=c>>>8,this[T+2]=c>>>16,this[T+3]=c>>>24,T+4},r.prototype.writeInt32BE=function(c,T,R){return c=+c,T>>>=0,R||Z(this,c,T,4,2147483647,-2147483648),0>c&&(c=4294967295+c+1),this[T]=c>>>24,this[T+1]=c>>>16,this[T+2]=c>>>8,this[T+3]=255&c,T+4},r.prototype.writeFloatLE=function(c,T,R){return D(this,c,T,!0,R)},r.prototype.writeFloatBE=function(c,T,R){return D(this,c,T,!1,R)},r.prototype.writeDoubleLE=function(c,T,R){return B(this,c,T,!0,R)},r.prototype.writeDoubleBE=function(c,T,R){return B(this,c,T,!1,R)},r.prototype.copy=function(c,T,R,W){if(!r.isBuffer(c))throw new TypeError("argument should be a Buffer");if(R||(R=0),W||W===0||(W=this.length),T>=c.length&&(T=c.length),T||(T=0),0<W&&W<R&&(W=R),W===R||c.length===0||this.length===0)return 0;if(0>T)throw new RangeError("targetStart out of bounds");if(0>R||R>=this.length)throw new RangeError("Index out of range");if(0>W)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),c.length-T<W-R&&(W=c.length-T+R);var G=W-R;if(this===c&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(T,R,W);else if(this===c&&R<T&&T<W)for(var Q=G-1;0<=Q;--Q)c[Q+T]=this[Q+R];else Uint8Array.prototype.set.call(c,this.subarray(R,W),T);return G},r.prototype.fill=function(c,T,R,W){if(typeof c=="string"){if(typeof T=="string"?(W=T,T=0,R=this.length):typeof R=="string"&&(W=R,R=this.length),W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!r.isEncoding(W))throw new TypeError("Unknown encoding: "+W);if(c.length===1){var G=c.charCodeAt(0);(W==="utf8"&&128>G||W==="latin1")&&(c=G)}}else typeof c=="number"&&(c&=255);if(0>T||this.length<T||this.length<R)throw new RangeError("Out of range index");if(R<=T)return this;T>>>=0,R=R===void 0?this.length:R>>>0,c||(c=0);var Q;if(typeof c=="number")for(Q=T;Q<R;++Q)this[Q]=c;else{var ut=r.isBuffer(c)?c:r.from(c,W),vt=ut.length;if(vt===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(Q=0;Q<R-T;++Q)this[Q+T]=ut[Q%vt]}return this};var M=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,m("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(m,w,y){(function(h){(function(){function _(){let r;try{r=y.storage.getItem("debug")}catch{}return!r&&typeof h<"u"&&"env"in h&&(r=h.env.DEBUG),r}y.formatArgs=function(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+w.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;r.splice(1,0,n,"color: inherit");let a=0,f=0;r[0].replace(/%[a-zA-Z%]/g,v=>{v==="%%"||(a++,v==="%c"&&(f=a))}),r.splice(f,0,n)},y.save=function(r){try{r?y.storage.setItem("debug",r):y.storage.removeItem("debug")}catch{}},y.load=_,y.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},y.storage=function(){try{return localStorage}catch{}}(),y.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),y.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],y.log=console.debug||console.log||(()=>{}),w.exports=m("./common")(y);const{formatters:b}=w.exports;b.j=function(r){try{return JSON.stringify(r)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}}).call(this)}).call(this,m("_process"))},{"./common":5,_process:12}],5:[function(m,w){w.exports=function(y){function h(r){function n(...v){if(!n.enabled)return;const E=n,g=+new Date,d=g-(a||g);E.diff=d,E.prev=a,E.curr=g,a=g,v[0]=h.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let o=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(p,S)=>{if(p==="%%")return"%";o++;const O=h.formatters[S];if(typeof O=="function"){const C=v[o];p=O.call(E,C),v.splice(o,1),o--}return p}),h.formatArgs.call(E,v),(E.log||h.log).apply(E,v)}let a,f=null;return n.namespace=r,n.useColors=h.useColors(),n.color=h.selectColor(r),n.extend=_,n.destroy=h.destroy,Object.defineProperty(n,"enabled",{enumerable:!0,configurable:!1,get:()=>f===null?h.enabled(r):f,set:v=>{f=v}}),typeof h.init=="function"&&h.init(n),n}function _(r,n){const a=h(this.namespace+(typeof n>"u"?":":n)+r);return a.log=this.log,a}function b(r){return r.toString().substring(2,r.toString().length-2).replace(/\.\*\?$/,"*")}return h.debug=h,h.default=h,h.coerce=function(r){return r instanceof Error?r.stack||r.message:r},h.disable=function(){const r=[...h.names.map(b),...h.skips.map(b).map(n=>"-"+n)].join(",");return h.enable(""),r},h.enable=function(r){h.save(r),h.names=[],h.skips=[];let n;const a=(typeof r=="string"?r:"").split(/[\s,]+/),f=a.length;for(n=0;n<f;n++)a[n]&&(r=a[n].replace(/\*/g,".*?"),r[0]==="-"?h.skips.push(new RegExp("^"+r.substr(1)+"$")):h.names.push(new RegExp("^"+r+"$")))},h.enabled=function(r){if(r[r.length-1]==="*")return!0;let n,a;for(n=0,a=h.skips.length;n<a;n++)if(h.skips[n].test(r))return!1;for(n=0,a=h.names.length;n<a;n++)if(h.names[n].test(r))return!0;return!1},h.humanize=m("ms"),h.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(y).forEach(r=>{h[r]=y[r]}),h.names=[],h.skips=[],h.formatters={},h.selectColor=function(r){let n=0;for(let a=0;a<r.length;a++)n=(n<<5)-n+r.charCodeAt(a),n|=0;return h.colors[i(n)%h.colors.length]},h.enable(h.load()),h}},{ms:11}],6:[function(m,w){function y(h,_){for(const b in _)Object.defineProperty(h,b,{value:_[b],enumerable:!0,configurable:!0});return h}w.exports=function(h,_,b){if(!h||typeof h=="string")throw new TypeError("Please pass an Error to err-code");b||(b={}),typeof _=="object"&&(b=_,_=""),_&&(b.code=_);try{return y(h,b)}catch{b.message=h.message,b.stack=h.stack;const n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(h)),y(new n,b)}}},{}],7:[function(m,w){function y(k){console&&console.warn&&console.warn(k)}function h(){h.init.call(this)}function _(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}function b(k){return k._maxListeners===void 0?h.defaultMaxListeners:k._maxListeners}function r(k,A,x,N){var I,P,U;if(_(x),P=k._events,P===void 0?(P=k._events=Object.create(null),k._eventsCount=0):(P.newListener!==void 0&&(k.emit("newListener",A,x.listener?x.listener:x),P=k._events),U=P[A]),U===void 0)U=P[A]=x,++k._eventsCount;else if(typeof U=="function"?U=P[A]=N?[x,U]:[U,x]:N?U.unshift(x):U.push(x),I=b(k),0<I&&U.length>I&&!U.warned){U.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+(A+" listeners added. Use emitter.setMaxListeners() to increase limit"));$.name="MaxListenersExceededWarning",$.emitter=k,$.type=A,$.count=U.length,y($)}return k}function n(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function a(k,A,x){var N={fired:!1,wrapFn:void 0,target:k,type:A,listener:x},I=n.bind(N);return I.listener=x,N.wrapFn=I,I}function f(k,A,x){var N=k._events;if(N===void 0)return[];var I=N[A];return I===void 0?[]:typeof I=="function"?x?[I.listener||I]:[I]:x?d(I):E(I,I.length)}function v(k){var A=this._events;if(A!==void 0){var x=A[k];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}function E(k,A){for(var x=Array(A),N=0;N<A;++N)x[N]=k[N];return x}function g(k,A){for(;A+1<k.length;A++)k[A]=k[A+1];k.pop()}function d(k){for(var A=Array(k.length),x=0;x<A.length;++x)A[x]=k[x].listener||k[x];return A}function o(k,A,x){typeof k.on=="function"&&s(k,"error",A,x)}function s(k,A,x,N){if(typeof k.on=="function")N.once?k.once(A,x):k.on(A,x);else if(typeof k.addEventListener=="function")k.addEventListener(A,function I(P){N.once&&k.removeEventListener(A,I),x(P)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}var p,S=typeof Reflect=="object"?Reflect:null,O=S&&typeof S.apply=="function"?S.apply:function(k,A,x){return Function.prototype.apply.call(k,A,x)};p=S&&typeof S.ownKeys=="function"?S.ownKeys:Object.getOwnPropertySymbols?function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:function(k){return Object.getOwnPropertyNames(k)};var C=Number.isNaN||function(k){return k!==k};w.exports=h,w.exports.once=function(k,A){return new Promise(function(x,N){function I(U){k.removeListener(A,P),N(U)}function P(){typeof k.removeListener=="function"&&k.removeListener("error",I),x([].slice.call(arguments))}s(k,A,P,{once:!0}),A!=="error"&&o(k,I,{once:!0})})},h.EventEmitter=h,h.prototype._events=void 0,h.prototype._eventsCount=0,h.prototype._maxListeners=void 0;var L=10;Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(k){if(typeof k!="number"||0>k||C(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");L=k}}),h.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},h.prototype.setMaxListeners=function(k){if(typeof k!="number"||0>k||C(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this},h.prototype.getMaxListeners=function(){return b(this)},h.prototype.emit=function(k){for(var A=[],x=1;x<arguments.length;x++)A.push(arguments[x]);var N=k==="error",I=this._events;if(I!==void 0)N=N&&I.error===void 0;else if(!N)return!1;if(N){var P;if(0<A.length&&(P=A[0]),P instanceof Error)throw P;var U=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw U.context=P,U}var $=I[k];if($===void 0)return!1;if(typeof $=="function")O($,this,A);else for(var et=$.length,K=E($,et),x=0;x<et;++x)O(K[x],this,A);return!0},h.prototype.addListener=function(k,A){return r(this,k,A,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(k,A){return r(this,k,A,!0)},h.prototype.once=function(k,A){return _(A),this.on(k,a(this,k,A)),this},h.prototype.prependOnceListener=function(k,A){return _(A),this.prependListener(k,a(this,k,A)),this},h.prototype.removeListener=function(k,A){var x,N,I,P,U;if(_(A),N=this._events,N===void 0)return this;if(x=N[k],x===void 0)return this;if(x===A||x.listener===A)--this._eventsCount==0?this._events=Object.create(null):(delete N[k],N.removeListener&&this.emit("removeListener",k,x.listener||A));else if(typeof x!="function"){for(I=-1,P=x.length-1;0<=P;P--)if(x[P]===A||x[P].listener===A){U=x[P].listener,I=P;break}if(0>I)return this;I===0?x.shift():g(x,I),x.length===1&&(N[k]=x[0]),N.removeListener!==void 0&&this.emit("removeListener",k,U||A)}return this},h.prototype.off=h.prototype.removeListener,h.prototype.removeAllListeners=function(k){var A,x,N;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[k]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete x[k]),this;if(arguments.length===0){var I,P=Object.keys(x);for(N=0;N<P.length;++N)I=P[N],I!=="removeListener"&&this.removeAllListeners(I);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(A=x[k],typeof A=="function")this.removeListener(k,A);else if(A!==void 0)for(N=A.length-1;0<=N;N--)this.removeListener(k,A[N]);return this},h.prototype.listeners=function(k){return f(this,k,!0)},h.prototype.rawListeners=function(k){return f(this,k,!1)},h.listenerCount=function(k,A){return typeof k.listenerCount=="function"?k.listenerCount(A):v.call(k,A)},h.prototype.listenerCount=v,h.prototype.eventNames=function(){return 0<this._eventsCount?p(this._events):[]}},{}],8:[function(m,w){w.exports=function(){if(typeof globalThis>"u")return null;var y={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return y.RTCPeerConnection?y:null}},{}],9:[function(m,w,y){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */y.read=function(h,_,b,r,n){var a,f,v=8*n-r-1,E=(1<<v)-1,g=E>>1,d=-7,o=b?n-1:0,s=b?-1:1,p=h[_+o];for(o+=s,a=p&(1<<-d)-1,p>>=-d,d+=v;0<d;a=256*a+h[_+o],o+=s,d-=8);for(f=a&(1<<-d)-1,a>>=-d,d+=r;0<d;f=256*f+h[_+o],o+=s,d-=8);if(a===0)a=1-g;else{if(a===E)return f?NaN:(p?-1:1)*(1/0);f+=u(2,r),a-=g}return(p?-1:1)*f*u(2,a-r)},y.write=function(h,_,b,r,n,a){var f,v,E,g=Math.LN2,d=Math.log,o=8*a-n-1,s=(1<<o)-1,p=s>>1,S=n===23?u(2,-24)-u(2,-77):0,O=r?0:a-1,C=r?1:-1,L=0>_||_===0&&0>1/_?1:0;for(_=i(_),isNaN(_)||_===1/0?(v=isNaN(_)?1:0,f=s):(f=e(d(_)/g),1>_*(E=u(2,-f))&&(f--,E*=2),_+=1<=f+p?S/E:S*u(2,1-p),2<=_*E&&(f++,E/=2),f+p>=s?(v=0,f=s):1<=f+p?(v=(_*E-1)*u(2,n),f+=p):(v=_*u(2,p-1)*u(2,n),f=0));8<=n;h[b+O]=255&v,O+=C,v/=256,n-=8);for(f=f<<n|v,o+=n;0<o;h[b+O]=255&f,O+=C,f/=256,o-=8);h[b+O-C]|=128*L}},{}],10:[function(m,w){w.exports=typeof Object.create=="function"?function(y,h){h&&(y.super_=h,y.prototype=Object.create(h.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}))}:function(y,h){if(h){y.super_=h;var _=function(){};_.prototype=h.prototype,y.prototype=new _,y.prototype.constructor=y}}},{}],11:[function(m,w){var y=Math.round;function h(n){if(n+="",!(100<n.length)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(a){var f=parseFloat(a[1]),v=(a[2]||"ms").toLowerCase();return v==="years"||v==="year"||v==="yrs"||v==="yr"||v==="y"?315576e5*f:v==="weeks"||v==="week"||v==="w"?6048e5*f:v==="days"||v==="day"||v==="d"?864e5*f:v==="hours"||v==="hour"||v==="hrs"||v==="hr"||v==="h"?36e5*f:v==="minutes"||v==="minute"||v==="mins"||v==="min"||v==="m"?6e4*f:v==="seconds"||v==="second"||v==="secs"||v==="sec"||v==="s"?1e3*f:v==="milliseconds"||v==="millisecond"||v==="msecs"||v==="msec"||v==="ms"?f:void 0}}}function _(n){var a=i(n);return 864e5<=a?y(n/864e5)+"d":36e5<=a?y(n/36e5)+"h":6e4<=a?y(n/6e4)+"m":1e3<=a?y(n/1e3)+"s":n+"ms"}function b(n){var a=i(n);return 864e5<=a?r(n,a,864e5,"day"):36e5<=a?r(n,a,36e5,"hour"):6e4<=a?r(n,a,6e4,"minute"):1e3<=a?r(n,a,1e3,"second"):n+" ms"}function r(n,a,f,v){return y(n/f)+" "+v+(a>=1.5*f?"s":"")}w.exports=function(n,a){a=a||{};var f=typeof n;if(f=="string"&&0<n.length)return h(n);if(f==="number"&&isFinite(n))return a.long?b(n):_(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))}},{}],12:[function(m,w){function y(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function _(S){if(v===setTimeout)return setTimeout(S,0);if((v===y||!v)&&setTimeout)return v=setTimeout,setTimeout(S,0);try{return v(S,0)}catch{try{return v.call(null,S,0)}catch{return v.call(this,S,0)}}}function b(S){if(E===clearTimeout)return clearTimeout(S);if((E===h||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(S);try{return E(S)}catch{try{return E.call(null,S)}catch{return E.call(this,S)}}}function r(){s&&d&&(s=!1,d.length?o=d.concat(o):p=-1,o.length&&n())}function n(){if(!s){var S=_(r);s=!0;for(var O=o.length;O;){for(d=o,o=[];++p<O;)d&&d[p].run();p=-1,O=o.length}d=null,s=!1,b(S)}}function a(S,O){this.fun=S,this.array=O}function f(){}var v,E,g=w.exports={};(function(){try{v=typeof setTimeout=="function"?setTimeout:y}catch{v=y}try{E=typeof clearTimeout=="function"?clearTimeout:h}catch{E=h}})();var d,o=[],s=!1,p=-1;g.nextTick=function(S){var O=Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)O[C-1]=arguments[C];o.push(new a(S,O)),o.length!==1||s||_(n)},a.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=f,g.addListener=f,g.once=f,g.off=f,g.removeListener=f,g.removeAllListeners=f,g.emit=f,g.prependListener=f,g.prependOnceListener=f,g.listeners=function(){return[]},g.binding=function(){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},{}],13:[function(m,w){(function(y){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let h;w.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?y:window):_=>(h||(h=Promise.resolve())).then(_).catch(b=>setTimeout(()=>{throw b},0))}).call(this)}).call(this,typeof he>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:he)},{}],14:[function(m,w){(function(y,h){(function(){var _=m("safe-buffer").Buffer,b=h.crypto||h.msCrypto;w.exports=b&&b.getRandomValues?function(r,n){if(r>4294967295)throw new RangeError("requested too many random bytes");var a=_.allocUnsafe(r);if(0<r)if(65536<r)for(var f=0;f<r;f+=65536)b.getRandomValues(a.slice(f,f+65536));else b.getRandomValues(a);return typeof n=="function"?y.nextTick(function(){n(null,a)}):a}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,m("_process"),typeof he>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:he)},{_process:12,"safe-buffer":30}],15:[function(m,w){function y(f,v){f.prototype=Object.create(v.prototype),f.prototype.constructor=f,f.__proto__=v}function h(f,v,E){function g(o,s,p){return typeof v=="string"?v:v(o,s,p)}E||(E=Error);var d=function(o){function s(p,S,O){return o.call(this,g(p,S,O))||this}return y(s,o),s}(E);d.prototype.name=E.name,d.prototype.code=f,a[f]=d}function _(f,v){if(Array.isArray(f)){var E=f.length;return f=f.map(function(g){return g+""}),2<E?"one of ".concat(v," ").concat(f.slice(0,E-1).join(", "),", or ")+f[E-1]:E===2?"one of ".concat(v," ").concat(f[0]," or ").concat(f[1]):"of ".concat(v," ").concat(f[0])}return"of ".concat(v," ").concat(f+"")}function b(f,v,E){return f.substr(!E||0>E?0:+E,v.length)===v}function r(f,v,E){return(E===void 0||E>f.length)&&(E=f.length),f.substring(E-v.length,E)===v}function n(f,v,E){return typeof E!="number"&&(E=0),!(E+v.length>f.length)&&f.indexOf(v,E)!==-1}var a={};h("ERR_INVALID_OPT_VALUE",function(f,v){return'The value "'+v+'" is invalid for option "'+f+'"'},TypeError),h("ERR_INVALID_ARG_TYPE",function(f,v,E){var g;typeof v=="string"&&b(v,"not ")?(g="must not be",v=v.replace(/^not /,"")):g="must be";var d;if(r(f," argument"))d="The ".concat(f," ").concat(g," ").concat(_(v,"type"));else{var o=n(f,".")?"property":"argument";d='The "'.concat(f,'" ').concat(o," ").concat(g," ").concat(_(v,"type"))}return d+=". Received type ".concat(typeof E),d},TypeError),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),h("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),h("ERR_STREAM_PREMATURE_CLOSE","Premature close"),h("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),h("ERR_STREAM_WRITE_AFTER_END","write after end"),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),w.exports.codes=a},{}],16:[function(m,w){(function(y){(function(){function h(g){return this instanceof h?(n.call(this,g),a.call(this,g),this.allowHalfOpen=!0,void(g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",_))))):new h(g)}function _(){this._writableState.ended||y.nextTick(b,this)}function b(g){g.end()}var r=Object.keys||function(g){var d=[];for(var o in g)d.push(o);return d};w.exports=h;var n=m("./_stream_readable"),a=m("./_stream_writable");m("inherits")(h,n);for(var f,v=r(a.prototype),E=0;E<v.length;E++)f=v[E],h.prototype[f]||(h.prototype[f]=a.prototype[f]);Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,m("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(m,w){function y(_){return this instanceof y?void h.call(this,_):new y(_)}w.exports=y;var h=m("./_stream_transform");m("inherits")(y,h),y.prototype._transform=function(_,b,r){r(null,_)}},{"./_stream_transform":19,inherits:10}],18:[function(m,w){(function(y,h){(function(){function _(M){return H.from(M)}function b(M){return H.isBuffer(M)||M instanceof F}function r(M,c,T){return typeof M.prependListener=="function"?M.prependListener(c,T):void(M._events&&M._events[c]?Array.isArray(M._events[c])?M._events[c].unshift(T):M._events[c]=[T,M._events[c]]:M.on(c,T))}function n(M,c,T){et=et||m("./_stream_duplex"),M=M||{},typeof T!="boolean"&&(T=c instanceof et),this.objectMode=!!M.objectMode,T&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=ot(this,M,"readableHighWaterMark",T),this.buffer=new z,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(!j&&(j=m("string_decoder/").StringDecoder),this.decoder=new j(M.encoding),this.encoding=M.encoding)}function a(M){if(et=et||m("./_stream_duplex"),!(this instanceof a))return new a(M);var c=this instanceof et;this._readableState=new n(M,this,c),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),q.call(this)}function f(M,c,T,R,W){K("readableAddChunk",c);var G=M._readableState;if(c===null)G.reading=!1,o(M,G);else{var Q;if(W||(Q=E(G,c)),Q)lt(M,Q);else if(!(G.objectMode||c&&0<c.length))R||(G.reading=!1,S(M,G));else if(typeof c=="string"||G.objectMode||Object.getPrototypeOf(c)===H.prototype||(c=_(c)),R)G.endEmitted?lt(M,new it):v(M,G,c,!0);else if(G.ended)lt(M,new gt);else{if(G.destroyed)return!1;G.reading=!1,G.decoder&&!T?(c=G.decoder.write(c),G.objectMode||c.length!==0?v(M,G,c,!1):S(M,G)):v(M,G,c,!1)}}return!G.ended&&(G.length<G.highWaterMark||G.length===0)}function v(M,c,T,R){c.flowing&&c.length===0&&!c.sync?(c.awaitDrain=0,M.emit("data",T)):(c.length+=c.objectMode?1:T.length,R?c.buffer.unshift(T):c.buffer.push(T),c.needReadable&&s(M)),S(M,c)}function E(M,c){var T;return b(c)||typeof c=="string"||c===void 0||M.objectMode||(T=new ct("chunk",["string","Buffer","Uint8Array"],c)),T}function g(M){return 1073741824<=M?M=1073741824:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function d(M,c){return 0>=M||c.length===0&&c.ended?0:c.objectMode?1:M===M?(M>c.highWaterMark&&(c.highWaterMark=g(M)),M<=c.length?M:c.ended?c.length:(c.needReadable=!0,0)):c.flowing&&c.length?c.buffer.head.data.length:c.length}function o(M,c){if(K("onEofChunk"),!c.ended){if(c.decoder){var T=c.decoder.end();T&&T.length&&(c.buffer.push(T),c.length+=c.objectMode?1:T.length)}c.ended=!0,c.sync?s(M):(c.needReadable=!1,!c.emittedReadable&&(c.emittedReadable=!0,p(M)))}}function s(M){var c=M._readableState;K("emitReadable",c.needReadable,c.emittedReadable),c.needReadable=!1,c.emittedReadable||(K("emitReadable",c.flowing),c.emittedReadable=!0,y.nextTick(p,M))}function p(M){var c=M._readableState;K("emitReadable_",c.destroyed,c.length,c.ended),!c.destroyed&&(c.length||c.ended)&&(M.emit("readable"),c.emittedReadable=!1),c.needReadable=!c.flowing&&!c.ended&&c.length<=c.highWaterMark,N(M)}function S(M,c){c.readingMore||(c.readingMore=!0,y.nextTick(O,M,c))}function O(M,c){for(;!c.reading&&!c.ended&&(c.length<c.highWaterMark||c.flowing&&c.length===0);){var T=c.length;if(K("maybeReadMore read 0"),M.read(0),T===c.length)break}c.readingMore=!1}function C(M){return function(){var c=M._readableState;K("pipeOnDrain",c.awaitDrain),c.awaitDrain&&c.awaitDrain--,c.awaitDrain===0&&V(M,"data")&&(c.flowing=!0,N(M))}}function L(M){var c=M._readableState;c.readableListening=0<M.listenerCount("readable"),c.resumeScheduled&&!c.paused?c.flowing=!0:0<M.listenerCount("data")&&M.resume()}function k(M){K("readable nexttick read 0"),M.read(0)}function A(M,c){c.resumeScheduled||(c.resumeScheduled=!0,y.nextTick(x,M,c))}function x(M,c){K("resume",c.reading),c.reading||M.read(0),c.resumeScheduled=!1,M.emit("resume"),N(M),c.flowing&&!c.reading&&M.read(0)}function N(M){var c=M._readableState;for(K("flow",c.flowing);c.flowing&&M.read()!==null;);}function I(M,c){if(c.length===0)return null;var T;return c.objectMode?T=c.buffer.shift():!M||M>=c.length?(T=c.decoder?c.buffer.join(""):c.buffer.length===1?c.buffer.first():c.buffer.concat(c.length),c.buffer.clear()):T=c.buffer.consume(M,c.decoder),T}function P(M){var c=M._readableState;K("endReadable",c.endEmitted),c.endEmitted||(c.ended=!0,y.nextTick(U,c,M))}function U(M,c){if(K("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,c.readable=!1,c.emit("end"),M.autoDestroy)){var T=c._writableState;(!T||T.autoDestroy&&T.finished)&&c.destroy()}}function $(M,c){for(var T=0,R=M.length;T<R;T++)if(M[T]===c)return T;return-1}w.exports=a;var et;a.ReadableState=n;var K;m("events").EventEmitter;var V=function(M,c){return M.listeners(c).length},q=m("./internal/streams/stream"),H=m("buffer").Buffer,F=h.Uint8Array||function(){},Z=m("util");K=Z&&Z.debuglog?Z.debuglog("stream"):function(){};var j,D,B,z=m("./internal/streams/buffer_list"),Y=m("./internal/streams/destroy"),nt=m("./internal/streams/state"),ot=nt.getHighWaterMark,ft=m("../errors").codes,ct=ft.ERR_INVALID_ARG_TYPE,gt=ft.ERR_STREAM_PUSH_AFTER_EOF,X=ft.ERR_METHOD_NOT_IMPLEMENTED,it=ft.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;m("inherits")(a,q);var lt=Y.errorOrDestroy,J=["error","close","destroy","pause","resume"];Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),a.prototype.destroy=Y.destroy,a.prototype._undestroy=Y.undestroy,a.prototype._destroy=function(M,c){c(M)},a.prototype.push=function(M,c){var T,R=this._readableState;return R.objectMode?T=!0:typeof M=="string"&&(c=c||R.defaultEncoding,c!==R.encoding&&(M=H.from(M,c),c=""),T=!0),f(this,M,c,!1,T)},a.prototype.unshift=function(M){return f(this,M,null,!0,!1)},a.prototype.isPaused=function(){return this._readableState.flowing===!1},a.prototype.setEncoding=function(M){j||(j=m("string_decoder/").StringDecoder);var c=new j(M);this._readableState.decoder=c,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,R="";T!==null;)R+=c.write(T.data),T=T.next;return this._readableState.buffer.clear(),R!==""&&this._readableState.buffer.push(R),this._readableState.length=R.length,this},a.prototype.read=function(M){K("read",M),M=parseInt(M,10);var c=this._readableState,T=M;if(M!==0&&(c.emittedReadable=!1),M===0&&c.needReadable&&((c.highWaterMark===0?0<c.length:c.length>=c.highWaterMark)||c.ended))return K("read: emitReadable",c.length,c.ended),c.length===0&&c.ended?P(this):s(this),null;if(M=d(M,c),M===0&&c.ended)return c.length===0&&P(this),null;var R=c.needReadable;K("need readable",R),(c.length===0||c.length-M<c.highWaterMark)&&(R=!0,K("length less than watermark",R)),c.ended||c.reading?(R=!1,K("reading or ended",R)):R&&(K("do read"),c.reading=!0,c.sync=!0,c.length===0&&(c.needReadable=!0),this._read(c.highWaterMark),c.sync=!1,!c.reading&&(M=d(T,c)));var W;return W=0<M?I(M,c):null,W===null?(c.needReadable=c.length<=c.highWaterMark,M=0):(c.length-=M,c.awaitDrain=0),c.length===0&&(!c.ended&&(c.needReadable=!0),T!==M&&c.ended&&P(this)),W!==null&&this.emit("data",W),W},a.prototype._read=function(){lt(this,new X("_read()"))},a.prototype.pipe=function(M,c){function T(me,be){K("onunpipe"),me===_t&&be&&be.hasUnpiped===!1&&(be.hasUnpiped=!0,W())}function R(){K("onend"),M.end()}function W(){K("cleanup"),M.removeListener("close",ut),M.removeListener("finish",vt),M.removeListener("drain",ye),M.removeListener("error",Q),M.removeListener("unpipe",T),_t.removeListener("end",R),_t.removeListener("end",yt),_t.removeListener("data",G),ve=!0,pt.awaitDrain&&(!M._writableState||M._writableState.needDrain)&&ye()}function G(me){K("ondata");var be=M.write(me);K("dest.write",be),be===!1&&((pt.pipesCount===1&&pt.pipes===M||1<pt.pipesCount&&$(pt.pipes,M)!==-1)&&!ve&&(K("false write response, pause",pt.awaitDrain),pt.awaitDrain++),_t.pause())}function Q(me){K("onerror",me),yt(),M.removeListener("error",Q),V(M,"error")===0&&lt(M,me)}function ut(){M.removeListener("finish",vt),yt()}function vt(){K("onfinish"),M.removeListener("close",ut),yt()}function yt(){K("unpipe"),_t.unpipe(M)}var _t=this,pt=this._readableState;switch(pt.pipesCount){case 0:pt.pipes=M;break;case 1:pt.pipes=[pt.pipes,M];break;default:pt.pipes.push(M)}pt.pipesCount+=1,K("pipe count=%d opts=%j",pt.pipesCount,c);var Lt=(!c||c.end!==!1)&&M!==y.stdout&&M!==y.stderr,Xt=Lt?R:yt;pt.endEmitted?y.nextTick(Xt):_t.once("end",Xt),M.on("unpipe",T);var ye=C(_t);M.on("drain",ye);var ve=!1;return _t.on("data",G),r(M,"error",Q),M.once("close",ut),M.once("finish",vt),M.emit("pipe",_t),pt.flowing||(K("pipe resume"),_t.resume()),M},a.prototype.unpipe=function(M){var c=this._readableState,T={hasUnpiped:!1};if(c.pipesCount===0)return this;if(c.pipesCount===1)return M&&M!==c.pipes?this:(M||(M=c.pipes),c.pipes=null,c.pipesCount=0,c.flowing=!1,M&&M.emit("unpipe",this,T),this);if(!M){var R=c.pipes,W=c.pipesCount;c.pipes=null,c.pipesCount=0,c.flowing=!1;for(var G=0;G<W;G++)R[G].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=$(c.pipes,M);return Q===-1?this:(c.pipes.splice(Q,1),c.pipesCount-=1,c.pipesCount===1&&(c.pipes=c.pipes[0]),M.emit("unpipe",this,T),this)},a.prototype.on=function(M,c){var T=q.prototype.on.call(this,M,c),R=this._readableState;return M==="data"?(R.readableListening=0<this.listenerCount("readable"),R.flowing!==!1&&this.resume()):M=="readable"&&!R.endEmitted&&!R.readableListening&&(R.readableListening=R.needReadable=!0,R.flowing=!1,R.emittedReadable=!1,K("on readable",R.length,R.reading),R.length?s(this):!R.reading&&y.nextTick(k,this)),T},a.prototype.addListener=a.prototype.on,a.prototype.removeListener=function(M,c){var T=q.prototype.removeListener.call(this,M,c);return M==="readable"&&y.nextTick(L,this),T},a.prototype.removeAllListeners=function(M){var c=q.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&y.nextTick(L,this),c},a.prototype.resume=function(){var M=this._readableState;return M.flowing||(K("resume"),M.flowing=!M.readableListening,A(this,M)),M.paused=!1,this},a.prototype.pause=function(){return K("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(K("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},a.prototype.wrap=function(M){var c=this,T=this._readableState,R=!1;for(var W in M.on("end",function(){if(K("wrapped end"),T.decoder&&!T.ended){var Q=T.decoder.end();Q&&Q.length&&c.push(Q)}c.push(null)}),M.on("data",function(Q){if(K("wrapped data"),T.decoder&&(Q=T.decoder.write(Q)),!(T.objectMode&&Q==null)&&(T.objectMode||Q&&Q.length)){var ut=c.push(Q);ut||(R=!0,M.pause())}}),M)this[W]===void 0&&typeof M[W]=="function"&&(this[W]=function(Q){return function(){return M[Q].apply(M,arguments)}}(W));for(var G=0;G<J.length;G++)M.on(J[G],this.emit.bind(this,J[G]));return this._read=function(Q){K("wrapped _read",Q),R&&(R=!1,M.resume())},this},typeof Symbol=="function"&&(a.prototype[Symbol.asyncIterator]=function(){return D===void 0&&(D=m("./internal/streams/async_iterator")),D(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}}),a._fromList=I,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(a.from=function(M,c){return B===void 0&&(B=m("./internal/streams/from")),B(a,M,c)})}).call(this)}).call(this,m("_process"),typeof he>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:he)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(m,w){function y(g,d){var o=this._transformState;o.transforming=!1;var s=o.writecb;if(s===null)return this.emit("error",new a);o.writechunk=null,o.writecb=null,d!=null&&this.push(d),s(g);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function h(g){return this instanceof h?(E.call(this,g),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),void this.on("prefinish",_)):new h(g)}function _(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?b(this,null,null):this._flush(function(d,o){b(g,d,o)})}function b(g,d,o){if(d)return g.emit("error",d);if(o!=null&&g.push(o),g._writableState.length)throw new v;if(g._transformState.transforming)throw new f;return g.push(null)}w.exports=h;var r=m("../errors").codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,a=r.ERR_MULTIPLE_CALLBACK,f=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,v=r.ERR_TRANSFORM_WITH_LENGTH_0,E=m("./_stream_duplex");m("inherits")(h,E),h.prototype.push=function(g,d){return this._transformState.needTransform=!1,E.prototype.push.call(this,g,d)},h.prototype._transform=function(g,d,o){o(new n("_transform()"))},h.prototype._write=function(g,d,o){var s=this._transformState;if(s.writecb=o,s.writechunk=g,s.writeencoding=d,!s.transforming){var p=this._readableState;(s.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},h.prototype._read=function(){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},h.prototype._destroy=function(g,d){E.prototype._destroy.call(this,g,function(o){d(o)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(m,w){(function(y,h){(function(){function _(X){var it=this;this.next=null,this.entry=null,this.finish=function(){P(it,X)}}function b(X){return K.from(X)}function r(X){return K.isBuffer(X)||X instanceof V}function n(){}function a(X,it,lt){U=U||m("./_stream_duplex"),X=X||{},typeof lt!="boolean"&&(lt=it instanceof U),this.objectMode=!!X.objectMode,lt&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=F(this,X,"writableHighWaterMark",lt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var J=X.decodeStrings===!1;this.decodeStrings=!J,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(M){S(it,M)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new _(this)}function f(X){U=U||m("./_stream_duplex");var it=this instanceof U;return it||gt.call(f,this)?(this._writableState=new a(X,this,it),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),void et.call(this)):new f(X)}function v(X,it){var lt=new ot;ct(X,lt),y.nextTick(it,lt)}function E(X,it,lt,J){var M;return lt===null?M=new nt:typeof lt!="string"&&!it.objectMode&&(M=new j("chunk",["string","Buffer"],lt)),!M||(ct(X,M),y.nextTick(J,M),!1)}function g(X,it,lt){return X.objectMode||X.decodeStrings===!1||typeof it!="string"||(it=K.from(it,lt)),it}function d(X,it,lt,J,M,c){if(!lt){var T=g(it,J,M);J!==T&&(lt=!0,M="buffer",J=T)}var R=it.objectMode?1:J.length;it.length+=R;var W=it.length<it.highWaterMark;if(W||(it.needDrain=!0),it.writing||it.corked){var G=it.lastBufferedRequest;it.lastBufferedRequest={chunk:J,encoding:M,isBuf:lt,callback:c,next:null},G?G.next=it.lastBufferedRequest:it.bufferedRequest=it.lastBufferedRequest,it.bufferedRequestCount+=1}else o(X,it,!1,R,J,M,c);return W}function o(X,it,lt,J,M,c,T){it.writelen=J,it.writecb=T,it.writing=!0,it.sync=!0,it.destroyed?it.onwrite(new Y("write")):lt?X._writev(M,it.onwrite):X._write(M,c,it.onwrite),it.sync=!1}function s(X,it,lt,J,M){--it.pendingcb,lt?(y.nextTick(M,J),y.nextTick(N,X,it),X._writableState.errorEmitted=!0,ct(X,J)):(M(J),X._writableState.errorEmitted=!0,ct(X,J),N(X,it))}function p(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function S(X,it){var lt=X._writableState,J=lt.sync,M=lt.writecb;if(typeof M!="function")throw new B;if(p(lt),it)s(X,lt,J,it,M);else{var c=k(lt)||X.destroyed;c||lt.corked||lt.bufferProcessing||!lt.bufferedRequest||L(X,lt),J?y.nextTick(O,X,lt,c,M):O(X,lt,c,M)}}function O(X,it,lt,J){lt||C(X,it),it.pendingcb--,J(),N(X,it)}function C(X,it){it.length===0&&it.needDrain&&(it.needDrain=!1,X.emit("drain"))}function L(X,it){it.bufferProcessing=!0;var lt=it.bufferedRequest;if(X._writev&&lt&&lt.next){var J=it.bufferedRequestCount,M=Array(J),c=it.corkedRequestsFree;c.entry=lt;for(var T=0,R=!0;lt;)M[T]=lt,lt.isBuf||(R=!1),lt=lt.next,T+=1;M.allBuffers=R,o(X,it,!0,it.length,M,"",c.finish),it.pendingcb++,it.lastBufferedRequest=null,c.next?(it.corkedRequestsFree=c.next,c.next=null):it.corkedRequestsFree=new _(it),it.bufferedRequestCount=0}else{for(;lt;){var W=lt.chunk,G=lt.encoding,Q=lt.callback,ut=it.objectMode?1:W.length;if(o(X,it,!1,ut,W,G,Q),lt=lt.next,it.bufferedRequestCount--,it.writing)break}lt===null&&(it.lastBufferedRequest=null)}it.bufferedRequest=lt,it.bufferProcessing=!1}function k(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function A(X,it){X._final(function(lt){it.pendingcb--,lt&&ct(X,lt),it.prefinished=!0,X.emit("prefinish"),N(X,it)})}function x(X,it){it.prefinished||it.finalCalled||(typeof X._final!="function"||it.destroyed?(it.prefinished=!0,X.emit("prefinish")):(it.pendingcb++,it.finalCalled=!0,y.nextTick(A,X,it)))}function N(X,it){var lt=k(it);if(lt&&(x(X,it),it.pendingcb===0&&(it.finished=!0,X.emit("finish"),it.autoDestroy))){var J=X._readableState;(!J||J.autoDestroy&&J.endEmitted)&&X.destroy()}return lt}function I(X,it,lt){it.ending=!0,N(X,it),lt&&(it.finished?y.nextTick(lt):X.once("finish",lt)),it.ended=!0,X.writable=!1}function P(X,it,lt){var J=X.entry;for(X.entry=null;J;){var M=J.callback;it.pendingcb--,M(lt),J=J.next}it.corkedRequestsFree.next=X}w.exports=f;var U;f.WritableState=a;var $={deprecate:m("util-deprecate")},et=m("./internal/streams/stream"),K=m("buffer").Buffer,V=h.Uint8Array||function(){},q=m("./internal/streams/destroy"),H=m("./internal/streams/state"),F=H.getHighWaterMark,Z=m("../errors").codes,j=Z.ERR_INVALID_ARG_TYPE,D=Z.ERR_METHOD_NOT_IMPLEMENTED,B=Z.ERR_MULTIPLE_CALLBACK,z=Z.ERR_STREAM_CANNOT_PIPE,Y=Z.ERR_STREAM_DESTROYED,nt=Z.ERR_STREAM_NULL_VALUES,ot=Z.ERR_STREAM_WRITE_AFTER_END,ft=Z.ERR_UNKNOWN_ENCODING,ct=q.errorOrDestroy;m("inherits")(f,et),a.prototype.getBuffer=function(){for(var X=this.bufferedRequest,it=[];X;)it.push(X),X=X.next;return it},function(){try{Object.defineProperty(a.prototype,"buffer",{get:$.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var gt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(f,Symbol.hasInstance,{value:function(X){return!!gt.call(this,X)||this===f&&X&&X._writableState instanceof a}})):gt=function(X){return X instanceof this},f.prototype.pipe=function(){ct(this,new z)},f.prototype.write=function(X,it,lt){var J=this._writableState,M=!1,c=!J.objectMode&&r(X);return c&&!K.isBuffer(X)&&(X=b(X)),typeof it=="function"&&(lt=it,it=null),c?it="buffer":!it&&(it=J.defaultEncoding),typeof lt!="function"&&(lt=n),J.ending?v(this,lt):(c||E(this,J,X,lt))&&(J.pendingcb++,M=d(this,J,c,X,it,lt)),M},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&L(this,X))},f.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())))throw new ft(X);return this._writableState.defaultEncoding=X,this},Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),f.prototype._write=function(X,it,lt){lt(new D("_write()"))},f.prototype._writev=null,f.prototype.end=function(X,it,lt){var J=this._writableState;return typeof X=="function"?(lt=X,X=null,it=null):typeof it=="function"&&(lt=it,it=null),X!=null&&this.write(X,it),J.corked&&(J.corked=1,this.uncork()),J.ending||I(this,J,lt),this},Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(X){this._writableState&&(this._writableState.destroyed=X)}}),f.prototype.destroy=q.destroy,f.prototype._undestroy=q.undestroy,f.prototype._destroy=function(X,it){it(X)}}).call(this)}).call(this,m("_process"),typeof he>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:he)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(m,w){(function(y){(function(){function h(C,L,k){return L in C?Object.defineProperty(C,L,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[L]=k,C}function _(C,L){return{value:C,done:L}}function b(C){var L=C[v];if(L!==null){var k=C[p].read();k!==null&&(C[o]=null,C[v]=null,C[E]=null,L(_(k,!1)))}}function r(C){y.nextTick(b,C)}function n(C,L){return function(k,A){C.then(function(){return L[d]?void k(_(void 0,!0)):void L[s](k,A)},A)}}var a,f=m("./end-of-stream"),v=Symbol("lastResolve"),E=Symbol("lastReject"),g=Symbol("error"),d=Symbol("ended"),o=Symbol("lastPromise"),s=Symbol("handlePromise"),p=Symbol("stream"),S=Object.getPrototypeOf(function(){}),O=Object.setPrototypeOf((a={get stream(){return this[p]},next:function(){var C=this,L=this[g];if(L!==null)return Promise.reject(L);if(this[d])return Promise.resolve(_(void 0,!0));if(this[p].destroyed)return new Promise(function(N,I){y.nextTick(function(){C[g]?I(C[g]):N(_(void 0,!0))})});var k,A=this[o];if(A)k=new Promise(n(A,this));else{var x=this[p].read();if(x!==null)return Promise.resolve(_(x,!1));k=new Promise(this[s])}return this[o]=k,k}},h(a,Symbol.asyncIterator,function(){return this}),h(a,"return",function(){var C=this;return new Promise(function(L,k){C[p].destroy(null,function(A){return A?void k(A):void L(_(void 0,!0))})})}),a),S);w.exports=function(C){var L,k=Object.create(O,(L={},h(L,p,{value:C,writable:!0}),h(L,v,{value:null,writable:!0}),h(L,E,{value:null,writable:!0}),h(L,g,{value:null,writable:!0}),h(L,d,{value:C._readableState.endEmitted,writable:!0}),h(L,s,{value:function(A,x){var N=k[p].read();N?(k[o]=null,k[v]=null,k[E]=null,A(_(N,!1))):(k[v]=A,k[E]=x)},writable:!0}),L));return k[o]=null,f(C,function(A){if(A&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=k[E];return x!==null&&(k[o]=null,k[v]=null,k[E]=null,x(A)),void(k[g]=A)}var N=k[v];N!==null&&(k[o]=null,k[v]=null,k[E]=null,N(_(void 0,!0))),k[d]=!0}),C.on("readable",r.bind(null,k)),k}}).call(this)}).call(this,m("_process"))},{"./end-of-stream":24,_process:12}],22:[function(m,w){function y(o,s){var p=Object.keys(o);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(o);s&&(S=S.filter(function(O){return Object.getOwnPropertyDescriptor(o,O).enumerable})),p.push.apply(p,S)}return p}function h(o){for(var s,p=1;p<arguments.length;p++)s=arguments[p]==null?{}:arguments[p],p%2?y(Object(s),!0).forEach(function(S){_(o,S,s[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach(function(S){Object.defineProperty(o,S,Object.getOwnPropertyDescriptor(s,S))});return o}function _(o,s,p){return s in o?Object.defineProperty(o,s,{value:p,enumerable:!0,configurable:!0,writable:!0}):o[s]=p,o}function b(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function r(o,s){for(var p,S=0;S<s.length;S++)p=s[S],p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(o,p.key,p)}function n(o,s,p){return s&&r(o.prototype,s),p&&r(o,p),o}function a(o,s,p){v.prototype.copy.call(o,s,p)}var f=m("buffer"),v=f.Buffer,E=m("util"),g=E.inspect,d=g&&g.custom||"inspect";w.exports=function(){function o(){b(this,o),this.head=null,this.tail=null,this.length=0}return n(o,[{key:"push",value:function(s){var p={data:s,next:null};0<this.length?this.tail.next=p:this.head=p,this.tail=p,++this.length}},{key:"unshift",value:function(s){var p={data:s,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}},{key:"shift",value:function(){if(this.length!==0){var s=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,s}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(this.length===0)return"";for(var p=this.head,S=""+p.data;p=p.next;)S+=s+p.data;return S}},{key:"concat",value:function(s){if(this.length===0)return v.alloc(0);for(var p=v.allocUnsafe(s>>>0),S=this.head,O=0;S;)a(S.data,p,O),O+=S.data.length,S=S.next;return p}},{key:"consume",value:function(s,p){var S;return s<this.head.data.length?(S=this.head.data.slice(0,s),this.head.data=this.head.data.slice(s)):s===this.head.data.length?S=this.shift():S=p?this._getString(s):this._getBuffer(s),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(s){var p=this.head,S=1,O=p.data;for(s-=O.length;p=p.next;){var C=p.data,L=s>C.length?C.length:s;if(O+=L===C.length?C:C.slice(0,s),s-=L,s===0){L===C.length?(++S,this.head=p.next?p.next:this.tail=null):(this.head=p,p.data=C.slice(L));break}++S}return this.length-=S,O}},{key:"_getBuffer",value:function(s){var p=v.allocUnsafe(s),S=this.head,O=1;for(S.data.copy(p),s-=S.data.length;S=S.next;){var C=S.data,L=s>C.length?C.length:s;if(C.copy(p,p.length-s,0,L),s-=L,s===0){L===C.length?(++O,this.head=S.next?S.next:this.tail=null):(this.head=S,S.data=C.slice(L));break}++O}return this.length-=O,p}},{key:d,value:function(s,p){return g(this,h({},p,{depth:0,customInspect:!1}))}}]),o}()},{buffer:3,util:2}],23:[function(m,w){(function(y){(function(){function h(r,n){b(r,n),_(r)}function _(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function b(r,n){r.emit("error",n)}w.exports={destroy:function(r,n){var a=this,f=this._readableState&&this._readableState.destroyed,v=this._writableState&&this._writableState.destroyed;return f||v?(n?n(r):r&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,y.nextTick(b,this,r)):y.nextTick(b,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(E){!n&&E?a._writableState?a._writableState.errorEmitted?y.nextTick(_,a):(a._writableState.errorEmitted=!0,y.nextTick(h,a,E)):y.nextTick(h,a,E):n?(y.nextTick(_,a),n(E)):y.nextTick(_,a)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,n){var a=r._readableState,f=r._writableState;a&&a.autoDestroy||f&&f.autoDestroy?r.destroy(n):r.emit("error",n)}}}).call(this)}).call(this,m("_process"))},{_process:12}],24:[function(m,w){function y(n){var a=!1;return function(){if(!a){a=!0;for(var f=arguments.length,v=Array(f),E=0;E<f;E++)v[E]=arguments[E];n.apply(this,v)}}}function h(){}function _(n){return n.setHeader&&typeof n.abort=="function"}function b(n,a,f){if(typeof a=="function")return b(n,null,a);a||(a={}),f=y(f||h);var v=a.readable||a.readable!==!1&&n.readable,E=a.writable||a.writable!==!1&&n.writable,g=function(){n.writable||o()},d=n._writableState&&n._writableState.finished,o=function(){E=!1,d=!0,v||f.call(n)},s=n._readableState&&n._readableState.endEmitted,p=function(){v=!1,s=!0,E||f.call(n)},S=function(L){f.call(n,L)},O=function(){var L;return v&&!s?(n._readableState&&n._readableState.ended||(L=new r),f.call(n,L)):E&&!d?(n._writableState&&n._writableState.ended||(L=new r),f.call(n,L)):void 0},C=function(){n.req.on("finish",o)};return _(n)?(n.on("complete",o),n.on("abort",O),n.req?C():n.on("request",C)):E&&!n._writableState&&(n.on("end",g),n.on("close",g)),n.on("end",p),n.on("finish",o),a.error!==!1&&n.on("error",S),n.on("close",O),function(){n.removeListener("complete",o),n.removeListener("abort",O),n.removeListener("request",C),n.req&&n.req.removeListener("finish",o),n.removeListener("end",g),n.removeListener("close",g),n.removeListener("finish",o),n.removeListener("end",p),n.removeListener("error",S),n.removeListener("close",O)}}var r=m("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;w.exports=b},{"../../../errors":15}],25:[function(m,w){w.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(m,w){function y(d){var o=!1;return function(){o||(o=!0,d.apply(void 0,arguments))}}function h(d){if(d)throw d}function _(d){return d.setHeader&&typeof d.abort=="function"}function b(d,o,s,p){p=y(p);var S=!1;d.on("close",function(){S=!0}),f===void 0&&(f=m("./end-of-stream")),f(d,{readable:o,writable:s},function(C){return C?p(C):(S=!0,void p())});var O=!1;return function(C){if(!S)return O?void 0:(O=!0,_(d)?d.abort():typeof d.destroy=="function"?d.destroy():void p(C||new g("pipe")))}}function r(d){d()}function n(d,o){return d.pipe(o)}function a(d){return d.length&&typeof d[d.length-1]=="function"?d.pop():h}var f,v=m("../../../errors").codes,E=v.ERR_MISSING_ARGS,g=v.ERR_STREAM_DESTROYED;w.exports=function(){for(var d=arguments.length,o=Array(d),s=0;s<d;s++)o[s]=arguments[s];var p=a(o);if(Array.isArray(o[0])&&(o=o[0]),2>o.length)throw new E("streams");var S,O=o.map(function(C,L){var k=L<o.length-1;return b(C,k,0<L,function(A){S||(S=A),A&&O.forEach(r),k||(O.forEach(r),p(S))})});return o.reduce(n)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(m,w){function y(_,b,r){return _.highWaterMark==null?b?_[r]:null:_.highWaterMark}var h=m("../../../errors").codes.ERR_INVALID_OPT_VALUE;w.exports={getHighWaterMark:function(_,b,r,n){var a=y(b,n,r);if(a!=null){if(!(isFinite(a)&&e(a)===a)||0>a){var f=n?r:"highWaterMark";throw new h(f,a)}return e(a)}return _.objectMode?16:16384}}},{"../../../errors":15}],28:[function(m,w){w.exports=m("events").EventEmitter},{events:7}],29:[function(m,w,y){y=w.exports=m("./lib/_stream_readable.js"),y.Stream=y,y.Readable=y,y.Writable=m("./lib/_stream_writable.js"),y.Duplex=m("./lib/_stream_duplex.js"),y.Transform=m("./lib/_stream_transform.js"),y.PassThrough=m("./lib/_stream_passthrough.js"),y.finished=m("./lib/internal/streams/end-of-stream.js"),y.pipeline=m("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(m,w,y){function h(n,a){for(var f in n)a[f]=n[f]}function _(n,a,f){return r(n,a,f)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var b=m("buffer"),r=b.Buffer;r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?w.exports=b:(h(b,y),y.Buffer=_),_.prototype=Object.create(r.prototype),h(r,_),_.from=function(n,a,f){if(typeof n=="number")throw new TypeError("Argument must not be a number");return r(n,a,f)},_.alloc=function(n,a,f){if(typeof n!="number")throw new TypeError("Argument must be a number");var v=r(n);return a===void 0?v.fill(0):typeof f=="string"?v.fill(a,f):v.fill(a),v},_.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return r(n)},_.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return b.SlowBuffer(n)}},{buffer:3}],31:[function(m,w,y){function h(O){if(!O)return"utf8";for(var C;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if(C)return;O=(""+O).toLowerCase(),C=!0}}function _(O){var C=h(O);if(typeof C!="string"&&(p.isEncoding===S||!S(O)))throw new Error("Unknown encoding: "+O);return C||O}function b(O){this.encoding=_(O);var C;switch(this.encoding){case"utf16le":this.text=v,this.end=E,C=4;break;case"utf8":this.fillLast=f,C=4;break;case"base64":this.text=g,this.end=d,C=3;break;default:return this.write=o,void(this.end=s)}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(C)}function r(O){return 127>=O?0:O>>5==6?2:O>>4==14?3:O>>3==30?4:O>>6==2?-1:-2}function n(O,C,L){var k=C.length-1;if(k<L)return 0;var A=r(C[k]);return 0<=A?(0<A&&(O.lastNeed=A-1),A):--k<L||A===-2?0:(A=r(C[k]),0<=A?(0<A&&(O.lastNeed=A-2),A):--k<L||A===-2?0:(A=r(C[k]),0<=A?(0<A&&(A===2?A=0:O.lastNeed=A-3),A):0))}function a(O,C){if((192&C[0])!=128)return O.lastNeed=0,"";if(1<O.lastNeed&&1<C.length){if((192&C[1])!=128)return O.lastNeed=1,"";if(2<O.lastNeed&&2<C.length&&(192&C[2])!=128)return O.lastNeed=2,""}}function f(O){var C=this.lastTotal-this.lastNeed,L=a(this,O);return L===void 0?this.lastNeed<=O.length?(O.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,C,0,O.length),void(this.lastNeed-=O.length)):L}function v(O,C){if((O.length-C)%2==0){var L=O.toString("utf16le",C);if(L){var k=L.charCodeAt(L.length-1);if(55296<=k&&56319>=k)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1],L.slice(0,-1)}return L}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=O[O.length-1],O.toString("utf16le",C,O.length-1)}function E(O){var C=O&&O.length?this.write(O):"";if(this.lastNeed){var L=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,L)}return C}function g(O,C){var L=(O.length-C)%3;return L==0?O.toString("base64",C):(this.lastNeed=3-L,this.lastTotal=3,L==1?this.lastChar[0]=O[O.length-1]:(this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1]),O.toString("base64",C,O.length-L))}function d(O){var C=O&&O.length?this.write(O):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function o(O){return O.toString(this.encoding)}function s(O){return O&&O.length?this.write(O):""}var p=m("safe-buffer").Buffer,S=p.isEncoding||function(O){switch(O=""+O,O&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};y.StringDecoder=b,b.prototype.write=function(O){if(O.length===0)return"";var C,L;if(this.lastNeed){if(C=this.fillLast(O),C===void 0)return"";L=this.lastNeed,this.lastNeed=0}else L=0;return L<O.length?C?C+this.text(O,L):this.text(O,L):C||""},b.prototype.end=function(O){var C=O&&O.length?this.write(O):"";return this.lastNeed?C+"":C},b.prototype.text=function(O,C){var L=n(this,O,C);if(!this.lastNeed)return O.toString("utf8",C);this.lastTotal=L;var k=O.length-(L-this.lastNeed);return O.copy(this.lastChar,0,k),O.toString("utf8",C,k)},b.prototype.fillLast=function(O){return this.lastNeed<=O.length?(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,O.length),void(this.lastNeed-=O.length))}},{"safe-buffer":30}],32:[function(m,w){(function(y){(function(){function h(_){try{if(!y.localStorage)return!1}catch{return!1}var b=y.localStorage[_];return b!=null&&(b+"").toLowerCase()==="true"}w.exports=function(_,b){function r(){if(!n){if(h("throwDeprecation"))throw new Error(b);h("traceDeprecation")?console.trace(b):console.warn(b),n=!0}return _.apply(this,arguments)}if(h("noDeprecation"))return _;var n=!1;return r}}).call(this)}).call(this,typeof he>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:he)},{}],"/":[function(m,w){function y(d){return d.replace(/a=ice-options:trickle\s\n/g,"")}function h(d){console.warn(d)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const _=m("debug")("simple-peer"),b=m("get-browser-rtc"),r=m("randombytes"),n=m("readable-stream"),a=m("queue-microtask"),f=m("err-code"),{Buffer:v}=m("buffer"),E=65536;class g extends n.Duplex{constructor(o){if(o=Object.assign({allowHalfOpen:!1},o),super(o),this._id=r(4).toString("hex").slice(0,7),this._debug("new peer %o",o),this.channelName=o.initiator?o.channelName||r(20).toString("hex"):null,this.initiator=o.initiator||!1,this.channelConfig=o.channelConfig||g.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},g.config,o.config),this.offerOptions=o.offerOptions||{},this.answerOptions=o.answerOptions||{},this.sdpTransform=o.sdpTransform||(s=>s),this.streams=o.streams||(o.stream?[o.stream]:[]),this.trickle=o.trickle===void 0||o.trickle,this.allowHalfTrickle=o.allowHalfTrickle!==void 0&&o.allowHalfTrickle,this.iceCompleteTimeout=o.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=o.wrtc&&typeof o.wrtc=="object"?o.wrtc:b(),!this._wrtc)throw f(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(s){return void this.destroy(f(s,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=s=>{this._onIceCandidate(s)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(s=>{this.destroy(f(s,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=s=>{this._setupData(s)},this.streams&&this.streams.forEach(s=>{this.addStream(s)}),this._pc.ontrack=s=>{this._onTrack(s)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(o){if(!this.destroying){if(this.destroyed)throw f(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof o=="string")try{o=JSON.parse(o)}catch{o={}}this._debug("signal()"),o.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),o.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(o.transceiverRequest.kind,o.transceiverRequest.init)),o.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(o.candidate):this._pendingCandidates.push(o.candidate)),o.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(o)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(s=>{this._addIceCandidate(s)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(s=>{this.destroy(f(s,"ERR_SET_REMOTE_DESCRIPTION"))}),o.sdp||o.candidate||o.renegotiate||o.transceiverRequest||this.destroy(f(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(o){const s=new this._wrtc.RTCIceCandidate(o);this._pc.addIceCandidate(s).catch(p=>{!s.address||s.address.endsWith(".local")?h("Ignoring unsupported ICE candidate."):this.destroy(f(p,"ERR_ADD_ICE_CANDIDATE"))})}send(o){if(!this.destroying){if(this.destroyed)throw f(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(o)}}addTransceiver(o,s){if(!this.destroying){if(this.destroyed)throw f(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(o,s),this._needsNegotiation()}catch(p){this.destroy(f(p,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:o,init:s}})}}addStream(o){if(!this.destroying){if(this.destroyed)throw f(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),o.getTracks().forEach(s=>{this.addTrack(s,o)})}}addTrack(o,s){if(this.destroying)return;if(this.destroyed)throw f(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const p=this._senderMap.get(o)||new Map;let S=p.get(s);if(!S)S=this._pc.addTrack(o,s),p.set(s,S),this._senderMap.set(o,p),this._needsNegotiation();else throw S.removed?f(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):f(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(o,s,p){if(this.destroying)return;if(this.destroyed)throw f(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const S=this._senderMap.get(o),O=S?S.get(p):null;if(!O)throw f(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");s&&this._senderMap.set(s,S),O.replaceTrack==null?this.destroy(f(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):O.replaceTrack(s)}removeTrack(o,s){if(this.destroying)return;if(this.destroyed)throw f(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const p=this._senderMap.get(o),S=p?p.get(s):null;if(!S)throw f(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{S.removed=!0,this._pc.removeTrack(S)}catch(O){O.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(S):this.destroy(f(O,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(o){if(!this.destroying){if(this.destroyed)throw f(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),o.getTracks().forEach(s=>{this.removeTrack(s,o)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,a(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw f(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(o){this._destroy(o,()=>{})}_destroy(o,s){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",o&&(o.message||o)),a(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",o&&(o.message||o)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,o&&this.emit("error",o),this.emit("close"),s()}))}_setupData(o){if(!o.channel)return this.destroy(f(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=o.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=E),this.channelName=this._channel.label,this._channel.onmessage=p=>{this._onChannelMessage(p)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=p=>{const S=p.error instanceof Error?p.error:new Error(`Datachannel error: ${p.message} ${p.filename}:${p.lineno}:${p.colno}`);this.destroy(f(S,"ERR_DATA_CHANNEL"))};let s=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(s&&this._onChannelClose(),s=!0):s=!1},5e3)}_read(){}_write(o,s,p){if(this.destroyed)return p(f(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(o)}catch(S){return this.destroy(f(S,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>E?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=p):p(null)}else this._debug("write before connect"),this._chunk=o,this._cb=p}_onFinish(){if(!this.destroyed){const o=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?o():this.once("connect",o)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(o=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(o.sdp=y(o.sdp)),o.sdp=this.sdpTransform(o.sdp);const s=()=>{if(!this.destroyed){const p=this._pc.localDescription||o;this._debug("signal"),this.emit("signal",{type:p.type,sdp:p.sdp})}};this._pc.setLocalDescription(o).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?s():this.once("_iceComplete",s))}).catch(p=>{this.destroy(f(p,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(o=>{this.destroy(f(o,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(o=>{o.mid||!o.sender.track||o.requested||(o.requested=!0,this.addTransceiver(o.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(o=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(o.sdp=y(o.sdp)),o.sdp=this.sdpTransform(o.sdp);const s=()=>{if(!this.destroyed){const p=this._pc.localDescription||o;this._debug("signal"),this.emit("signal",{type:p.type,sdp:p.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(o).then(()=>{this.destroyed||(this.trickle||this._iceComplete?s():this.once("_iceComplete",s))}).catch(p=>{this.destroy(f(p,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(o=>{this.destroy(f(o,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(f(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const o=this._pc.iceConnectionState,s=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",o,s),this.emit("iceStateChange",o,s),(o==="connected"||o==="completed")&&(this._pcReady=!0,this._maybeReady()),o==="failed"&&this.destroy(f(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),o==="closed"&&this.destroy(f(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(o){const s=p=>(Object.prototype.toString.call(p.values)==="[object Array]"&&p.values.forEach(S=>{Object.assign(p,S)}),p);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(p=>{const S=[];p.forEach(O=>{S.push(s(O))}),o(null,S)},p=>o(p)):0<this._pc.getStats.length?this._pc.getStats(p=>{if(this.destroyed)return;const S=[];p.result().forEach(O=>{const C={};O.names().forEach(L=>{C[L]=O.stat(L)}),C.id=O.id,C.type=O.type,C.timestamp=O.timestamp,S.push(s(C))}),o(null,S)},p=>o(p)):o(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const o=()=>{this.destroyed||this.getStats((s,p)=>{if(this.destroyed)return;s&&(p=[]);const S={},O={},C={};let L=!1;p.forEach(A=>{(A.type==="remotecandidate"||A.type==="remote-candidate")&&(S[A.id]=A),(A.type==="localcandidate"||A.type==="local-candidate")&&(O[A.id]=A),(A.type==="candidatepair"||A.type==="candidate-pair")&&(C[A.id]=A)});const k=A=>{L=!0;let x=O[A.localCandidateId];x&&(x.ip||x.address)?(this.localAddress=x.ip||x.address,this.localPort=+x.port):x&&x.ipAddress?(this.localAddress=x.ipAddress,this.localPort=+x.portNumber):typeof A.googLocalAddress=="string"&&(x=A.googLocalAddress.split(":"),this.localAddress=x[0],this.localPort=+x[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let N=S[A.remoteCandidateId];N&&(N.ip||N.address)?(this.remoteAddress=N.ip||N.address,this.remotePort=+N.port):N&&N.ipAddress?(this.remoteAddress=N.ipAddress,this.remotePort=+N.portNumber):typeof A.googRemoteAddress=="string"&&(N=A.googRemoteAddress.split(":"),this.remoteAddress=N[0],this.remotePort=+N[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(p.forEach(A=>{A.type==="transport"&&A.selectedCandidatePairId&&k(C[A.selectedCandidatePairId]),(A.type==="googCandidatePair"&&A.googActiveConnection==="true"||(A.type==="candidatepair"||A.type==="candidate-pair")&&A.selected)&&k(A)}),!L&&(!Object.keys(C).length||Object.keys(O).length))return void setTimeout(o,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(x){return this.destroy(f(x,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const A=this._cb;this._cb=null,A(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};o()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>E)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(o=>{this._pc.removeTrack(o),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(o){this.destroyed||(o.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:o.candidate.candidate,sdpMLineIndex:o.candidate.sdpMLineIndex,sdpMid:o.candidate.sdpMid}}):!o.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),o.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(o){if(this.destroyed)return;let s=o.data;s instanceof ArrayBuffer&&(s=v.from(s)),this.push(s)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const o=this._cb;this._cb=null,o(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(o){this.destroyed||o.streams.forEach(s=>{this._debug("on track"),this.emit("track",o.track,s),this._remoteTracks.push({track:o.track,stream:s}),this._remoteStreams.some(p=>p.id===s.id)||(this._remoteStreams.push(s),a(()=>{this._debug("on stream"),this.emit("stream",s)}))})}_debug(){const o=[].slice.call(arguments);o[0]="["+this._id+"] "+o[0],_.apply(null,o)}}g.WEBRTC_SUPPORT=!!b(),g.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},g.channelConfig={},w.exports=g},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(vs);var _u=vs.exports;const wu=Ni(_u),Li=0,Di=1,ms=2,bs=(l,t)=>{wt(l,Li);const e=fl(t);Ft(l,e)},_s=(l,t,e)=>{wt(l,Di),Ft(l,al(t,e))},Eu=(l,t,e)=>_s(t,e,Gt(l)),ws=(l,t,e)=>{try{il(t,Gt(l),e)}catch(i){console.error("Caught error while handling a Yjs update",i)}},Ou=(l,t)=>{wt(l,ms),Ft(l,t)},Su=ws,ku=(l,t,e,i)=>{const u=Ot(l);switch(u){case Li:Eu(l,t,e);break;case Di:ws(l,e,i);break;case ms:Su(l,e,i);break;default:throw new Error("Unknown message type")}return u},Gr=3e4;class Au extends xr{constructor(t){super(),this.doc=t,this.clientID=t.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const e=Fe();this.getLocalState()!==null&&Gr/2<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const i=[];this.meta.forEach((u,m)=>{m!==this.clientID&&Gr<=e-u.lastUpdated&&this.states.has(m)&&i.push(m)}),i.length>0&&si(this,i,"timeout")},xe(Gr/10)),t.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(t){const e=this.clientID,i=this.meta.get(e),u=i===void 0?0:i.clock+1,m=this.states.get(e);t===null?this.states.delete(e):this.states.set(e,t),this.meta.set(e,{clock:u,lastUpdated:Fe()});const w=[],y=[],h=[],_=[];t===null?_.push(e):m==null?t!=null&&w.push(e):(y.push(e),jn(m,t)||h.push(e)),(w.length>0||h.length>0||_.length>0)&&this.emit("change",[{added:w,updated:h,removed:_},"local"]),this.emit("update",[{added:w,updated:y,removed:_},"local"])}setLocalStateField(t,e){const i=this.getLocalState();i!==null&&this.setLocalState({...i,[t]:e})}getStates(){return this.states}}const si=(l,t,e)=>{const i=[];for(let u=0;u<t.length;u++){const m=t[u];if(l.states.has(m)){if(l.states.delete(m),m===l.clientID){const w=l.meta.get(m);l.meta.set(m,{clock:w.clock+1,lastUpdated:Fe()})}i.push(m)}}i.length>0&&(l.emit("change",[{added:[],updated:[],removed:i},e]),l.emit("update",[{added:[],updated:[],removed:i},e]))},Tr=(l,t,e=l.states)=>{const i=t.length,u=Yt();wt(u,i);for(let m=0;m<i;m++){const w=t[m],y=e.get(w)||null,h=l.meta.get(w).clock;wt(u,w),wt(u,h),Ce(u,JSON.stringify(y))}return qt(u)},Tu=(l,t,e)=>{const i=Le(t),u=Fe(),m=[],w=[],y=[],h=[],_=Ot(i);for(let b=0;b<_;b++){const r=Ot(i);let n=Ot(i);const a=JSON.parse(Be(i)),f=l.meta.get(r),v=l.states.get(r),E=f===void 0?0:f.clock;(E<n||E===n&&a===null&&l.states.has(r))&&(a===null?r===l.clientID&&l.getLocalState()!=null?n++:l.states.delete(r):l.states.set(r,a),l.meta.set(r,{clock:n,lastUpdated:u}),f===void 0&&a!==null?m.push(r):f!==void 0&&a===null?h.push(r):a!==null&&(jn(a,v)||y.push(r),w.push(r)))}(m.length>0||y.length>0||h.length>0)&&l.emit("change",[{added:m,updated:y,removed:h},e]),(m.length>0||w.length>0||h.length>0)&&l.emit("update",[{added:m,updated:w,removed:h},e])},Cu=(l,t)=>{const e=Xr(l).buffer,i=Xr(t).buffer;return crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveKey"]).then(u=>crypto.subtle.deriveKey({name:"PBKDF2",salt:i,iterations:1e5,hash:"SHA-256"},u,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))},Es=(l,t)=>{if(!t)return yi(l);const e=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:e},t,l).then(i=>{const u=Yt();return Ce(u,"AES-GCM"),Ft(u,e),Ft(u,new Uint8Array(i)),qt(u)})},xu=(l,t)=>{const e=Yt();return On(e,l),Es(qt(e),t)},Os=(l,t)=>{if(!t)return yi(l);const e=Le(l);Be(e)!=="AES-GCM"&&ja(Je("Unknown encryption algorithm"));const u=Gt(e),m=Gt(e);return crypto.subtle.decrypt({name:"AES-GCM",iv:u},t,m).then(w=>new Uint8Array(w))},Ru=(l,t)=>Os(l,t).then(e=>En(Le(new Uint8Array(e)))),de=Ka("y-webrtc"),_n=0,Ss=3,Wn=1,Mi=4,Cr=new Map,rn=new Map,ks=l=>{let t=!0;l.webrtcConns.forEach(e=>{e.synced||(t=!1)}),(!t&&l.synced||t&&!l.synced)&&(l.synced=t,l.provider.emit("synced",[{synced:t}]),de("synced ",oe,l.name,an," with all peers"))},As=(l,t,e)=>{const i=Le(t),u=Yt(),m=Ot(i);if(l===void 0)return null;const w=l.awareness,y=l.doc;let h=!1;switch(m){case _n:{wt(u,_n);const _=ku(i,u,y,l);_===Di&&!l.synced&&e(),_===Li&&(h=!0);break}case Ss:wt(u,Wn),Ft(u,Tr(w,Array.from(w.getStates().keys()))),h=!0;break;case Wn:Tu(w,Gt(i),l);break;case Mi:{const _=sn(i)===1,b=Be(i);if(b!==l.peerId&&(l.bcConns.has(b)&&!_||!l.bcConns.has(b)&&_)){const r=[],n=[];_?(l.bcConns.add(b),n.push(b)):(l.bcConns.delete(b),r.push(b)),l.provider.emit("peers",[{added:n,removed:r,webrtcPeers:Array.from(l.webrtcConns.keys()),bcPeers:Array.from(l.bcConns)}]),Ts(l)}break}default:return console.error("Unable to compute message"),u}return h?u:null},Nu=(l,t)=>{const e=l.room;return de("received message from ",oe,l.remotePeerId,vi," (",e.name,")",an,Dr),As(e,t,()=>{l.synced=!0,de("synced ",oe,e.name,an," with ",oe,l.remotePeerId),ks(e)})},Yr=(l,t)=>{de("send message to ",oe,l.remotePeerId,an,vi," (",l.room.name,")",Dr);try{l.peer.send(qt(t))}catch{}},Lu=(l,t)=>{de("broadcast message in ",oe,l.name,an),l.webrtcConns.forEach(e=>{try{e.peer.send(t)}catch{}})};class ho{constructor(t,e,i,u){de("establishing connection to ",oe,i),this.room=u,this.remotePeerId=i,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new wu({initiator:e,...u.provider.peerOpts}),this.peer.on("signal",m=>{Ii(t,u,{to:i,from:u.peerId,type:"signal",signal:m})}),this.peer.on("connect",()=>{de("connected to ",oe,i),this.connected=!0;const w=u.provider.doc,y=u.awareness,h=Yt();wt(h,_n),bs(h,w),Yr(this,h);const _=y.getStates();if(_.size>0){const b=Yt();wt(b,Wn),Ft(b,Tr(y,Array.from(_.keys()))),Yr(this,b)}}),this.peer.on("close",()=>{this.connected=!1,this.closed=!0,u.webrtcConns.has(this.remotePeerId)&&(u.webrtcConns.delete(this.remotePeerId),u.provider.emit("peers",[{removed:[this.remotePeerId],added:[],webrtcPeers:Array.from(u.webrtcConns.keys()),bcPeers:Array.from(u.bcConns)}])),ks(u),this.peer.destroy(),de("closed connection to ",oe,i),ai(u)}),this.peer.on("error",m=>{de("Error in connection to ",oe,i,": ",m),ai(u)}),this.peer.on("data",m=>{const w=Nu(this,m);w!==null&&Yr(this,w)})}destroy(){this.peer.destroy()}}const $e=(l,t)=>Es(t,l.key).then(e=>l.mux(()=>mu(l.name,e))),po=(l,t)=>{l.bcconnected&&$e(l,t),Lu(l,t)},ai=l=>{Cr.forEach(t=>{t.connected&&(t.send({type:"subscribe",topics:[l.name]}),l.webrtcConns.size<l.provider.maxConns&&Ii(t,l,{type:"announce",from:l.peerId}))})},Ts=l=>{if(l.provider.filterBcConns){const t=Yt();wt(t,Mi),Fn(t,1),Ce(t,l.peerId),$e(l,qt(t))}};class Du{constructor(t,e,i,u){this.peerId=To(),this.doc=t,this.awareness=e.awareness,this.provider=e,this.synced=!1,this.name=i,this.key=u,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=bu(),this.bcconnected=!1,this._bcSubscriber=m=>Os(new Uint8Array(m),u).then(w=>this.mux(()=>{const y=As(this,w,()=>{});y&&$e(this,qt(y))})),this._docUpdateHandler=(m,w)=>{const y=Yt();wt(y,_n),Ou(y,m),po(this,qt(y))},this._awarenessUpdateHandler=({added:m,updated:w,removed:y},h)=>{const _=m.concat(w).concat(y),b=Yt();wt(b,Wn),Ft(b,Tr(this.awareness,_)),po(this,qt(b))},this._beforeUnloadHandler=()=>{si(this.awareness,[t.clientID],"window unload"),rn.forEach(m=>{m.disconnect()})},typeof window<"u"?window.addEventListener("beforeunload",this._beforeUnloadHandler):typeof process<"u"&&process.on("exit",this._beforeUnloadHandler)}connect(){this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),ai(this);const t=this.name;yu(t,this._bcSubscriber),this.bcconnected=!0,Ts(this);const e=Yt();wt(e,_n),bs(e,this.doc),$e(this,qt(e));const i=Yt();wt(i,_n),_s(i,this.doc),$e(this,qt(i));const u=Yt();wt(u,Ss),$e(this,qt(u));const m=Yt();wt(m,Wn),Ft(m,Tr(this.awareness,[this.doc.clientID])),$e(this,qt(m))}disconnect(){Cr.forEach(e=>{e.connected&&e.send({type:"unsubscribe",topics:[this.name]})}),si(this.awareness,[this.doc.clientID],"disconnect");const t=Yt();wt(t,Mi),Fn(t,0),Ce(t,this.peerId),$e(this,qt(t)),vu(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach(e=>e.destroy())}destroy(){this.disconnect(),typeof window<"u"?window.removeEventListener("beforeunload",this._beforeUnloadHandler):typeof process<"u"&&process.off("exit",this._beforeUnloadHandler)}}const Mu=(l,t,e,i)=>{if(rn.has(e))throw Je(`A Yjs Doc connected to room "${e}" already exists!`);const u=new Du(l,t,e,i);return rn.set(e,u),u},Ii=(l,t,e)=>{t.key?xu(e,t.key).then(i=>{l.send({type:"publish",topic:t.name,data:So(i)})}):l.send({type:"publish",topic:t.name,data:e})};class Iu extends du{constructor(t){super(t),this.providers=new Set,this.on("connect",()=>{de(`connected (${t})`);const e=Array.from(rn.keys());this.send({type:"subscribe",topics:e}),rn.forEach(i=>Ii(this,i,{type:"announce",from:i.peerId}))}),this.on("message",e=>{switch(e.type){case"publish":{const i=e.topic,u=rn.get(i);if(u==null||typeof i!="string")return;const m=w=>{const y=u.webrtcConns,h=u.peerId;if(w==null||w.from===h||w.to!==void 0&&w.to!==h||u.bcConns.has(w.from))return;const _=y.has(w.from)?()=>{}:()=>u.provider.emit("peers",[{removed:[],added:[w.from],webrtcPeers:Array.from(u.webrtcConns.keys()),bcPeers:Array.from(u.bcConns)}]);switch(w.type){case"announce":y.size<u.provider.maxConns&&(se(y,w.from,()=>new ho(this,!0,w.from,u)),_());break;case"signal":w.to===h&&(se(y,w.from,()=>new ho(this,!1,w.from,u)).peer.signal(w.signal),_());break}};u.key?typeof e.data=="string"&&Ru(ko(e.data),u.key).then(m):m(e.data)}}}),this.on("disconnect",()=>de(`disconnect (${t})`))}}class Pu extends xr{constructor(t,e,{signaling:i=["wss://y-webrtc-eu.fly.dev"],password:u=null,awareness:m=new Au(e),maxConns:w=20+xe(Ia()*15),filterBcConns:y=!0,peerOpts:h={}}={}){super(),this.roomName=t,this.doc=e,this.filterBcConns=y,this.awareness=m,this.shouldConnect=!1,this.signalingUrls=i,this.signalingConns=[],this.maxConns=w,this.peerOpts=h,this.key=u?Cu(u,t):yi(null),this.room=null,this.key.then(_=>{this.room=Mu(e,this,t,_),this.shouldConnect?this.room.connect():this.room.disconnect()}),this.connect(),this.destroy=this.destroy.bind(this),e.on("destroy",this.destroy)}get connected(){return this.room!==null&&this.shouldConnect}connect(){this.shouldConnect=!0,this.signalingUrls.forEach(t=>{const e=se(Cr,t,()=>new Iu(t));this.signalingConns.push(e),e.providers.add(this)}),this.room&&this.room.connect()}disconnect(){this.shouldConnect=!1,this.signalingConns.forEach(t=>{t.providers.delete(this),t.providers.size===0&&(t.destroy(),Cr.delete(t.url))}),this.room&&this.room.disconnect()}destroy(){this.doc.off("destroy",this.destroy),this.key.then(()=>{this.room.destroy(),rn.delete(this.roomName)}),super.destroy()}}const cr=(l,t,e,i,u)=>{try{if(t&&t.cursor&&e!==i.clientID){const m=t.user||{},w=m.color||"#ffa500",y=m.name||`User: ${e}`;l.createCursor(e.toString(),y,w);const h=ro(eo(t.cursor.anchor),i),_=ro(eo(t.cursor.head),i);h&&_&&h.type===u&&l.moveCursor(e.toString(),{index:h.index,length:_.index-h.index})}else l.removeCursor(e.toString())}catch(m){console.error(m)}};class ju{constructor(t,e,i){const u=t.doc;this.type=t,this.doc=u,this.quill=e;const m=e.getModule("cursors")||null;this.quillCursors=m,this._negatedUsedFormats={},this.awareness=i,this._awarenessChange=({added:w,removed:y,updated:h})=>{const _=i.getStates();w.forEach(b=>{cr(m,_.get(b),b,u,t)}),h.forEach(b=>{cr(m,_.get(b),b,u,t)}),y.forEach(b=>{m.removeCursor(b.toString())})},this._typeObserver=w=>{if(w.transaction.origin!==this){const y=w.delta,h=[];for(let _=0;_<y.length;_++){const b=y[_];b.insert!==void 0?h.push(Object.assign({},b,{attributes:Object.assign({},this._negatedUsedFormats,b.attributes||{})})):h.push(b)}e.updateContents(h,this)}},t.observe(this._typeObserver),this._quillObserver=(w,y,h,_)=>{if(y&&y.ops){const b=y.ops;b.forEach(r=>{if(r.attributes!==void 0)for(let n in r.attributes)this._negatedUsedFormats[n]===void 0&&(this._negatedUsedFormats[n]=!1)}),_!==this&&u.transact(()=>{t.applyDelta(b)},this)}if(i&&m){const b=e.getSelection(),r=i.getLocalState();if(b===null)i.getLocalState()!==null&&i.setLocalStateField("cursor",null);else{const n=no(t,b.index),a=no(t,b.index+b.length);(!r||!r.cursor||!io(n,r.cursor.anchor)||!io(a,r.cursor.head))&&i.setLocalStateField("cursor",{anchor:n,head:a})}i.getStates().forEach((n,a)=>{cr(m,n,a,u,t)})}},e.on("editor-change",this._quillObserver),e.setContents(t.toDelta(),this),m!==null&&i&&(i.getStates().forEach((w,y)=>{cr(m,w,y,u,t)}),i.on("change",this._awarenessChange))}destroy(){this.type.unobserve(this._typeObserver),this.quill.off("editor-change",this._quillObserver),this.awareness&&this.awareness.off("change",this._awarenessChange)}}var Cs={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(l,t){(function(i,u){l.exports=u()})(typeof self<"u"?self:he,function(){return function(e){var i={};function u(m){if(i[m])return i[m].exports;var w=i[m]={i:m,l:!1,exports:{}};return e[m].call(w.exports,w,w.exports,u),w.l=!0,w.exports}return u.m=e,u.c=i,u.d=function(m,w,y){u.o(m,w)||Object.defineProperty(m,w,{configurable:!1,enumerable:!0,get:y})},u.n=function(m){var w=m&&m.__esModule?function(){return m.default}:function(){return m};return u.d(w,"a",w),w},u.o=function(m,w){return Object.prototype.hasOwnProperty.call(m,w)},u.p="",u(u.s=109)}([function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(17),w=u(18),y=u(19),h=u(45),_=u(46),b=u(47),r=u(48),n=u(49),a=u(12),f=u(32),v=u(33),E=u(31),g=u(1),d={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:m.default,Format:w.default,Leaf:y.default,Embed:r.default,Scroll:h.default,Block:b.default,Inline:_.default,Text:n.default,Attributor:{Attribute:a.default,Class:f.default,Style:v.default,Store:E.default}};i.default=d},function(e,i,u){var m=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var o in d)d.hasOwnProperty(o)&&(g[o]=d[o])};return function(g,d){E(g,d);function o(){this.constructor=g}g.prototype=d===null?Object.create(d):(o.prototype=d.prototype,new o)}}();Object.defineProperty(i,"__esModule",{value:!0});var w=function(E){m(g,E);function g(d){var o=this;return d="[Parchment] "+d,o=E.call(this,d)||this,o.message=d,o.name=o.constructor.name,o}return g}(Error);i.ParchmentError=w;var y={},h={},_={},b={};i.DATA_KEY="__blot";var r;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(r=i.Scope||(i.Scope={}));function n(E,g){var d=f(E);if(d==null)throw new w("Unable to create "+E+" blot");var o=d,s=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:o.create(g);return new o(s,g)}i.create=n;function a(E,g){return g===void 0&&(g=!1),E==null?null:E[i.DATA_KEY]!=null?E[i.DATA_KEY].blot:g?a(E.parentNode,g):null}i.find=a;function f(E,g){g===void 0&&(g=r.ANY);var d;if(typeof E=="string")d=b[E]||y[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)d=b.text;else if(typeof E=="number")E&r.LEVEL&r.BLOCK?d=b.block:E&r.LEVEL&r.INLINE&&(d=b.inline);else if(E instanceof HTMLElement){var o=(E.getAttribute("class")||"").split(/\s+/);for(var s in o)if(d=h[o[s]],d)break;d=d||_[E.tagName]}return d==null?null:g&r.LEVEL&d.scope&&g&r.TYPE&d.scope?d:null}i.query=f;function v(){for(var E=[],g=0;g<arguments.length;g++)E[g]=arguments[g];if(E.length>1)return E.map(function(s){return v(s)});var d=E[0];if(typeof d.blotName!="string"&&typeof d.attrName!="string")throw new w("Invalid definition");if(d.blotName==="abstract")throw new w("Cannot register abstract class");if(b[d.blotName||d.attrName]=d,typeof d.keyName=="string")y[d.keyName]=d;else if(d.className!=null&&(h[d.className]=d),d.tagName!=null){Array.isArray(d.tagName)?d.tagName=d.tagName.map(function(s){return s.toUpperCase()}):d.tagName=d.tagName.toUpperCase();var o=Array.isArray(d.tagName)?d.tagName:[d.tagName];o.forEach(function(s){(_[s]==null||d.className==null)&&(_[s]=d)})}return d}i.register=v},function(e,i,u){var m=u(51),w=u(11),y=u(3),h=u(20),_=String.fromCharCode(0),b=function(r){Array.isArray(r)?this.ops=r:r!=null&&Array.isArray(r.ops)?this.ops=r.ops:this.ops=[]};b.prototype.insert=function(r,n){var a={};return r.length===0?this:(a.insert=r,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(a.attributes=n),this.push(a))},b.prototype.delete=function(r){return r<=0?this:this.push({delete:r})},b.prototype.retain=function(r,n){if(r<=0)return this;var a={retain:r};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(a.attributes=n),this.push(a)},b.prototype.push=function(r){var n=this.ops.length,a=this.ops[n-1];if(r=y(!0,{},r),typeof a=="object"){if(typeof r.delete=="number"&&typeof a.delete=="number")return this.ops[n-1]={delete:a.delete+r.delete},this;if(typeof a.delete=="number"&&r.insert!=null&&(n-=1,a=this.ops[n-1],typeof a!="object"))return this.ops.unshift(r),this;if(w(r.attributes,a.attributes)){if(typeof r.insert=="string"&&typeof a.insert=="string")return this.ops[n-1]={insert:a.insert+r.insert},typeof r.attributes=="object"&&(this.ops[n-1].attributes=r.attributes),this;if(typeof r.retain=="number"&&typeof a.retain=="number")return this.ops[n-1]={retain:a.retain+r.retain},typeof r.attributes=="object"&&(this.ops[n-1].attributes=r.attributes),this}}return n===this.ops.length?this.ops.push(r):this.ops.splice(n,0,r),this},b.prototype.chop=function(){var r=this.ops[this.ops.length-1];return r&&r.retain&&!r.attributes&&this.ops.pop(),this},b.prototype.filter=function(r){return this.ops.filter(r)},b.prototype.forEach=function(r){this.ops.forEach(r)},b.prototype.map=function(r){return this.ops.map(r)},b.prototype.partition=function(r){var n=[],a=[];return this.forEach(function(f){var v=r(f)?n:a;v.push(f)}),[n,a]},b.prototype.reduce=function(r,n){return this.ops.reduce(r,n)},b.prototype.changeLength=function(){return this.reduce(function(r,n){return n.insert?r+h.length(n):n.delete?r-n.delete:r},0)},b.prototype.length=function(){return this.reduce(function(r,n){return r+h.length(n)},0)},b.prototype.slice=function(r,n){r=r||0,typeof n!="number"&&(n=1/0);for(var a=[],f=h.iterator(this.ops),v=0;v<n&&f.hasNext();){var E;v<r?E=f.next(r-v):(E=f.next(n-v),a.push(E)),v+=h.length(E)}return new b(a)},b.prototype.compose=function(r){var n=h.iterator(this.ops),a=h.iterator(r.ops),f=[],v=a.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var E=v.retain;n.peekType()==="insert"&&n.peekLength()<=E;)E-=n.peekLength(),f.push(n.next());v.retain-E>0&&a.next(v.retain-E)}for(var g=new b(f);n.hasNext()||a.hasNext();)if(a.peekType()==="insert")g.push(a.next());else if(n.peekType()==="delete")g.push(n.next());else{var d=Math.min(n.peekLength(),a.peekLength()),o=n.next(d),s=a.next(d);if(typeof s.retain=="number"){var p={};typeof o.retain=="number"?p.retain=d:p.insert=o.insert;var S=h.attributes.compose(o.attributes,s.attributes,typeof o.retain=="number");if(S&&(p.attributes=S),g.push(p),!a.hasNext()&&w(g.ops[g.ops.length-1],p)){var O=new b(n.rest());return g.concat(O).chop()}}else typeof s.delete=="number"&&typeof o.retain=="number"&&g.push(s)}return g.chop()},b.prototype.concat=function(r){var n=new b(this.ops.slice());return r.ops.length>0&&(n.push(r.ops[0]),n.ops=n.ops.concat(r.ops.slice(1))),n},b.prototype.diff=function(r,n){if(this.ops===r.ops)return new b;var a=[this,r].map(function(d){return d.map(function(o){if(o.insert!=null)return typeof o.insert=="string"?o.insert:_;var s=d===r?"on":"with";throw new Error("diff() called "+s+" non-document")}).join("")}),f=new b,v=m(a[0],a[1],n),E=h.iterator(this.ops),g=h.iterator(r.ops);return v.forEach(function(d){for(var o=d[1].length;o>0;){var s=0;switch(d[0]){case m.INSERT:s=Math.min(g.peekLength(),o),f.push(g.next(s));break;case m.DELETE:s=Math.min(o,E.peekLength()),E.next(s),f.delete(s);break;case m.EQUAL:s=Math.min(E.peekLength(),g.peekLength(),o);var p=E.next(s),S=g.next(s);w(p.insert,S.insert)?f.retain(s,h.attributes.diff(p.attributes,S.attributes)):f.push(S).delete(s);break}o-=s}}),f.chop()},b.prototype.eachLine=function(r,n){n=n||`
`;for(var a=h.iterator(this.ops),f=new b,v=0;a.hasNext();){if(a.peekType()!=="insert")return;var E=a.peek(),g=h.length(E)-a.peekLength(),d=typeof E.insert=="string"?E.insert.indexOf(n,g)-g:-1;if(d<0)f.push(a.next());else if(d>0)f.push(a.next(d));else{if(r(f,a.next(1).attributes||{},v)===!1)return;v+=1,f=new b}}f.length()>0&&r(f,{},v)},b.prototype.transform=function(r,n){if(n=!!n,typeof r=="number")return this.transformPosition(r,n);for(var a=h.iterator(this.ops),f=h.iterator(r.ops),v=new b;a.hasNext()||f.hasNext();)if(a.peekType()==="insert"&&(n||f.peekType()!=="insert"))v.retain(h.length(a.next()));else if(f.peekType()==="insert")v.push(f.next());else{var E=Math.min(a.peekLength(),f.peekLength()),g=a.next(E),d=f.next(E);if(g.delete)continue;d.delete?v.push(d):v.retain(E,h.attributes.transform(g.attributes,d.attributes,n))}return v.chop()},b.prototype.transformPosition=function(r,n){n=!!n;for(var a=h.iterator(this.ops),f=0;a.hasNext()&&f<=r;){var v=a.peekLength(),E=a.peekType();if(a.next(),E==="delete"){r-=Math.min(v,r-f);continue}else E==="insert"&&(f<r||!n)&&(r+=v);f+=v}return r},e.exports=b},function(e,i){var u=Object.prototype.hasOwnProperty,m=Object.prototype.toString,w=Object.defineProperty,y=Object.getOwnPropertyDescriptor,h=function(a){return typeof Array.isArray=="function"?Array.isArray(a):m.call(a)==="[object Array]"},_=function(a){if(!a||m.call(a)!=="[object Object]")return!1;var f=u.call(a,"constructor"),v=a.constructor&&a.constructor.prototype&&u.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!f&&!v)return!1;var E;for(E in a);return typeof E>"u"||u.call(a,E)},b=function(a,f){w&&f.name==="__proto__"?w(a,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):a[f.name]=f.newValue},r=function(a,f){if(f==="__proto__")if(u.call(a,f)){if(y)return y(a,f).value}else return;return a[f]};e.exports=function n(){var a,f,v,E,g,d,o=arguments[0],s=1,p=arguments.length,S=!1;for(typeof o=="boolean"&&(S=o,o=arguments[1]||{},s=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});s<p;++s)if(a=arguments[s],a!=null)for(f in a)v=r(o,f),E=r(a,f),o!==E&&(S&&E&&(_(E)||(g=h(E)))?(g?(g=!1,d=v&&h(v)?v:[]):d=v&&_(v)?v:{},b(o,{name:f,newValue:n(S,d,E)})):typeof E<"u"&&b(o,{name:f,newValue:E}));return o}},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var m=function(){function A(x,N){for(var I=0;I<N.length;I++){var P=N[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(x,P.key,P)}}return function(x,N,I){return N&&A(x.prototype,N),I&&A(x,I),x}}(),w=function A(x,N,I){x===null&&(x=Function.prototype);var P=Object.getOwnPropertyDescriptor(x,N);if(P===void 0){var U=Object.getPrototypeOf(x);return U===null?void 0:A(U,N,I)}else{if("value"in P)return P.value;var $=P.get;return $===void 0?void 0:$.call(I)}},y=u(3),h=o(y),_=u(2),b=o(_),r=u(0),n=o(r),a=u(16),f=o(a),v=u(6),E=o(v),g=u(7),d=o(g);function o(A){return A&&A.__esModule?A:{default:A}}function s(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")}function p(A,x){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:A}function S(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);A.prototype=Object.create(x&&x.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(A,x):A.__proto__=x)}var O=1,C=function(A){S(x,A);function x(){return s(this,x),p(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return m(x,[{key:"attach",value:function(){w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"attach",this).call(this),this.attributes=new n.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new b.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(I,P){var U=n.default.query(I,n.default.Scope.BLOCK_ATTRIBUTE);U!=null&&this.attributes.attribute(U,P)}},{key:"formatAt",value:function(I,P,U,$){this.format(U,$)}},{key:"insertAt",value:function(I,P,U){if(typeof P=="string"&&P.endsWith(`
`)){var $=n.default.create(L.blotName);this.parent.insertBefore($,I===0?this:this.next),$.insertAt(0,P.slice(0,-1))}else w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,I,P,U)}}]),x}(n.default.Embed);C.scope=n.default.Scope.BLOCK_BLOT;var L=function(A){S(x,A);function x(N){s(this,x);var I=p(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,N));return I.cache={},I}return m(x,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(n.default.Leaf).reduce(function(I,P){return P.length()===0?I:I.insert(P.value(),k(P))},new b.default).insert(`
`,k(this))),this.cache.delta}},{key:"deleteAt",value:function(I,P){w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"deleteAt",this).call(this,I,P),this.cache={}}},{key:"formatAt",value:function(I,P,U,$){P<=0||(n.default.query(U,n.default.Scope.BLOCK)?I+P===this.length()&&this.format(U,$):w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"formatAt",this).call(this,I,Math.min(P,this.length()-I-1),U,$),this.cache={})}},{key:"insertAt",value:function(I,P,U){if(U!=null)return w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,I,P,U);if(P.length!==0){var $=P.split(`
`),et=$.shift();et.length>0&&(I<this.length()-1||this.children.tail==null?w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertAt",this).call(this,Math.min(I,this.length()-1),et):this.children.tail.insertAt(this.children.tail.length(),et),this.cache={});var K=this;$.reduce(function(V,q){return K=K.split(V,!0),K.insertAt(0,q),q.length},I+et.length)}}},{key:"insertBefore",value:function(I,P){var U=this.children.head;w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,I,P),U instanceof f.default&&U.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(I,P){w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"moveChildren",this).call(this,I,P),this.cache={}}},{key:"optimize",value:function(I){w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,I),this.cache={}}},{key:"path",value:function(I){return w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"path",this).call(this,I,!0)}},{key:"removeChild",value:function(I){w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"removeChild",this).call(this,I),this.cache={}}},{key:"split",value:function(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P&&(I===0||I>=this.length()-O)){var U=this.clone();return I===0?(this.parent.insertBefore(U,this),this):(this.parent.insertBefore(U,this.next),U)}else{var $=w(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"split",this).call(this,I,P);return this.cache={},$}}}]),x}(n.default.Block);L.blotName="block",L.tagName="P",L.defaultChild="break",L.allowedChildren=[E.default,n.default.Embed,d.default];function k(A){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null||(typeof A.formats=="function"&&(x=(0,h.default)(x,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope)?x:k(A.parent,x)}i.bubbleFormats=k,i.BlockEmbed=C,i.default=L},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},w=function(){function K(V,q){var H=[],F=!0,Z=!1,j=void 0;try{for(var D=V[Symbol.iterator](),B;!(F=(B=D.next()).done)&&(H.push(B.value),!(q&&H.length===q));F=!0);}catch(z){Z=!0,j=z}finally{try{!F&&D.return&&D.return()}finally{if(Z)throw j}}return H}return function(V,q){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return K(V,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function K(V,q){for(var H=0;H<q.length;H++){var F=q[H];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(V,F.key,F)}}return function(V,q,H){return q&&K(V.prototype,q),H&&K(V,H),V}}();u(50);var h=u(2),_=k(h),b=u(14),r=k(b),n=u(8),a=k(n),f=u(9),v=k(f),E=u(0),g=k(E),d=u(15),o=k(d),s=u(3),p=k(s),S=u(10),O=k(S),C=u(34),L=k(C);function k(K){return K&&K.__esModule?K:{default:K}}function A(K,V,q){return V in K?Object.defineProperty(K,V,{value:q,enumerable:!0,configurable:!0,writable:!0}):K[V]=q,K}function x(K,V){if(!(K instanceof V))throw new TypeError("Cannot call a class as a function")}var N=(0,O.default)("quill"),I=function(){y(K,null,[{key:"debug",value:function(q){q===!0&&(q="log"),O.default.level(q)}},{key:"find",value:function(q){return q.__quill||g.default.find(q)}},{key:"import",value:function(q){return this.imports[q]==null&&N.error("Cannot import "+q+". Are you sure it was registered?"),this.imports[q]}},{key:"register",value:function(q,H){var F=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof q!="string"){var j=q.attrName||q.blotName;typeof j=="string"?this.register("formats/"+j,q,H):Object.keys(q).forEach(function(D){F.register(D,q[D],H)})}else this.imports[q]!=null&&!Z&&N.warn("Overwriting "+q+" with",H),this.imports[q]=H,(q.startsWith("blots/")||q.startsWith("formats/"))&&H.blotName!=="abstract"?g.default.register(H):q.startsWith("modules")&&typeof H.register=="function"&&H.register()}}]);function K(V){var q=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(x(this,K),this.options=P(V,H),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",V);this.options.debug&&K.debug(this.options.debug);var F=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new a.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new r.default(this.scroll),this.selection=new o.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(a.default.events.EDITOR_CHANGE,function(j){j===a.default.events.TEXT_CHANGE&&q.root.classList.toggle("ql-blank",q.editor.isBlank())}),this.emitter.on(a.default.events.SCROLL_UPDATE,function(j,D){var B=q.selection.lastRange,z=B&&B.length===0?B.index:void 0;U.call(q,function(){return q.editor.update(null,D,z)},j)});var Z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+F+"<p><br></p></div>");this.setContents(Z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return y(K,[{key:"addContainer",value:function(q){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof q=="string"){var F=q;q=document.createElement("div"),q.classList.add(F)}return this.container.insertBefore(q,H),q}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(q,H,F){var Z=this,j=$(q,H,F),D=w(j,4);return q=D[0],H=D[1],F=D[3],U.call(this,function(){return Z.editor.deleteText(q,H)},F,q,-1*H)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(q),this.container.classList.toggle("ql-disabled",!q)}},{key:"focus",value:function(){var q=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=q,this.scrollIntoView()}},{key:"format",value:function(q,H){var F=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.default.sources.API;return U.call(this,function(){var j=F.getSelection(!0),D=new _.default;if(j==null)return D;if(g.default.query(q,g.default.Scope.BLOCK))D=F.editor.formatLine(j.index,j.length,A({},q,H));else{if(j.length===0)return F.selection.format(q,H),D;D=F.editor.formatText(j.index,j.length,A({},q,H))}return F.setSelection(j,a.default.sources.SILENT),D},Z)}},{key:"formatLine",value:function(q,H,F,Z,j){var D=this,B=void 0,z=$(q,H,F,Z,j),Y=w(z,4);return q=Y[0],H=Y[1],B=Y[2],j=Y[3],U.call(this,function(){return D.editor.formatLine(q,H,B)},j,q,0)}},{key:"formatText",value:function(q,H,F,Z,j){var D=this,B=void 0,z=$(q,H,F,Z,j),Y=w(z,4);return q=Y[0],H=Y[1],B=Y[2],j=Y[3],U.call(this,function(){return D.editor.formatText(q,H,B)},j,q,0)}},{key:"getBounds",value:function(q){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=void 0;typeof q=="number"?F=this.selection.getBounds(q,H):F=this.selection.getBounds(q.index,q.length);var Z=this.container.getBoundingClientRect();return{bottom:F.bottom-Z.top,height:F.height,left:F.left-Z.left,right:F.right-Z.left,top:F.top-Z.top,width:F.width}}},{key:"getContents",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,F=$(q,H),Z=w(F,2);return q=Z[0],H=Z[1],this.editor.getContents(q,H)}},{key:"getFormat",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof q=="number"?this.editor.getFormat(q,H):this.editor.getFormat(q.index,q.length)}},{key:"getIndex",value:function(q){return q.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(q){return this.scroll.leaf(q)}},{key:"getLine",value:function(q){return this.scroll.line(q)}},{key:"getLines",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof q!="number"?this.scroll.lines(q.index,q.length):this.scroll.lines(q,H)}},{key:"getModule",value:function(q){return this.theme.modules[q]}},{key:"getSelection",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return q&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,F=$(q,H),Z=w(F,2);return q=Z[0],H=Z[1],this.editor.getText(q,H)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(q,H,F){var Z=this,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:K.sources.API;return U.call(this,function(){return Z.editor.insertEmbed(q,H,F)},j,q)}},{key:"insertText",value:function(q,H,F,Z,j){var D=this,B=void 0,z=$(q,0,F,Z,j),Y=w(z,4);return q=Y[0],B=Y[2],j=Y[3],U.call(this,function(){return D.editor.insertText(q,H,B)},j,q,H.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(q,H,F){this.clipboard.dangerouslyPasteHTML(q,H,F)}},{key:"removeFormat",value:function(q,H,F){var Z=this,j=$(q,H,F),D=w(j,4);return q=D[0],H=D[1],F=D[3],U.call(this,function(){return Z.editor.removeFormat(q,H)},F,q)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(q){var H=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API;return U.call(this,function(){q=new _.default(q);var Z=H.getLength(),j=H.editor.deleteText(0,Z),D=H.editor.applyDelta(q),B=D.ops[D.ops.length-1];B!=null&&typeof B.insert=="string"&&B.insert[B.insert.length-1]===`
`&&(H.editor.deleteText(H.getLength()-1,1),D.delete(1));var z=j.compose(D);return z},F)}},{key:"setSelection",value:function(q,H,F){if(q==null)this.selection.setRange(null,H||K.sources.API);else{var Z=$(q,H,F),j=w(Z,4);q=j[0],H=j[1],F=j[3],this.selection.setRange(new d.Range(q,H),F),F!==a.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(q){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API,F=new _.default().insert(q);return this.setContents(F,H)}},{key:"update",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.default.sources.USER,H=this.scroll.update(q);return this.selection.update(q),H}},{key:"updateContents",value:function(q){var H=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API;return U.call(this,function(){return q=new _.default(q),H.editor.applyDelta(q,F)},F,!0)}}]),K}();I.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},I.events=a.default.events,I.sources=a.default.sources,I.version="1.3.7",I.imports={delta:_.default,parchment:g.default,"core/module":v.default,"core/theme":L.default};function P(K,V){if(V=(0,p.default)(!0,{container:K,modules:{clipboard:!0,keyboard:!0,history:!0}},V),!V.theme||V.theme===I.DEFAULTS.theme)V.theme=L.default;else if(V.theme=I.import("themes/"+V.theme),V.theme==null)throw new Error("Invalid theme "+V.theme+". Did you register it?");var q=(0,p.default)(!0,{},V.theme.DEFAULTS);[q,V].forEach(function(Z){Z.modules=Z.modules||{},Object.keys(Z.modules).forEach(function(j){Z.modules[j]===!0&&(Z.modules[j]={})})});var H=Object.keys(q.modules).concat(Object.keys(V.modules)),F=H.reduce(function(Z,j){var D=I.import("modules/"+j);return D==null?N.error("Cannot load "+j+" module. Are you sure you registered it?"):Z[j]=D.DEFAULTS||{},Z},{});return V.modules!=null&&V.modules.toolbar&&V.modules.toolbar.constructor!==Object&&(V.modules.toolbar={container:V.modules.toolbar}),V=(0,p.default)(!0,{},I.DEFAULTS,{modules:F},q,V),["bounds","container","scrollingContainer"].forEach(function(Z){typeof V[Z]=="string"&&(V[Z]=document.querySelector(V[Z]))}),V.modules=Object.keys(V.modules).reduce(function(Z,j){return V.modules[j]&&(Z[j]=V.modules[j]),Z},{}),V}function U(K,V,q,H){if(this.options.strict&&!this.isEnabled()&&V===a.default.sources.USER)return new _.default;var F=q==null?null:this.getSelection(),Z=this.editor.delta,j=K();if(F!=null&&(q===!0&&(q=F.index),H==null?F=et(F,j,V):H!==0&&(F=et(F,q,H,V)),this.setSelection(F,a.default.sources.SILENT)),j.length()>0){var D,B=[a.default.events.TEXT_CHANGE,j,Z,V];if((D=this.emitter).emit.apply(D,[a.default.events.EDITOR_CHANGE].concat(B)),V!==a.default.sources.SILENT){var z;(z=this.emitter).emit.apply(z,B)}}return j}function $(K,V,q,H,F){var Z={};return typeof K.index=="number"&&typeof K.length=="number"?typeof V!="number"?(F=H,H=q,q=V,V=K.length,K=K.index):(V=K.length,K=K.index):typeof V!="number"&&(F=H,H=q,q=V,V=0),(typeof q>"u"?"undefined":m(q))==="object"?(Z=q,F=H):typeof q=="string"&&(H!=null?Z[q]=H:F=q),F=F||a.default.sources.API,[K,V,Z,F]}function et(K,V,q,H){if(K==null)return null;var F=void 0,Z=void 0;if(V instanceof _.default){var j=[K.index,K.index+K.length].map(function(Y){return V.transformPosition(Y,H!==a.default.sources.USER)}),D=w(j,2);F=D[0],Z=D[1]}else{var B=[K.index,K.index+K.length].map(function(Y){return Y<V||Y===V&&H===a.default.sources.USER?Y:q>=0?Y+q:Math.max(V,Y+q)}),z=w(B,2);F=z[0],Z=z[1]}return new d.Range(F,Z-F)}i.expandConfig=P,i.overload=$,i.default=I},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function E(g,d){for(var o=0;o<d.length;o++){var s=d[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(g,s.key,s)}}return function(g,d,o){return d&&E(g.prototype,d),o&&E(g,o),g}}(),w=function E(g,d,o){g===null&&(g=Function.prototype);var s=Object.getOwnPropertyDescriptor(g,d);if(s===void 0){var p=Object.getPrototypeOf(g);return p===null?void 0:E(p,d,o)}else{if("value"in s)return s.value;var S=s.get;return S===void 0?void 0:S.call(o)}},y=u(7),h=r(y),_=u(0),b=r(_);function r(E){return E&&E.__esModule?E:{default:E}}function n(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")}function a(E,g){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:E}function f(E,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);E.prototype=Object.create(g&&g.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(E,g):E.__proto__=g)}var v=function(E){f(g,E);function g(){return n(this,g),a(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return m(g,[{key:"formatAt",value:function(o,s,p,S){if(g.compare(this.statics.blotName,p)<0&&b.default.query(p,b.default.Scope.BLOT)){var O=this.isolate(o,s);S&&O.wrap(p,S)}else w(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,o,s,p,S)}},{key:"optimize",value:function(o){if(w(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,o),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var s=this.parent.isolate(this.offset(),this.length());this.moveChildren(s),s.wrap(this)}}}],[{key:"compare",value:function(o,s){var p=g.order.indexOf(o),S=g.order.indexOf(s);return p>=0||S>=0?p-S:o===s?0:o<s?-1:1}}]),g}(b.default.Inline);v.allowedChildren=[v,b.default.Embed,h.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=v},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(0),w=y(m);function y(n){return n&&n.__esModule?n:{default:n}}function h(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function _(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:n}function b(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}var r=function(n){b(a,n);function a(){return h(this,a),_(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(w.default.Text);i.default=r},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function d(o,s){for(var p=0;p<s.length;p++){var S=s[p];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(o,S.key,S)}}return function(o,s,p){return s&&d(o.prototype,s),p&&d(o,p),o}}(),w=function d(o,s,p){o===null&&(o=Function.prototype);var S=Object.getOwnPropertyDescriptor(o,s);if(S===void 0){var O=Object.getPrototypeOf(o);return O===null?void 0:d(O,s,p)}else{if("value"in S)return S.value;var C=S.get;return C===void 0?void 0:C.call(p)}},y=u(54),h=r(y),_=u(10),b=r(_);function r(d){return d&&d.__esModule?d:{default:d}}function n(d,o){if(!(d instanceof o))throw new TypeError("Cannot call a class as a function")}function a(d,o){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:d}function f(d,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);d.prototype=Object.create(o&&o.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(d,o):d.__proto__=o)}var v=(0,b.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(d){document.addEventListener(d,function(){for(var o=arguments.length,s=Array(o),p=0;p<o;p++)s[p]=arguments[p];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(S){if(S.__quill&&S.__quill.emitter){var O;(O=S.__quill.emitter).handleDOM.apply(O,s)}})})});var g=function(d){f(o,d);function o(){n(this,o);var s=a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return s.listeners={},s.on("error",v.error),s}return m(o,[{key:"emit",value:function(){v.log.apply(v,arguments),w(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(p){for(var S=arguments.length,O=Array(S>1?S-1:0),C=1;C<S;C++)O[C-1]=arguments[C];(this.listeners[p.type]||[]).forEach(function(L){var k=L.node,A=L.handler;(p.target===k||k.contains(p.target))&&A.apply(void 0,[p].concat(O))})}},{key:"listenDOM",value:function(p,S,O){this.listeners[p]||(this.listeners[p]=[]),this.listeners[p].push({node:S,handler:O})}}]),o}(h.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},i.default=g},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});function m(y,h){if(!(y instanceof h))throw new TypeError("Cannot call a class as a function")}var w=function y(h){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};m(this,y),this.quill=h,this.options=_};w.DEFAULTS={},i.default=w},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=["error","warn","log","info"],w="warn";function y(_){if(m.indexOf(_)<=m.indexOf(w)){for(var b,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(b=console)[_].apply(b,n)}}function h(_){return m.reduce(function(b,r){return b[r]=y.bind(console,r,_),b},{})}y.level=h.level=function(_){w=_},i.default=h},function(e,i,u){var m=Array.prototype.slice,w=u(52),y=u(53),h=e.exports=function(n,a,f){return f||(f={}),n===a?!0:n instanceof Date&&a instanceof Date?n.getTime()===a.getTime():!n||!a||typeof n!="object"&&typeof a!="object"?f.strict?n===a:n==a:r(n,a,f)};function _(n){return n==null}function b(n){return!(!n||typeof n!="object"||typeof n.length!="number"||typeof n.copy!="function"||typeof n.slice!="function"||n.length>0&&typeof n[0]!="number")}function r(n,a,f){var v,E;if(_(n)||_(a)||n.prototype!==a.prototype)return!1;if(y(n))return y(a)?(n=m.call(n),a=m.call(a),h(n,a,f)):!1;if(b(n)){if(!b(a)||n.length!==a.length)return!1;for(v=0;v<n.length;v++)if(n[v]!==a[v])return!1;return!0}try{var g=w(n),d=w(a)}catch{return!1}if(g.length!=d.length)return!1;for(g.sort(),d.sort(),v=g.length-1;v>=0;v--)if(g[v]!=d[v])return!1;for(v=g.length-1;v>=0;v--)if(E=g[v],!h(n[E],a[E],f))return!1;return typeof n==typeof a}},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(1),w=function(){function y(h,_,b){b===void 0&&(b={}),this.attrName=h,this.keyName=_;var r=m.Scope.TYPE&m.Scope.ATTRIBUTE;b.scope!=null?this.scope=b.scope&m.Scope.LEVEL|r:this.scope=m.Scope.ATTRIBUTE,b.whitelist!=null&&(this.whitelist=b.whitelist)}return y.keys=function(h){return[].map.call(h.attributes,function(_){return _.name})},y.prototype.add=function(h,_){return this.canAdd(h,_)?(h.setAttribute(this.keyName,_),!0):!1},y.prototype.canAdd=function(h,_){var b=m.query(h,m.Scope.BLOT&(this.scope|m.Scope.TYPE));return b==null?!1:this.whitelist==null?!0:typeof _=="string"?this.whitelist.indexOf(_.replace(/["']/g,""))>-1:this.whitelist.indexOf(_)>-1},y.prototype.remove=function(h){h.removeAttribute(this.keyName)},y.prototype.value=function(h){var _=h.getAttribute(this.keyName);return this.canAdd(h,_)&&_?_:""},y}();i.default=w},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var m=function(){function C(L,k){var A=[],x=!0,N=!1,I=void 0;try{for(var P=L[Symbol.iterator](),U;!(x=(U=P.next()).done)&&(A.push(U.value),!(k&&A.length===k));x=!0);}catch($){N=!0,I=$}finally{try{!x&&P.return&&P.return()}finally{if(N)throw I}}return A}return function(L,k){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return C(L,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function C(L,k){for(var A=0;A<k.length;A++){var x=k[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(L,x.key,x)}}return function(L,k,A){return k&&C(L.prototype,k),A&&C(L,A),L}}(),y=function C(L,k,A){L===null&&(L=Function.prototype);var x=Object.getOwnPropertyDescriptor(L,k);if(x===void 0){var N=Object.getPrototypeOf(L);return N===null?void 0:C(N,k,A)}else{if("value"in x)return x.value;var I=x.get;return I===void 0?void 0:I.call(A)}},h=u(2),_=d(h),b=u(0),r=d(b),n=u(4),a=d(n),f=u(6),v=d(f),E=u(7),g=d(E);function d(C){return C&&C.__esModule?C:{default:C}}function o(C,L){if(!(C instanceof L))throw new TypeError("Cannot call a class as a function")}function s(C,L){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:C}function p(C,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);C.prototype=Object.create(L&&L.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(C,L):C.__proto__=L)}var S=function(C){p(L,C);function L(){return o(this,L),s(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return L}(v.default);S.blotName="code",S.tagName="CODE";var O=function(C){p(L,C);function L(){return o(this,L),s(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return w(L,[{key:"delta",value:function(){var A=this,x=this.domNode.textContent;return x.endsWith(`
`)&&(x=x.slice(0,-1)),x.split(`
`).reduce(function(N,I){return N.insert(I).insert(`
`,A.formats())},new _.default)}},{key:"format",value:function(A,x){if(!(A===this.statics.blotName&&x)){var N=this.descendant(g.default,this.length()-1),I=m(N,1),P=I[0];P!=null&&P.deleteAt(P.length()-1,1),y(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,A,x)}}},{key:"formatAt",value:function(A,x,N,I){if(x!==0&&!(r.default.query(N,r.default.Scope.BLOCK)==null||N===this.statics.blotName&&I===this.statics.formats(this.domNode))){var P=this.newlineIndex(A);if(!(P<0||P>=A+x)){var U=this.newlineIndex(A,!0)+1,$=P-U+1,et=this.isolate(U,$),K=et.next;et.format(N,I),K instanceof L&&K.formatAt(0,A-U+x-$,N,I)}}}},{key:"insertAt",value:function(A,x,N){if(N==null){var I=this.descendant(g.default,A),P=m(I,2),U=P[0],$=P[1];U.insertAt($,x)}}},{key:"length",value:function(){var A=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?A:A+1}},{key:"newlineIndex",value:function(A){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(x)return this.domNode.textContent.slice(0,A).lastIndexOf(`
`);var N=this.domNode.textContent.slice(A).indexOf(`
`);return N>-1?A+N:-1}},{key:"optimize",value:function(A){this.domNode.textContent.endsWith(`
`)||this.appendChild(r.default.create("text",`
`)),y(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,A);var x=this.next;x!=null&&x.prev===this&&x.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===x.statics.formats(x.domNode)&&(x.optimize(A),x.moveChildren(this),x.remove())}},{key:"replace",value:function(A){y(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replace",this).call(this,A),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(x){var N=r.default.find(x);N==null?x.parentNode.removeChild(x):N instanceof r.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(A){var x=y(L.__proto__||Object.getPrototypeOf(L),"create",this).call(this,A);return x.setAttribute("spellcheck",!1),x}},{key:"formats",value:function(){return!0}}]),L}(a.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",i.Code=S,i.default=O},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},w=function(){function K(V,q){var H=[],F=!0,Z=!1,j=void 0;try{for(var D=V[Symbol.iterator](),B;!(F=(B=D.next()).done)&&(H.push(B.value),!(q&&H.length===q));F=!0);}catch(z){Z=!0,j=z}finally{try{!F&&D.return&&D.return()}finally{if(Z)throw j}}return H}return function(V,q){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return K(V,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function K(V,q){for(var H=0;H<q.length;H++){var F=q[H];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(V,F.key,F)}}return function(V,q,H){return q&&K(V.prototype,q),H&&K(V,H),V}}(),h=u(2),_=x(h),b=u(20),r=x(b),n=u(0),a=x(n),f=u(13),v=x(f),E=u(24),g=x(E),d=u(4),o=x(d),s=u(16),p=x(s),S=u(21),O=x(S),C=u(11),L=x(C),k=u(3),A=x(k);function x(K){return K&&K.__esModule?K:{default:K}}function N(K,V,q){return V in K?Object.defineProperty(K,V,{value:q,enumerable:!0,configurable:!0,writable:!0}):K[V]=q,K}function I(K,V){if(!(K instanceof V))throw new TypeError("Cannot call a class as a function")}var P=/^[ -~]*$/,U=function(){function K(V){I(this,K),this.scroll=V,this.delta=this.getDelta()}return y(K,[{key:"applyDelta",value:function(q){var H=this,F=!1;this.scroll.update();var Z=this.scroll.length();return this.scroll.batchStart(),q=et(q),q.reduce(function(j,D){var B=D.retain||D.delete||D.insert.length||1,z=D.attributes||{};if(D.insert!=null){if(typeof D.insert=="string"){var Y=D.insert;Y.endsWith(`
`)&&F&&(F=!1,Y=Y.slice(0,-1)),j>=Z&&!Y.endsWith(`
`)&&(F=!0),H.scroll.insertAt(j,Y);var nt=H.scroll.line(j),ot=w(nt,2),ft=ot[0],ct=ot[1],gt=(0,A.default)({},(0,d.bubbleFormats)(ft));if(ft instanceof o.default){var X=ft.descendant(a.default.Leaf,ct),it=w(X,1),lt=it[0];gt=(0,A.default)(gt,(0,d.bubbleFormats)(lt))}z=r.default.attributes.diff(gt,z)||{}}else if(m(D.insert)==="object"){var J=Object.keys(D.insert)[0];if(J==null)return j;H.scroll.insertAt(j,J,D.insert[J])}Z+=B}return Object.keys(z).forEach(function(M){H.scroll.formatAt(j,B,M,z[M])}),j+B},0),q.reduce(function(j,D){return typeof D.delete=="number"?(H.scroll.deleteAt(j,D.delete),j):j+(D.retain||D.insert.length||1)},0),this.scroll.batchEnd(),this.update(q)}},{key:"deleteText",value:function(q,H){return this.scroll.deleteAt(q,H),this.update(new _.default().retain(q).delete(H))}},{key:"formatLine",value:function(q,H){var F=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Z).forEach(function(j){if(!(F.scroll.whitelist!=null&&!F.scroll.whitelist[j])){var D=F.scroll.lines(q,Math.max(H,1)),B=H;D.forEach(function(z){var Y=z.length();if(!(z instanceof v.default))z.format(j,Z[j]);else{var nt=q-z.offset(F.scroll),ot=z.newlineIndex(nt+B)-nt+1;z.formatAt(nt,ot,j,Z[j])}B-=Y})}}),this.scroll.optimize(),this.update(new _.default().retain(q).retain(H,(0,O.default)(Z)))}},{key:"formatText",value:function(q,H){var F=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Z).forEach(function(j){F.scroll.formatAt(q,H,j,Z[j])}),this.update(new _.default().retain(q).retain(H,(0,O.default)(Z)))}},{key:"getContents",value:function(q,H){return this.delta.slice(q,q+H)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(q,H){return q.concat(H.delta())},new _.default)}},{key:"getFormat",value:function(q){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,F=[],Z=[];H===0?this.scroll.path(q).forEach(function(D){var B=w(D,1),z=B[0];z instanceof o.default?F.push(z):z instanceof a.default.Leaf&&Z.push(z)}):(F=this.scroll.lines(q,H),Z=this.scroll.descendants(a.default.Leaf,q,H));var j=[F,Z].map(function(D){if(D.length===0)return{};for(var B=(0,d.bubbleFormats)(D.shift());Object.keys(B).length>0;){var z=D.shift();if(z==null)return B;B=$((0,d.bubbleFormats)(z),B)}return B});return A.default.apply(A.default,j)}},{key:"getText",value:function(q,H){return this.getContents(q,H).filter(function(F){return typeof F.insert=="string"}).map(function(F){return F.insert}).join("")}},{key:"insertEmbed",value:function(q,H,F){return this.scroll.insertAt(q,H,F),this.update(new _.default().retain(q).insert(N({},H,F)))}},{key:"insertText",value:function(q,H){var F=this,Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return H=H.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(q,H),Object.keys(Z).forEach(function(j){F.scroll.formatAt(q,H.length,j,Z[j])}),this.update(new _.default().retain(q).insert(H,(0,O.default)(Z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var q=this.scroll.children.head;return q.statics.blotName!==o.default.blotName||q.children.length>1?!1:q.children.head instanceof p.default}},{key:"removeFormat",value:function(q,H){var F=this.getText(q,H),Z=this.scroll.line(q+H),j=w(Z,2),D=j[0],B=j[1],z=0,Y=new _.default;D!=null&&(D instanceof v.default?z=D.newlineIndex(B)-B+1:z=D.length()-B,Y=D.delta().slice(B,B+z-1).insert(`
`));var nt=this.getContents(q,H+z),ot=nt.diff(new _.default().insert(F).concat(Y)),ft=new _.default().retain(q).concat(ot);return this.applyDelta(ft)}},{key:"update",value:function(q){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Z=this.delta;if(H.length===1&&H[0].type==="characterData"&&H[0].target.data.match(P)&&a.default.find(H[0].target)){var j=a.default.find(H[0].target),D=(0,d.bubbleFormats)(j),B=j.offset(this.scroll),z=H[0].oldValue.replace(g.default.CONTENTS,""),Y=new _.default().insert(z),nt=new _.default().insert(j.value()),ot=new _.default().retain(B).concat(Y.diff(nt,F));q=ot.reduce(function(ft,ct){return ct.insert?ft.insert(ct.insert,D):ft.push(ct)},new _.default),this.delta=Z.compose(q)}else this.delta=this.getDelta(),(!q||!(0,L.default)(Z.compose(q),this.delta))&&(q=Z.diff(this.delta,F));return q}}]),K}();function $(K,V){return Object.keys(V).reduce(function(q,H){return K[H]==null||(V[H]===K[H]?q[H]=V[H]:Array.isArray(V[H])?V[H].indexOf(K[H])<0&&(q[H]=V[H].concat([K[H]])):q[H]=[V[H],K[H]]),q},{})}function et(K){return K.reduce(function(V,q){if(q.insert===1){var H=(0,O.default)(q.attributes);return delete H.image,V.insert({image:q.attributes.image},H)}if(q.attributes!=null&&(q.attributes.list===!0||q.attributes.bullet===!0)&&(q=(0,O.default)(q),q.attributes.list?q.attributes.list="ordered":(q.attributes.list="bullet",delete q.attributes.bullet)),typeof q.insert=="string"){var F=q.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return V.insert(F,q.attributes)}return V.push(q)},new _.default)}i.default=U},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var m=function(){function C(L,k){var A=[],x=!0,N=!1,I=void 0;try{for(var P=L[Symbol.iterator](),U;!(x=(U=P.next()).done)&&(A.push(U.value),!(k&&A.length===k));x=!0);}catch($){N=!0,I=$}finally{try{!x&&P.return&&P.return()}finally{if(N)throw I}}return A}return function(L,k){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return C(L,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function C(L,k){for(var A=0;A<k.length;A++){var x=k[A];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(L,x.key,x)}}return function(L,k,A){return k&&C(L.prototype,k),A&&C(L,A),L}}(),y=u(0),h=g(y),_=u(21),b=g(_),r=u(11),n=g(r),a=u(8),f=g(a),v=u(10),E=g(v);function g(C){return C&&C.__esModule?C:{default:C}}function d(C){if(Array.isArray(C)){for(var L=0,k=Array(C.length);L<C.length;L++)k[L]=C[L];return k}else return Array.from(C)}function o(C,L){if(!(C instanceof L))throw new TypeError("Cannot call a class as a function")}var s=(0,E.default)("quill:selection"),p=function C(L){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;o(this,C),this.index=L,this.length=k},S=function(){function C(L,k){var A=this;o(this,C),this.emitter=k,this.scroll=L,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new p(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){A.mouseDown||setTimeout(A.update.bind(A,f.default.sources.USER),1)}),this.emitter.on(f.default.events.EDITOR_CHANGE,function(x,N){x===f.default.events.TEXT_CHANGE&&N.length()>0&&A.update(f.default.sources.SILENT)}),this.emitter.on(f.default.events.SCROLL_BEFORE_UPDATE,function(){if(A.hasFocus()){var x=A.getNativeRange();x!=null&&x.start.node!==A.cursor.textNode&&A.emitter.once(f.default.events.SCROLL_UPDATE,function(){try{A.setNativeRange(x.start.node,x.start.offset,x.end.node,x.end.offset)}catch{}})}}),this.emitter.on(f.default.events.SCROLL_OPTIMIZE,function(x,N){if(N.range){var I=N.range,P=I.startNode,U=I.startOffset,$=I.endNode,et=I.endOffset;A.setNativeRange(P,U,$,et)}}),this.update(f.default.sources.SILENT)}return w(C,[{key:"handleComposition",value:function(){var k=this;this.root.addEventListener("compositionstart",function(){k.composing=!0}),this.root.addEventListener("compositionend",function(){if(k.composing=!1,k.cursor.parent){var A=k.cursor.restore();if(!A)return;setTimeout(function(){k.setNativeRange(A.startNode,A.startOffset,A.endNode,A.endOffset)},1)}})}},{key:"handleDragging",value:function(){var k=this;this.emitter.listenDOM("mousedown",document.body,function(){k.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){k.mouseDown=!1,k.update(f.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(k,A){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[k])){this.scroll.update();var x=this.getNativeRange();if(!(x==null||!x.native.collapsed||h.default.query(k,h.default.Scope.BLOCK))){if(x.start.node!==this.cursor.textNode){var N=h.default.find(x.start.node,!1);if(N==null)return;if(N instanceof h.default.Leaf){var I=N.split(x.start.offset);N.parent.insertBefore(this.cursor,I)}else N.insertBefore(this.cursor,x.start.node);this.cursor.attach()}this.cursor.format(k,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(k){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=this.scroll.length();k=Math.min(k,x-1),A=Math.min(k+A,x-1)-k;var N=void 0,I=this.scroll.leaf(k),P=m(I,2),U=P[0],$=P[1];if(U==null)return null;var et=U.position($,!0),K=m(et,2);N=K[0],$=K[1];var V=document.createRange();if(A>0){V.setStart(N,$);var q=this.scroll.leaf(k+A),H=m(q,2);if(U=H[0],$=H[1],U==null)return null;var F=U.position($,!0),Z=m(F,2);return N=Z[0],$=Z[1],V.setEnd(N,$),V.getBoundingClientRect()}else{var j="left",D=void 0;return N instanceof Text?($<N.data.length?(V.setStart(N,$),V.setEnd(N,$+1)):(V.setStart(N,$-1),V.setEnd(N,$),j="right"),D=V.getBoundingClientRect()):(D=U.domNode.getBoundingClientRect(),$>0&&(j="right")),{bottom:D.top+D.height,height:D.height,left:D[j],right:D[j],top:D.top,width:0}}}},{key:"getNativeRange",value:function(){var k=document.getSelection();if(k==null||k.rangeCount<=0)return null;var A=k.getRangeAt(0);if(A==null)return null;var x=this.normalizeNative(A);return s.info("getNativeRange",x),x}},{key:"getRange",value:function(){var k=this.getNativeRange();if(k==null)return[null,null];var A=this.normalizedToRange(k);return[A,k]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(k){var A=this,x=[[k.start.node,k.start.offset]];k.native.collapsed||x.push([k.end.node,k.end.offset]);var N=x.map(function(U){var $=m(U,2),et=$[0],K=$[1],V=h.default.find(et,!0),q=V.offset(A.scroll);return K===0?q:V instanceof h.default.Container?q+V.length():q+V.index(et,K)}),I=Math.min(Math.max.apply(Math,d(N)),this.scroll.length()-1),P=Math.min.apply(Math,[I].concat(d(N)));return new p(P,I-P)}},{key:"normalizeNative",value:function(k){if(!O(this.root,k.startContainer)||!k.collapsed&&!O(this.root,k.endContainer))return null;var A={start:{node:k.startContainer,offset:k.startOffset},end:{node:k.endContainer,offset:k.endOffset},native:k};return[A.start,A.end].forEach(function(x){for(var N=x.node,I=x.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>I)N=N.childNodes[I],I=0;else if(N.childNodes.length===I)N=N.lastChild,I=N instanceof Text?N.data.length:N.childNodes.length+1;else break;x.node=N,x.offset=I}),A}},{key:"rangeToNative",value:function(k){var A=this,x=k.collapsed?[k.index]:[k.index,k.index+k.length],N=[],I=this.scroll.length();return x.forEach(function(P,U){P=Math.min(I-1,P);var $=void 0,et=A.scroll.leaf(P),K=m(et,2),V=K[0],q=K[1],H=V.position(q,U!==0),F=m(H,2);$=F[0],q=F[1],N.push($,q)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(k){var A=this.lastRange;if(A!=null){var x=this.getBounds(A.index,A.length);if(x!=null){var N=this.scroll.length()-1,I=this.scroll.line(Math.min(A.index,N)),P=m(I,1),U=P[0],$=U;if(A.length>0){var et=this.scroll.line(Math.min(A.index+A.length,N)),K=m(et,1);$=K[0]}if(!(U==null||$==null)){var V=k.getBoundingClientRect();x.top<V.top?k.scrollTop-=V.top-x.top:x.bottom>V.bottom&&(k.scrollTop+=x.bottom-V.bottom)}}}}},{key:"setNativeRange",value:function(k,A){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:k,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(s.info("setNativeRange",k,A,x,N),!(k!=null&&(this.root.parentNode==null||k.parentNode==null||x.parentNode==null))){var P=document.getSelection();if(P!=null)if(k!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||I||k!==U.startContainer||A!==U.startOffset||x!==U.endContainer||N!==U.endOffset){k.tagName=="BR"&&(A=[].indexOf.call(k.parentNode.childNodes,k),k=k.parentNode),x.tagName=="BR"&&(N=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode);var $=document.createRange();$.setStart(k,A),$.setEnd(x,N),P.removeAllRanges(),P.addRange($)}}else P.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(k){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;if(typeof A=="string"&&(x=A,A=!1),s.info("setRange",k),k!=null){var N=this.rangeToNative(k);this.setNativeRange.apply(this,d(N).concat([A]))}else this.setNativeRange(null);this.update(x)}},{key:"update",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,A=this.lastRange,x=this.getRange(),N=m(x,2),I=N[0],P=N[1];if(this.lastRange=I,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,n.default)(A,this.lastRange)){var U;!this.composing&&P!=null&&P.native.collapsed&&P.start.node!==this.cursor.textNode&&this.cursor.restore();var $=[f.default.events.SELECTION_CHANGE,(0,b.default)(this.lastRange),(0,b.default)(A),k];if((U=this.emitter).emit.apply(U,[f.default.events.EDITOR_CHANGE].concat($)),k!==f.default.sources.SILENT){var et;(et=this.emitter).emit.apply(et,$)}}}}]),C}();function O(C,L){try{L.parentNode}catch{return!1}return L instanceof Text&&(L=L.parentNode),C.contains(L)}i.Range=p,i.default=S},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function f(v,E){for(var g=0;g<E.length;g++){var d=E[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(v,d.key,d)}}return function(v,E,g){return E&&f(v.prototype,E),g&&f(v,g),v}}(),w=function f(v,E,g){v===null&&(v=Function.prototype);var d=Object.getOwnPropertyDescriptor(v,E);if(d===void 0){var o=Object.getPrototypeOf(v);return o===null?void 0:f(o,E,g)}else{if("value"in d)return d.value;var s=d.get;return s===void 0?void 0:s.call(g)}},y=u(0),h=_(y);function _(f){return f&&f.__esModule?f:{default:f}}function b(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function r(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function n(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var a=function(f){n(v,f);function v(){return b(this,v),r(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return m(v,[{key:"insertInto",value:function(g,d){g.children.length===0?w(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,g,d):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(h.default.Embed);a.blotName="break",a.tagName="BR",i.default=a},function(e,i,u){var m=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var f in a)a.hasOwnProperty(f)&&(n[f]=a[f])};return function(n,a){r(n,a);function f(){this.constructor=n}n.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var w=u(44),y=u(30),h=u(1),_=function(r){m(n,r);function n(a){var f=r.call(this,a)||this;return f.build(),f}return n.prototype.appendChild=function(a){this.insertBefore(a)},n.prototype.attach=function(){r.prototype.attach.call(this),this.children.forEach(function(a){a.attach()})},n.prototype.build=function(){var a=this;this.children=new w.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var v=b(f);a.insertBefore(v,a.children.head||void 0)}catch(E){if(E instanceof h.ParchmentError)return;throw E}})},n.prototype.deleteAt=function(a,f){if(a===0&&f===this.length())return this.remove();this.children.forEachAt(a,f,function(v,E,g){v.deleteAt(E,g)})},n.prototype.descendant=function(a,f){var v=this.children.find(f),E=v[0],g=v[1];return a.blotName==null&&a(E)||a.blotName!=null&&E instanceof a?[E,g]:E instanceof n?E.descendant(a,g):[null,-1]},n.prototype.descendants=function(a,f,v){f===void 0&&(f=0),v===void 0&&(v=Number.MAX_VALUE);var E=[],g=v;return this.children.forEachAt(f,v,function(d,o,s){(a.blotName==null&&a(d)||a.blotName!=null&&d instanceof a)&&E.push(d),d instanceof n&&(E=E.concat(d.descendants(a,o,g))),g-=s}),E},n.prototype.detach=function(){this.children.forEach(function(a){a.detach()}),r.prototype.detach.call(this)},n.prototype.formatAt=function(a,f,v,E){this.children.forEachAt(a,f,function(g,d,o){g.formatAt(d,o,v,E)})},n.prototype.insertAt=function(a,f,v){var E=this.children.find(a),g=E[0],d=E[1];if(g)g.insertAt(d,f,v);else{var o=v==null?h.create("text",f):h.create(f,v);this.appendChild(o)}},n.prototype.insertBefore=function(a,f){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return a instanceof v}))throw new h.ParchmentError("Cannot insert "+a.statics.blotName+" into "+this.statics.blotName);a.insertInto(this,f)},n.prototype.length=function(){return this.children.reduce(function(a,f){return a+f.length()},0)},n.prototype.moveChildren=function(a,f){this.children.forEach(function(v){a.insertBefore(v,f)})},n.prototype.optimize=function(a){if(r.prototype.optimize.call(this,a),this.children.length===0)if(this.statics.defaultChild!=null){var f=h.create(this.statics.defaultChild);this.appendChild(f),f.optimize(a)}else this.remove()},n.prototype.path=function(a,f){f===void 0&&(f=!1);var v=this.children.find(a,f),E=v[0],g=v[1],d=[[this,a]];return E instanceof n?d.concat(E.path(g,f)):(E!=null&&d.push([E,g]),d)},n.prototype.removeChild=function(a){this.children.remove(a)},n.prototype.replace=function(a){a instanceof n&&a.moveChildren(this),r.prototype.replace.call(this,a)},n.prototype.split=function(a,f){if(f===void 0&&(f=!1),!f){if(a===0)return this;if(a===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(a,this.length(),function(E,g,d){E=E.split(g,f),v.appendChild(E)}),v},n.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},n.prototype.update=function(a,f){var v=this,E=[],g=[];a.forEach(function(d){d.target===v.domNode&&d.type==="childList"&&(E.push.apply(E,d.addedNodes),g.push.apply(g,d.removedNodes))}),g.forEach(function(d){if(!(d.parentNode!=null&&d.tagName!=="IFRAME"&&document.body.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var o=h.find(d);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===v.domNode)&&o.detach()}}),E.filter(function(d){return d.parentNode==v.domNode}).sort(function(d,o){return d===o?0:d.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(d){var o=null;d.nextSibling!=null&&(o=h.find(d.nextSibling));var s=b(d);(s.next!=o||s.next==null)&&(s.parent!=null&&s.parent.removeChild(v),v.insertBefore(s,o||void 0))})},n}(y.default);function b(r){var n=h.find(r);if(n==null)try{n=h.create(r)}catch{n=h.create(h.Scope.INLINE),[].slice.call(r.childNodes).forEach(function(f){n.domNode.appendChild(f)}),r.parentNode&&r.parentNode.replaceChild(n.domNode,r),n.attach()}return n}i.default=_},function(e,i,u){var m=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var f in a)a.hasOwnProperty(f)&&(n[f]=a[f])};return function(n,a){r(n,a);function f(){this.constructor=n}n.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var w=u(12),y=u(31),h=u(17),_=u(1),b=function(r){m(n,r);function n(a){var f=r.call(this,a)||this;return f.attributes=new y.default(f.domNode),f}return n.formats=function(a){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return a.tagName.toLowerCase()},n.prototype.format=function(a,f){var v=_.query(a);v instanceof w.default?this.attributes.attribute(v,f):f&&v!=null&&(a!==this.statics.blotName||this.formats()[a]!==f)&&this.replaceWith(a,f)},n.prototype.formats=function(){var a=this.attributes.values(),f=this.statics.formats(this.domNode);return f!=null&&(a[this.statics.blotName]=f),a},n.prototype.replaceWith=function(a,f){var v=r.prototype.replaceWith.call(this,a,f);return this.attributes.copy(v),v},n.prototype.update=function(a,f){var v=this;r.prototype.update.call(this,a,f),a.some(function(E){return E.target===v.domNode&&E.type==="attributes"})&&this.attributes.build()},n.prototype.wrap=function(a,f){var v=r.prototype.wrap.call(this,a,f);return v instanceof n&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},n}(h.default);i.default=b},function(e,i,u){var m=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,r){b.__proto__=r}||function(b,r){for(var n in r)r.hasOwnProperty(n)&&(b[n]=r[n])};return function(b,r){_(b,r);function n(){this.constructor=b}b.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var w=u(30),y=u(1),h=function(_){m(b,_);function b(){return _!==null&&_.apply(this,arguments)||this}return b.value=function(r){return!0},b.prototype.index=function(r,n){return this.domNode===r||this.domNode.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1},b.prototype.position=function(r,n){var a=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return r>0&&(a+=1),[this.parent.domNode,a]},b.prototype.value=function(){var r;return r={},r[this.statics.blotName]=this.statics.value(this.domNode)||!0,r},b.scope=y.Scope.INLINE_BLOT,b}(w.default);i.default=h},function(e,i,u){var m=u(11),w=u(3),y={attributes:{compose:function(_,b,r){typeof _!="object"&&(_={}),typeof b!="object"&&(b={});var n=w(!0,{},b);r||(n=Object.keys(n).reduce(function(f,v){return n[v]!=null&&(f[v]=n[v]),f},{}));for(var a in _)_[a]!==void 0&&b[a]===void 0&&(n[a]=_[a]);return Object.keys(n).length>0?n:void 0},diff:function(_,b){typeof _!="object"&&(_={}),typeof b!="object"&&(b={});var r=Object.keys(_).concat(Object.keys(b)).reduce(function(n,a){return m(_[a],b[a])||(n[a]=b[a]===void 0?null:b[a]),n},{});return Object.keys(r).length>0?r:void 0},transform:function(_,b,r){if(typeof _!="object")return b;if(typeof b=="object"){if(!r)return b;var n=Object.keys(b).reduce(function(a,f){return _[f]===void 0&&(a[f]=b[f]),a},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(_){return new h(_)},length:function(_){return typeof _.delete=="number"?_.delete:typeof _.retain=="number"?_.retain:typeof _.insert=="string"?_.insert.length:1}};function h(_){this.ops=_,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(_){_||(_=1/0);var b=this.ops[this.index];if(b){var r=this.offset,n=y.length(b);if(_>=n-r?(_=n-r,this.index+=1,this.offset=0):this.offset+=_,typeof b.delete=="number")return{delete:_};var a={};return b.attributes&&(a.attributes=b.attributes),typeof b.retain=="number"?a.retain=_:typeof b.insert=="string"?a.insert=b.insert.substr(r,_):a.insert=b.insert,a}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?y.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var _=this.offset,b=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=_,this.index=b,[r].concat(n)}else return[]},e.exports=y},function(e,i){var u=function(){function m(v,E){return E!=null&&v instanceof E}var w;try{w=Map}catch{w=function(){}}var y;try{y=Set}catch{y=function(){}}var h;try{h=Promise}catch{h=function(){}}function _(v,E,g,d,o){typeof E=="object"&&(g=E.depth,d=E.prototype,o=E.includeNonEnumerable,E=E.circular);var s=[],p=[],S=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof g>"u"&&(g=1/0);function O(C,L){if(C===null)return null;if(L===0)return C;var k,A;if(typeof C!="object")return C;if(m(C,w))k=new w;else if(m(C,y))k=new y;else if(m(C,h))k=new h(function(V,q){C.then(function(H){V(O(H,L-1))},function(H){q(O(H,L-1))})});else if(_.__isArray(C))k=[];else if(_.__isRegExp(C))k=new RegExp(C.source,f(C)),C.lastIndex&&(k.lastIndex=C.lastIndex);else if(_.__isDate(C))k=new Date(C.getTime());else{if(S&&Buffer.isBuffer(C))return Buffer.allocUnsafe?k=Buffer.allocUnsafe(C.length):k=new Buffer(C.length),C.copy(k),k;m(C,Error)?k=Object.create(C):typeof d>"u"?(A=Object.getPrototypeOf(C),k=Object.create(A)):(k=Object.create(d),A=d)}if(E){var x=s.indexOf(C);if(x!=-1)return p[x];s.push(C),p.push(k)}m(C,w)&&C.forEach(function(V,q){var H=O(q,L-1),F=O(V,L-1);k.set(H,F)}),m(C,y)&&C.forEach(function(V){var q=O(V,L-1);k.add(q)});for(var N in C){var I;A&&(I=Object.getOwnPropertyDescriptor(A,N)),!(I&&I.set==null)&&(k[N]=O(C[N],L-1))}if(Object.getOwnPropertySymbols)for(var P=Object.getOwnPropertySymbols(C),N=0;N<P.length;N++){var U=P[N],$=Object.getOwnPropertyDescriptor(C,U);$&&!$.enumerable&&!o||(k[U]=O(C[U],L-1),$.enumerable||Object.defineProperty(k,U,{enumerable:!1}))}if(o)for(var et=Object.getOwnPropertyNames(C),N=0;N<et.length;N++){var K=et[N],$=Object.getOwnPropertyDescriptor(C,K);$&&$.enumerable||(k[K]=O(C[K],L-1),Object.defineProperty(k,K,{enumerable:!1}))}return k}return O(v,g)}_.clonePrototype=function(E){if(E===null)return null;var g=function(){};return g.prototype=E,new g};function b(v){return Object.prototype.toString.call(v)}_.__objToStr=b;function r(v){return typeof v=="object"&&b(v)==="[object Date]"}_.__isDate=r;function n(v){return typeof v=="object"&&b(v)==="[object Array]"}_.__isArray=n;function a(v){return typeof v=="object"&&b(v)==="[object RegExp]"}_.__isRegExp=a;function f(v){var E="";return v.global&&(E+="g"),v.ignoreCase&&(E+="i"),v.multiline&&(E+="m"),E}return _.__getRegExpFlags=f,_}();typeof e=="object"&&e.exports&&(e.exports=u)},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function k(A,x){var N=[],I=!0,P=!1,U=void 0;try{for(var $=A[Symbol.iterator](),et;!(I=(et=$.next()).done)&&(N.push(et.value),!(x&&N.length===x));I=!0);}catch(K){P=!0,U=K}finally{try{!I&&$.return&&$.return()}finally{if(P)throw U}}return N}return function(A,x){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return k(A,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function k(A,x){for(var N=0;N<x.length;N++){var I=x[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,x,N){return x&&k(A.prototype,x),N&&k(A,N),A}}(),y=function k(A,x,N){A===null&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,x);if(I===void 0){var P=Object.getPrototypeOf(A);return P===null?void 0:k(P,x,N)}else{if("value"in I)return I.value;var U=I.get;return U===void 0?void 0:U.call(N)}},h=u(0),_=s(h),b=u(8),r=s(b),n=u(4),a=s(n),f=u(16),v=s(f),E=u(13),g=s(E),d=u(25),o=s(d);function s(k){return k&&k.__esModule?k:{default:k}}function p(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function S(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function O(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}function C(k){return k instanceof a.default||k instanceof n.BlockEmbed}var L=function(k){O(A,k);function A(x,N){p(this,A);var I=S(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,x));return I.emitter=N.emitter,Array.isArray(N.whitelist)&&(I.whitelist=N.whitelist.reduce(function(P,U){return P[U]=!0,P},{})),I.domNode.addEventListener("DOMNodeInserted",function(){}),I.optimize(),I.enable(),I}return w(A,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,I){var P=this.line(N),U=m(P,2),$=U[0],et=U[1],K=this.line(N+I),V=m(K,1),q=V[0];if(y(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,N,I),q!=null&&$!==q&&et>0){if($ instanceof n.BlockEmbed||q instanceof n.BlockEmbed){this.optimize();return}if($ instanceof g.default){var H=$.newlineIndex($.length(),!0);if(H>-1&&($=$.split(H+1),$===q)){this.optimize();return}}else if(q instanceof g.default){var F=q.newlineIndex(0);F>-1&&q.split(F+1)}var Z=q.children.head instanceof v.default?null:q.children.head;$.moveChildren(q,Z),$.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,I,P,U){this.whitelist!=null&&!this.whitelist[P]||(y(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,N,I,P,U),this.optimize())}},{key:"insertAt",value:function(N,I,P){if(!(P!=null&&this.whitelist!=null&&!this.whitelist[I])){if(N>=this.length())if(P==null||_.default.query(I,_.default.Scope.BLOCK)==null){var U=_.default.create(this.statics.defaultChild);this.appendChild(U),P==null&&I.endsWith(`
`)&&(I=I.slice(0,-1)),U.insertAt(0,I,P)}else{var $=_.default.create(I,P);this.appendChild($)}else y(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,N,I,P);this.optimize()}}},{key:"insertBefore",value:function(N,I){if(N.statics.scope===_.default.Scope.INLINE_BLOT){var P=_.default.create(this.statics.defaultChild);P.appendChild(N),N=P}y(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,N,I)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(C,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,P=function U($,et,K){var V=[],q=K;return $.children.forEachAt(et,K,function(H,F,Z){C(H)?V.push(H):H instanceof _.default.Container&&(V=V.concat(U(H,F,q))),q-=Z}),V};return P(this,N,I)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(y(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,N,I),N.length>0&&this.emitter.emit(r.default.events.SCROLL_OPTIMIZE,N,I))}},{key:"path",value:function(N){return y(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var I=r.default.sources.USER;typeof N=="string"&&(I=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(r.default.events.SCROLL_BEFORE_UPDATE,I,N),y(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(r.default.events.SCROLL_UPDATE,I,N)}}}]),A}(_.default.Scroll);L.blotName="scroll",L.className="ql-editor",L.tagName="DIV",L.defaultChild="block",L.allowedChildren=[a.default,n.BlockEmbed,o.default],i.default=L},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},w=function(){function D(B,z){var Y=[],nt=!0,ot=!1,ft=void 0;try{for(var ct=B[Symbol.iterator](),gt;!(nt=(gt=ct.next()).done)&&(Y.push(gt.value),!(z&&Y.length===z));nt=!0);}catch(X){ot=!0,ft=X}finally{try{!nt&&ct.return&&ct.return()}finally{if(ot)throw ft}}return Y}return function(B,z){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return D(B,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function D(B,z){for(var Y=0;Y<z.length;Y++){var nt=z[Y];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(B,nt.key,nt)}}return function(B,z,Y){return z&&D(B.prototype,z),Y&&D(B,Y),B}}(),h=u(21),_=k(h),b=u(11),r=k(b),n=u(3),a=k(n),f=u(2),v=k(f),E=u(20),g=k(E),d=u(0),o=k(d),s=u(5),p=k(s),S=u(10),O=k(S),C=u(9),L=k(C);function k(D){return D&&D.__esModule?D:{default:D}}function A(D,B,z){return B in D?Object.defineProperty(D,B,{value:z,enumerable:!0,configurable:!0,writable:!0}):D[B]=z,D}function x(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function N(D,B){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:D}function I(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(D,B):D.__proto__=B)}var P=(0,O.default)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",$=function(D){I(B,D),y(B,null,[{key:"match",value:function(Y,nt){return nt=j(nt),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ot){return!!nt[ot]!==Y[ot]&&nt[ot]!==null})?!1:nt.key===(Y.which||Y.keyCode)}}]);function B(z,Y){x(this,B);var nt=N(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,z,Y));return nt.bindings={},Object.keys(nt.options.bindings).forEach(function(ot){ot==="list autofill"&&z.scroll.whitelist!=null&&!z.scroll.whitelist.list||nt.options.bindings[ot]&&nt.addBinding(nt.options.bindings[ot])}),nt.addBinding({key:B.keys.ENTER,shiftKey:null},H),nt.addBinding({key:B.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(nt.addBinding({key:B.keys.BACKSPACE},{collapsed:!0},K),nt.addBinding({key:B.keys.DELETE},{collapsed:!0},V)):(nt.addBinding({key:B.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},K),nt.addBinding({key:B.keys.DELETE},{collapsed:!0,suffix:/^.?$/},V)),nt.addBinding({key:B.keys.BACKSPACE},{collapsed:!1},q),nt.addBinding({key:B.keys.DELETE},{collapsed:!1},q),nt.addBinding({key:B.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},K),nt.listen(),nt}return y(B,[{key:"addBinding",value:function(Y){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=j(Y);if(ft==null||ft.key==null)return P.warn("Attempted to add invalid keyboard binding",ft);typeof nt=="function"&&(nt={handler:nt}),typeof ot=="function"&&(ot={handler:ot}),ft=(0,a.default)(ft,nt,ot),this.bindings[ft.key]=this.bindings[ft.key]||[],this.bindings[ft.key].push(ft)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(nt){if(!nt.defaultPrevented){var ot=nt.which||nt.keyCode,ft=(Y.bindings[ot]||[]).filter(function(pt){return B.match(nt,pt)});if(ft.length!==0){var ct=Y.quill.getSelection();if(!(ct==null||!Y.quill.hasFocus())){var gt=Y.quill.getLine(ct.index),X=w(gt,2),it=X[0],lt=X[1],J=Y.quill.getLeaf(ct.index),M=w(J,2),c=M[0],T=M[1],R=ct.length===0?[c,T]:Y.quill.getLeaf(ct.index+ct.length),W=w(R,2),G=W[0],Q=W[1],ut=c instanceof o.default.Text?c.value().slice(0,T):"",vt=G instanceof o.default.Text?G.value().slice(Q):"",yt={collapsed:ct.length===0,empty:ct.length===0&&it.length()<=1,format:Y.quill.getFormat(ct),offset:lt,prefix:ut,suffix:vt},_t=ft.some(function(pt){if(pt.collapsed!=null&&pt.collapsed!==yt.collapsed||pt.empty!=null&&pt.empty!==yt.empty||pt.offset!=null&&pt.offset!==yt.offset)return!1;if(Array.isArray(pt.format)){if(pt.format.every(function(Lt){return yt.format[Lt]==null}))return!1}else if(m(pt.format)==="object"&&!Object.keys(pt.format).every(function(Lt){return pt.format[Lt]===!0?yt.format[Lt]!=null:pt.format[Lt]===!1?yt.format[Lt]==null:(0,r.default)(pt.format[Lt],yt.format[Lt])}))return!1;return pt.prefix!=null&&!pt.prefix.test(yt.prefix)||pt.suffix!=null&&!pt.suffix.test(yt.suffix)?!1:pt.handler.call(Y,ct,yt)!==!0});_t&&nt.preventDefault()}}}})}}]),B}(L.default);$.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},$.DEFAULTS={bindings:{bold:Z("bold"),italic:Z("italic"),underline:Z("underline"),indent:{key:$.keys.TAB,format:["blockquote","indent","list"],handler:function(B,z){if(z.collapsed&&z.offset!==0)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:$.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(B,z){if(z.collapsed&&z.offset!==0)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:$.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(B,z){z.format.indent!=null?this.quill.format("indent","-1",p.default.sources.USER):z.format.list!=null&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":F(!0),"outdent code-block":F(!1),"remove tab":{key:$.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(B){this.quill.deleteText(B.index-1,1,p.default.sources.USER)}},tab:{key:$.keys.TAB,handler:function(B){this.quill.history.cutoff();var z=new v.default().retain(B.index).delete(B.length).insert("	");this.quill.updateContents(z,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index+1,p.default.sources.SILENT)}},"list empty enter":{key:$.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(B,z){this.quill.format("list",!1,p.default.sources.USER),z.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:$.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(B){var z=this.quill.getLine(B.index),Y=w(z,2),nt=Y[0],ot=Y[1],ft=(0,a.default)({},nt.formats(),{list:"checked"}),ct=new v.default().retain(B.index).insert(`
`,ft).retain(nt.length()-ot-1).retain(1,{list:"unchecked"});this.quill.updateContents(ct,p.default.sources.USER),this.quill.setSelection(B.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:$.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(B,z){var Y=this.quill.getLine(B.index),nt=w(Y,2),ot=nt[0],ft=nt[1],ct=new v.default().retain(B.index).insert(`
`,z.format).retain(ot.length()-ft-1).retain(1,{header:null});this.quill.updateContents(ct,p.default.sources.USER),this.quill.setSelection(B.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(B,z){var Y=z.prefix.length,nt=this.quill.getLine(B.index),ot=w(nt,2),ft=ot[0],ct=ot[1];if(ct>Y)return!0;var gt=void 0;switch(z.prefix.trim()){case"[]":case"[ ]":gt="unchecked";break;case"[x]":gt="checked";break;case"-":case"*":gt="bullet";break;default:gt="ordered"}this.quill.insertText(B.index," ",p.default.sources.USER),this.quill.history.cutoff();var X=new v.default().retain(B.index-ct).delete(Y+1).retain(ft.length()-2-ct).retain(1,{list:gt});this.quill.updateContents(X,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index-Y,p.default.sources.SILENT)}},"code exit":{key:$.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(B){var z=this.quill.getLine(B.index),Y=w(z,2),nt=Y[0],ot=Y[1],ft=new v.default().retain(B.index+nt.length()-ot-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ft,p.default.sources.USER)}},"embed left":et($.keys.LEFT,!1),"embed left shift":et($.keys.LEFT,!0),"embed right":et($.keys.RIGHT,!1),"embed right shift":et($.keys.RIGHT,!0)}};function et(D,B){var z,Y=D===$.keys.LEFT?"prefix":"suffix";return z={key:D,shiftKey:B,altKey:null},A(z,Y,/^$/),A(z,"handler",function(ot){var ft=ot.index;D===$.keys.RIGHT&&(ft+=ot.length+1);var ct=this.quill.getLeaf(ft),gt=w(ct,1),X=gt[0];return X instanceof o.default.Embed?(D===$.keys.LEFT?B?this.quill.setSelection(ot.index-1,ot.length+1,p.default.sources.USER):this.quill.setSelection(ot.index-1,p.default.sources.USER):B?this.quill.setSelection(ot.index,ot.length+1,p.default.sources.USER):this.quill.setSelection(ot.index+ot.length+1,p.default.sources.USER),!1):!0}),z}function K(D,B){if(!(D.index===0||this.quill.getLength()<=1)){var z=this.quill.getLine(D.index),Y=w(z,1),nt=Y[0],ot={};if(B.offset===0){var ft=this.quill.getLine(D.index-1),ct=w(ft,1),gt=ct[0];if(gt!=null&&gt.length()>1){var X=nt.formats(),it=this.quill.getFormat(D.index-1,1);ot=g.default.attributes.diff(X,it)||{}}}var lt=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(B.prefix)?2:1;this.quill.deleteText(D.index-lt,lt,p.default.sources.USER),Object.keys(ot).length>0&&this.quill.formatLine(D.index-lt,lt,ot,p.default.sources.USER),this.quill.focus()}}function V(D,B){var z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(B.suffix)?2:1;if(!(D.index>=this.quill.getLength()-z)){var Y={},nt=0,ot=this.quill.getLine(D.index),ft=w(ot,1),ct=ft[0];if(B.offset>=ct.length()-1){var gt=this.quill.getLine(D.index+1),X=w(gt,1),it=X[0];if(it){var lt=ct.formats(),J=this.quill.getFormat(D.index,1);Y=g.default.attributes.diff(lt,J)||{},nt=it.length()}}this.quill.deleteText(D.index,z,p.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(D.index+nt-1,z,Y,p.default.sources.USER)}}function q(D){var B=this.quill.getLines(D),z={};if(B.length>1){var Y=B[0].formats(),nt=B[B.length-1].formats();z=g.default.attributes.diff(nt,Y)||{}}this.quill.deleteText(D,p.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(D.index,1,z,p.default.sources.USER),this.quill.setSelection(D.index,p.default.sources.SILENT),this.quill.focus()}function H(D,B){var z=this;D.length>0&&this.quill.scroll.deleteAt(D.index,D.length);var Y=Object.keys(B.format).reduce(function(nt,ot){return o.default.query(ot,o.default.Scope.BLOCK)&&!Array.isArray(B.format[ot])&&(nt[ot]=B.format[ot]),nt},{});this.quill.insertText(D.index,`
`,Y,p.default.sources.USER),this.quill.setSelection(D.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(B.format).forEach(function(nt){Y[nt]==null&&(Array.isArray(B.format[nt])||nt!=="link"&&z.quill.format(nt,B.format[nt],p.default.sources.USER))})}function F(D){return{key:$.keys.TAB,shiftKey:!D,format:{"code-block":!0},handler:function(z){var Y=o.default.query("code-block"),nt=z.index,ot=z.length,ft=this.quill.scroll.descendant(Y,nt),ct=w(ft,2),gt=ct[0],X=ct[1];if(gt!=null){var it=this.quill.getIndex(gt),lt=gt.newlineIndex(X,!0)+1,J=gt.newlineIndex(it+X+ot),M=gt.domNode.textContent.slice(lt,J).split(`
`);X=0,M.forEach(function(c,T){D?(gt.insertAt(lt+X,Y.TAB),X+=Y.TAB.length,T===0?nt+=Y.TAB.length:ot+=Y.TAB.length):c.startsWith(Y.TAB)&&(gt.deleteAt(lt+X,Y.TAB.length),X-=Y.TAB.length,T===0?nt-=Y.TAB.length:ot-=Y.TAB.length),X+=c.length+1}),this.quill.update(p.default.sources.USER),this.quill.setSelection(nt,ot,p.default.sources.SILENT)}}}}function Z(D){return{key:D[0].toUpperCase(),shortKey:!0,handler:function(z,Y){this.quill.format(D,!Y.format[D],p.default.sources.USER)}}}function j(D){if(typeof D=="string"||typeof D=="number")return j({key:D});if((typeof D>"u"?"undefined":m(D))==="object"&&(D=(0,_.default)(D,!1)),typeof D.key=="string")if($.keys[D.key.toUpperCase()]!=null)D.key=$.keys[D.key.toUpperCase()];else if(D.key.length===1)D.key=D.key.toUpperCase().charCodeAt(0);else return null;return D.shortKey&&(D[U]=D.shortKey,delete D.shortKey),D}i.default=$,i.SHORTKEY=U},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function g(d,o){var s=[],p=!0,S=!1,O=void 0;try{for(var C=d[Symbol.iterator](),L;!(p=(L=C.next()).done)&&(s.push(L.value),!(o&&s.length===o));p=!0);}catch(k){S=!0,O=k}finally{try{!p&&C.return&&C.return()}finally{if(S)throw O}}return s}return function(d,o){if(Array.isArray(d))return d;if(Symbol.iterator in Object(d))return g(d,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function g(d,o,s){d===null&&(d=Function.prototype);var p=Object.getOwnPropertyDescriptor(d,o);if(p===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:g(S,o,s)}else{if("value"in p)return p.value;var O=p.get;return O===void 0?void 0:O.call(s)}},y=function(){function g(d,o){for(var s=0;s<o.length;s++){var p=o[s];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,o,s){return o&&g(d.prototype,o),s&&g(d,s),d}}(),h=u(0),_=n(h),b=u(7),r=n(b);function n(g){return g&&g.__esModule?g:{default:g}}function a(g,d){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function")}function f(g,d){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:g}function v(g,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);g.prototype=Object.create(d&&d.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(g,d):g.__proto__=d)}var E=function(g){v(d,g),y(d,null,[{key:"value",value:function(){}}]);function d(o,s){a(this,d);var p=f(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,o));return p.selection=s,p.textNode=document.createTextNode(d.CONTENTS),p.domNode.appendChild(p.textNode),p._length=0,p}return y(d,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(s,p){if(this._length!==0)return w(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,s,p);for(var S=this,O=0;S!=null&&S.statics.scope!==_.default.Scope.BLOCK_BLOT;)O+=S.offset(S.parent),S=S.parent;S!=null&&(this._length=d.CONTENTS.length,S.optimize(),S.formatAt(O,d.CONTENTS.length,s,p),this._length=0)}},{key:"index",value:function(s,p){return s===this.textNode?0:w(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"index",this).call(this,s,p)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){w(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var s=this.textNode,p=this.selection.getNativeRange(),S=void 0,O=void 0,C=void 0;if(p!=null&&p.start.node===s&&p.end.node===s){var L=[s,p.start.offset,p.end.offset];S=L[0],O=L[1],C=L[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==d.CONTENTS){var k=this.textNode.data.split(d.CONTENTS).join("");this.next instanceof r.default?(S=this.next.domNode,this.next.insertAt(0,k),this.textNode.data=d.CONTENTS):(this.textNode.data=k,this.parent.insertBefore(_.default.create(this.textNode),this),this.textNode=document.createTextNode(d.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var A=[O,C].map(function(N){return Math.max(0,Math.min(S.data.length,N-1))}),x=m(A,2);return O=x[0],C=x[1],{startNode:S,startOffset:O,endNode:S,endOffset:C}}}}},{key:"update",value:function(s,p){var S=this;if(s.some(function(C){return C.type==="characterData"&&C.target===S.textNode})){var O=this.restore();O&&(p.range=O)}}},{key:"value",value:function(){return""}}]),d}(_.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",i.default=E},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(0),w=_(m),y=u(4),h=_(y);function _(f){return f&&f.__esModule?f:{default:f}}function b(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function r(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function n(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var a=function(f){n(v,f);function v(){return b(this,v),r(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(w.default.Container);a.allowedChildren=[h.default,y.BlockEmbed,a],i.default=a},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var m=function(){function E(g,d){for(var o=0;o<d.length;o++){var s=d[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(g,s.key,s)}}return function(g,d,o){return d&&E(g.prototype,d),o&&E(g,o),g}}(),w=function E(g,d,o){g===null&&(g=Function.prototype);var s=Object.getOwnPropertyDescriptor(g,d);if(s===void 0){var p=Object.getPrototypeOf(g);return p===null?void 0:E(p,d,o)}else{if("value"in s)return s.value;var S=s.get;return S===void 0?void 0:S.call(o)}},y=u(0),h=_(y);function _(E){return E&&E.__esModule?E:{default:E}}function b(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")}function r(E,g){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:E}function n(E,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);E.prototype=Object.create(g&&g.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(E,g):E.__proto__=g)}var a=function(E){n(g,E);function g(){return b(this,g),r(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return m(g,[{key:"value",value:function(o){var s=w(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,o);return s.startsWith("rgb(")?(s=s.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+s.split(",").map(function(p){return("00"+parseInt(p).toString(16)).slice(-2)}).join("")):s}}]),g}(h.default.Attributor.Style),f=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),v=new a("color","color",{scope:h.default.Scope.INLINE});i.ColorAttributor=a,i.ColorClass=f,i.ColorStyle=v},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var m=function(){function v(E,g){for(var d=0;d<g.length;d++){var o=g[d];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(E,o.key,o)}}return function(E,g,d){return g&&v(E.prototype,g),d&&v(E,d),E}}(),w=function v(E,g,d){E===null&&(E=Function.prototype);var o=Object.getOwnPropertyDescriptor(E,g);if(o===void 0){var s=Object.getPrototypeOf(E);return s===null?void 0:v(s,g,d)}else{if("value"in o)return o.value;var p=o.get;return p===void 0?void 0:p.call(d)}},y=u(6),h=_(y);function _(v){return v&&v.__esModule?v:{default:v}}function b(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function r(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function n(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var a=function(v){n(E,v);function E(){return b(this,E),r(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return m(E,[{key:"format",value:function(d,o){if(d!==this.statics.blotName||!o)return w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,d,o);o=this.constructor.sanitize(o),this.domNode.setAttribute("href",o)}}],[{key:"create",value:function(d){var o=w(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,d);return d=this.sanitize(d),o.setAttribute("href",d),o.setAttribute("rel","noopener noreferrer"),o.setAttribute("target","_blank"),o}},{key:"formats",value:function(d){return d.getAttribute("href")}},{key:"sanitize",value:function(d){return f(d,this.PROTOCOL_WHITELIST)?d:this.SANITIZED_URL}}]),E}(h.default);a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function f(v,E){var g=document.createElement("a");g.href=v;var d=g.href.slice(0,g.href.indexOf(":"));return E.indexOf(d)>-1}i.default=a,i.sanitize=f},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},w=function(){function E(g,d){for(var o=0;o<d.length;o++){var s=d[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(g,s.key,s)}}return function(g,d,o){return d&&E(g.prototype,d),o&&E(g,o),g}}(),y=u(23),h=r(y),_=u(107),b=r(_);function r(E){return E&&E.__esModule?E:{default:E}}function n(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")}var a=0;function f(E,g){E.setAttribute(g,E.getAttribute(g)!=="true")}var v=function(){function E(g){var d=this;n(this,E),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){d.togglePicker()}),this.label.addEventListener("keydown",function(o){switch(o.keyCode){case h.default.keys.ENTER:d.togglePicker();break;case h.default.keys.ESCAPE:d.escape(),o.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return w(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),f(this.label,"aria-expanded"),f(this.options,"aria-hidden")}},{key:"buildItem",value:function(d){var o=this,s=document.createElement("span");return s.tabIndex="0",s.setAttribute("role","button"),s.classList.add("ql-picker-item"),d.hasAttribute("value")&&s.setAttribute("data-value",d.getAttribute("value")),d.textContent&&s.setAttribute("data-label",d.textContent),s.addEventListener("click",function(){o.selectItem(s,!0)}),s.addEventListener("keydown",function(p){switch(p.keyCode){case h.default.keys.ENTER:o.selectItem(s,!0),p.preventDefault();break;case h.default.keys.ESCAPE:o.escape(),p.preventDefault();break}}),s}},{key:"buildLabel",value:function(){var d=document.createElement("span");return d.classList.add("ql-picker-label"),d.innerHTML=b.default,d.tabIndex="0",d.setAttribute("role","button"),d.setAttribute("aria-expanded","false"),this.container.appendChild(d),d}},{key:"buildOptions",value:function(){var d=this,o=document.createElement("span");o.classList.add("ql-picker-options"),o.setAttribute("aria-hidden","true"),o.tabIndex="-1",o.id="ql-picker-options-"+a,a+=1,this.label.setAttribute("aria-controls",o.id),this.options=o,[].slice.call(this.select.options).forEach(function(s){var p=d.buildItem(s);o.appendChild(p),s.selected===!0&&d.selectItem(p)}),this.container.appendChild(o)}},{key:"buildPicker",value:function(){var d=this;[].slice.call(this.select.attributes).forEach(function(o){d.container.setAttribute(o.name,o.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var d=this;this.close(),setTimeout(function(){return d.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(d){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=this.container.querySelector(".ql-selected");if(d!==s&&(s!=null&&s.classList.remove("ql-selected"),d!=null&&(d.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(d.parentNode.children,d),d.hasAttribute("data-value")?this.label.setAttribute("data-value",d.getAttribute("data-value")):this.label.removeAttribute("data-value"),d.hasAttribute("data-label")?this.label.setAttribute("data-label",d.getAttribute("data-label")):this.label.removeAttribute("data-label"),o))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":m(Event))==="object"){var p=document.createEvent("Event");p.initEvent("change",!0,!0),this.select.dispatchEvent(p)}this.close()}}},{key:"update",value:function(){var d=void 0;if(this.select.selectedIndex>-1){var o=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];d=this.select.options[this.select.selectedIndex],this.selectItem(o)}else this.selectItem(null);var s=d!=null&&d!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",s)}}]),E}();i.default=v},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(0),w=P(m),y=u(5),h=P(y),_=u(4),b=P(_),r=u(16),n=P(r),a=u(25),f=P(a),v=u(24),E=P(v),g=u(35),d=P(g),o=u(6),s=P(o),p=u(22),S=P(p),O=u(7),C=P(O),L=u(55),k=P(L),A=u(42),x=P(A),N=u(23),I=P(N);function P(U){return U&&U.__esModule?U:{default:U}}h.default.register({"blots/block":b.default,"blots/block/embed":_.BlockEmbed,"blots/break":n.default,"blots/container":f.default,"blots/cursor":E.default,"blots/embed":d.default,"blots/inline":s.default,"blots/scroll":S.default,"blots/text":C.default,"modules/clipboard":k.default,"modules/history":x.default,"modules/keyboard":I.default}),w.default.register(b.default,n.default,E.default,s.default,S.default,C.default),i.default=h.default},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(1),w=function(){function y(h){this.domNode=h,this.domNode[m.DATA_KEY]={blot:this}}return Object.defineProperty(y.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),y.create=function(h){if(this.tagName==null)throw new m.ParchmentError("Blot definition missing tagName");var _;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?_=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?_=document.createElement(h):_=document.createElement(this.tagName[0])):_=document.createElement(this.tagName),this.className&&_.classList.add(this.className),_},y.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},y.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return m.create(h)},y.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[m.DATA_KEY]},y.prototype.deleteAt=function(h,_){var b=this.isolate(h,_);b.remove()},y.prototype.formatAt=function(h,_,b,r){var n=this.isolate(h,_);if(m.query(b,m.Scope.BLOT)!=null&&r)n.wrap(b,r);else if(m.query(b,m.Scope.ATTRIBUTE)!=null){var a=m.create(this.statics.scope);n.wrap(a),a.format(b,r)}},y.prototype.insertAt=function(h,_,b){var r=b==null?m.create("text",_):m.create(_,b),n=this.split(h);this.parent.insertBefore(r,n)},y.prototype.insertInto=function(h,_){_===void 0&&(_=null),this.parent!=null&&this.parent.children.remove(this);var b=null;h.children.insertBefore(this,_),_!=null&&(b=_.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=b)&&h.domNode.insertBefore(this.domNode,b),this.parent=h,this.attach()},y.prototype.isolate=function(h,_){var b=this.split(h);return b.split(_),b},y.prototype.length=function(){return 1},y.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},y.prototype.optimize=function(h){this.domNode[m.DATA_KEY]!=null&&delete this.domNode[m.DATA_KEY].mutations},y.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},y.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},y.prototype.replaceWith=function(h,_){var b=typeof h=="string"?m.create(h,_):h;return b.replace(this),b},y.prototype.split=function(h,_){return h===0?this:this.next},y.prototype.update=function(h,_){},y.prototype.wrap=function(h,_){var b=typeof h=="string"?m.create(h,_):h;return this.parent!=null&&this.parent.insertBefore(b,this.next),b.appendChild(this),b},y.blotName="abstract",y}();i.default=w},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(12),w=u(32),y=u(33),h=u(1),_=function(){function b(r){this.attributes={},this.domNode=r,this.build()}return b.prototype.attribute=function(r,n){n?r.add(this.domNode,n)&&(r.value(this.domNode)!=null?this.attributes[r.attrName]=r:delete this.attributes[r.attrName]):(r.remove(this.domNode),delete this.attributes[r.attrName])},b.prototype.build=function(){var r=this;this.attributes={};var n=m.default.keys(this.domNode),a=w.default.keys(this.domNode),f=y.default.keys(this.domNode);n.concat(a).concat(f).forEach(function(v){var E=h.query(v,h.Scope.ATTRIBUTE);E instanceof m.default&&(r.attributes[E.attrName]=E)})},b.prototype.copy=function(r){var n=this;Object.keys(this.attributes).forEach(function(a){var f=n.attributes[a].value(n.domNode);r.format(a,f)})},b.prototype.move=function(r){var n=this;this.copy(r),Object.keys(this.attributes).forEach(function(a){n.attributes[a].remove(n.domNode)}),this.attributes={}},b.prototype.values=function(){var r=this;return Object.keys(this.attributes).reduce(function(n,a){return n[a]=r.attributes[a].value(r.domNode),n},{})},b}();i.default=_},function(e,i,u){var m=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,r){b.__proto__=r}||function(b,r){for(var n in r)r.hasOwnProperty(n)&&(b[n]=r[n])};return function(b,r){_(b,r);function n(){this.constructor=b}b.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var w=u(12);function y(_,b){var r=_.getAttribute("class")||"";return r.split(/\s+/).filter(function(n){return n.indexOf(b+"-")===0})}var h=function(_){m(b,_);function b(){return _!==null&&_.apply(this,arguments)||this}return b.keys=function(r){return(r.getAttribute("class")||"").split(/\s+/).map(function(n){return n.split("-").slice(0,-1).join("-")})},b.prototype.add=function(r,n){return this.canAdd(r,n)?(this.remove(r),r.classList.add(this.keyName+"-"+n),!0):!1},b.prototype.remove=function(r){var n=y(r,this.keyName);n.forEach(function(a){r.classList.remove(a)}),r.classList.length===0&&r.removeAttribute("class")},b.prototype.value=function(r){var n=y(r,this.keyName)[0]||"",a=n.slice(this.keyName.length+1);return this.canAdd(r,a)?a:""},b}(w.default);i.default=h},function(e,i,u){var m=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,r){b.__proto__=r}||function(b,r){for(var n in r)r.hasOwnProperty(n)&&(b[n]=r[n])};return function(b,r){_(b,r);function n(){this.constructor=b}b.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var w=u(12);function y(_){var b=_.split("-"),r=b.slice(1).map(function(n){return n[0].toUpperCase()+n.slice(1)}).join("");return b[0]+r}var h=function(_){m(b,_);function b(){return _!==null&&_.apply(this,arguments)||this}return b.keys=function(r){return(r.getAttribute("style")||"").split(";").map(function(n){var a=n.split(":");return a[0].trim()})},b.prototype.add=function(r,n){return this.canAdd(r,n)?(r.style[y(this.keyName)]=n,!0):!1},b.prototype.remove=function(r){r.style[y(this.keyName)]="",r.getAttribute("style")||r.removeAttribute("style")},b.prototype.value=function(r){var n=r.style[y(this.keyName)];return this.canAdd(r,n)?n:""},b}(w.default);i.default=h},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function h(_,b){for(var r=0;r<b.length;r++){var n=b[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(_,n.key,n)}}return function(_,b,r){return b&&h(_.prototype,b),r&&h(_,r),_}}();function w(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}var y=function(){function h(_,b){w(this,h),this.quill=_,this.options=b,this.modules={}}return m(h,[{key:"init",value:function(){var b=this;Object.keys(this.options.modules).forEach(function(r){b.modules[r]==null&&b.addModule(r)})}},{key:"addModule",value:function(b){var r=this.quill.constructor.import("modules/"+b);return this.modules[b]=new r(this.quill,this.options.modules[b]||{}),this.modules[b]}}]),h}();y.DEFAULTS={modules:{}},y.themes={default:y},i.default=y},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function g(d,o){for(var s=0;s<o.length;s++){var p=o[s];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,o,s){return o&&g(d.prototype,o),s&&g(d,s),d}}(),w=function g(d,o,s){d===null&&(d=Function.prototype);var p=Object.getOwnPropertyDescriptor(d,o);if(p===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:g(S,o,s)}else{if("value"in p)return p.value;var O=p.get;return O===void 0?void 0:O.call(s)}},y=u(0),h=r(y),_=u(7),b=r(_);function r(g){return g&&g.__esModule?g:{default:g}}function n(g,d){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function")}function a(g,d){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:g}function f(g,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);g.prototype=Object.create(d&&d.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(g,d):g.__proto__=d)}var v="\uFEFF",E=function(g){f(d,g);function d(o){n(this,d);var s=a(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,o));return s.contentNode=document.createElement("span"),s.contentNode.setAttribute("contenteditable",!1),[].slice.call(s.domNode.childNodes).forEach(function(p){s.contentNode.appendChild(p)}),s.leftGuard=document.createTextNode(v),s.rightGuard=document.createTextNode(v),s.domNode.appendChild(s.leftGuard),s.domNode.appendChild(s.contentNode),s.domNode.appendChild(s.rightGuard),s}return m(d,[{key:"index",value:function(s,p){return s===this.leftGuard?0:s===this.rightGuard?1:w(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"index",this).call(this,s,p)}},{key:"restore",value:function(s){var p=void 0,S=void 0,O=s.data.split(v).join("");if(s===this.leftGuard)if(this.prev instanceof b.default){var C=this.prev.length();this.prev.insertAt(C,O),p={startNode:this.prev.domNode,startOffset:C+O.length}}else S=document.createTextNode(O),this.parent.insertBefore(h.default.create(S),this),p={startNode:S,startOffset:O.length};else s===this.rightGuard&&(this.next instanceof b.default?(this.next.insertAt(0,O),p={startNode:this.next.domNode,startOffset:O.length}):(S=document.createTextNode(O),this.parent.insertBefore(h.default.create(S),this.next),p={startNode:S,startOffset:O.length}));return s.data=v,p}},{key:"update",value:function(s,p){var S=this;s.forEach(function(O){if(O.type==="characterData"&&(O.target===S.leftGuard||O.target===S.rightGuard)){var C=S.restore(O.target);C&&(p.range=C)}})}}]),d}(h.default.Embed);i.default=E},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var m=u(0),w=y(m);function y(n){return n&&n.__esModule?n:{default:n}}var h={scope:w.default.Scope.BLOCK,whitelist:["right","center","justify"]},_=new w.default.Attributor.Attribute("align","align",h),b=new w.default.Attributor.Class("align","ql-align",h),r=new w.default.Attributor.Style("align","text-align",h);i.AlignAttribute=_,i.AlignClass=b,i.AlignStyle=r},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var m=u(0),w=h(m),y=u(26);function h(r){return r&&r.__esModule?r:{default:r}}var _=new w.default.Attributor.Class("background","ql-bg",{scope:w.default.Scope.INLINE}),b=new y.ColorAttributor("background","background-color",{scope:w.default.Scope.INLINE});i.BackgroundClass=_,i.BackgroundStyle=b},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var m=u(0),w=y(m);function y(n){return n&&n.__esModule?n:{default:n}}var h={scope:w.default.Scope.BLOCK,whitelist:["rtl"]},_=new w.default.Attributor.Attribute("direction","dir",h),b=new w.default.Attributor.Class("direction","ql-direction",h),r=new w.default.Attributor.Style("direction","direction",h);i.DirectionAttribute=_,i.DirectionClass=b,i.DirectionStyle=r},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var m=function(){function g(d,o){for(var s=0;s<o.length;s++){var p=o[s];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(d,p.key,p)}}return function(d,o,s){return o&&g(d.prototype,o),s&&g(d,s),d}}(),w=function g(d,o,s){d===null&&(d=Function.prototype);var p=Object.getOwnPropertyDescriptor(d,o);if(p===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:g(S,o,s)}else{if("value"in p)return p.value;var O=p.get;return O===void 0?void 0:O.call(s)}},y=u(0),h=_(y);function _(g){return g&&g.__esModule?g:{default:g}}function b(g,d){if(!(g instanceof d))throw new TypeError("Cannot call a class as a function")}function r(g,d){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:g}function n(g,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);g.prototype=Object.create(d&&d.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(g,d):g.__proto__=d)}var a={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new h.default.Attributor.Class("font","ql-font",a),v=function(g){n(d,g);function d(){return b(this,d),r(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return m(d,[{key:"value",value:function(s){return w(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"value",this).call(this,s).replace(/["']/g,"")}}]),d}(h.default.Attributor.Style),E=new v("font","font-family",a);i.FontStyle=E,i.FontClass=f},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var m=u(0),w=y(m);function y(b){return b&&b.__esModule?b:{default:b}}var h=new w.default.Attributor.Class("size","ql-size",{scope:w.default.Scope.INLINE,whitelist:["small","large","huge"]}),_=new w.default.Attributor.Style("size","font-size",{scope:w.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=h,i.SizeStyle=_},function(e,i,u){e.exports={align:{"":u(76),center:u(77),right:u(78),justify:u(79)},background:u(80),blockquote:u(81),bold:u(82),clean:u(83),code:u(58),"code-block":u(58),color:u(84),direction:{"":u(85),rtl:u(86)},float:{center:u(87),full:u(88),left:u(89),right:u(90)},formula:u(91),header:{1:u(92),2:u(93)},italic:u(94),image:u(95),indent:{"+1":u(96),"-1":u(97)},link:u(98),list:{ordered:u(99),bullet:u(100),check:u(101)},script:{sub:u(102),super:u(103)},strike:u(104),underline:u(105),video:u(106)}},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var m=function(){function o(s,p){for(var S=0;S<p.length;S++){var O=p[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(s,O.key,O)}}return function(s,p,S){return p&&o(s.prototype,p),S&&o(s,S),s}}(),w=u(0),y=n(w),h=u(5),_=n(h),b=u(9),r=n(b);function n(o){return o&&o.__esModule?o:{default:o}}function a(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function f(o,s){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:o}function v(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(o,s):o.__proto__=s)}var E=function(o){v(s,o);function s(p,S){a(this,s);var O=f(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,p,S));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(_.default.events.EDITOR_CHANGE,function(C,L,k,A){C!==_.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||A===_.default.sources.USER?O.record(L,k):O.transform(L))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return m(s,[{key:"change",value:function(S,O){if(this.stack[S].length!==0){var C=this.stack[S].pop();this.stack[O].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[S],_.default.sources.USER),this.ignoreChange=!1;var L=d(C[S]);this.quill.setSelection(L)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(S,O){if(S.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(O),L=Date.now();if(this.lastRecorded+this.options.delay>L&&this.stack.undo.length>0){var k=this.stack.undo.pop();C=C.compose(k.undo),S=k.redo.compose(S)}else this.lastRecorded=L;this.stack.undo.push({redo:S,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(S){this.stack.undo.forEach(function(O){O.undo=S.transform(O.undo,!0),O.redo=S.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=S.transform(O.undo,!0),O.redo=S.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),s}(r.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(o){var s=o.ops[o.ops.length-1];return s==null?!1:s.insert!=null?typeof s.insert=="string"&&s.insert.endsWith(`
`):s.attributes!=null?Object.keys(s.attributes).some(function(p){return y.default.query(p,y.default.Scope.BLOCK)!=null}):!1}function d(o){var s=o.reduce(function(S,O){return S+=O.delete||0,S},0),p=o.length()-s;return g(o)&&(p-=1),p}i.default=E,i.getLastChangeIndex=d},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var m=function(){function H(F,Z){for(var j=0;j<Z.length;j++){var D=Z[j];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(F,D.key,D)}}return function(F,Z,j){return Z&&H(F.prototype,Z),j&&H(F,j),F}}(),w=function H(F,Z,j){F===null&&(F=Function.prototype);var D=Object.getOwnPropertyDescriptor(F,Z);if(D===void 0){var B=Object.getPrototypeOf(F);return B===null?void 0:H(B,Z,j)}else{if("value"in D)return D.value;var z=D.get;return z===void 0?void 0:z.call(j)}},y=u(3),h=L(y),_=u(2),b=L(_),r=u(8),n=L(r),a=u(23),f=L(a),v=u(34),E=L(v),g=u(59),d=L(g),o=u(60),s=L(o),p=u(28),S=L(p),O=u(61),C=L(O);function L(H){return H&&H.__esModule?H:{default:H}}function k(H,F){if(!(H instanceof F))throw new TypeError("Cannot call a class as a function")}function A(H,F){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:H}function x(H,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);H.prototype=Object.create(F&&F.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(H,F):H.__proto__=F)}var N=[!1,"center","right","justify"],I=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],P=[!1,"serif","monospace"],U=["1","2","3",!1],$=["small",!1,"large","huge"],et=function(H){x(F,H);function F(Z,j){k(this,F);var D=A(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,Z,j)),B=function z(Y){if(!document.body.contains(Z.root))return document.body.removeEventListener("click",z);D.tooltip!=null&&!D.tooltip.root.contains(Y.target)&&document.activeElement!==D.tooltip.textbox&&!D.quill.hasFocus()&&D.tooltip.hide(),D.pickers!=null&&D.pickers.forEach(function(nt){nt.container.contains(Y.target)||nt.close()})};return Z.emitter.listenDOM("click",document.body,B),D}return m(F,[{key:"addModule",value:function(j){var D=w(F.prototype.__proto__||Object.getPrototypeOf(F.prototype),"addModule",this).call(this,j);return j==="toolbar"&&this.extendToolbar(D),D}},{key:"buildButtons",value:function(j,D){j.forEach(function(B){var z=B.getAttribute("class")||"";z.split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),D[Y]!=null))if(Y==="direction")B.innerHTML=D[Y][""]+D[Y].rtl;else if(typeof D[Y]=="string")B.innerHTML=D[Y];else{var nt=B.value||"";nt!=null&&D[Y][nt]&&(B.innerHTML=D[Y][nt])}})})}},{key:"buildPickers",value:function(j,D){var B=this;this.pickers=j.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&q(Y,N),new s.default(Y,D.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var nt=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&q(Y,I,nt==="background"?"#ffffff":"#000000"),new d.default(Y,D[nt])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?q(Y,P):Y.classList.contains("ql-header")?q(Y,U):Y.classList.contains("ql-size")&&q(Y,$)),new S.default(Y)});var z=function(){B.pickers.forEach(function(nt){nt.update()})};this.quill.on(n.default.events.EDITOR_CHANGE,z)}}]),F}(E.default);et.DEFAULTS=(0,h.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var F=this,Z=this.container.querySelector("input.ql-image[type=file]");Z==null&&(Z=document.createElement("input"),Z.setAttribute("type","file"),Z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Z.classList.add("ql-image"),Z.addEventListener("change",function(){if(Z.files!=null&&Z.files[0]!=null){var j=new FileReader;j.onload=function(D){var B=F.quill.getSelection(!0);F.quill.updateContents(new b.default().retain(B.index).delete(B.length).insert({image:D.target.result}),n.default.sources.USER),F.quill.setSelection(B.index+1,n.default.sources.SILENT),Z.value=""},j.readAsDataURL(Z.files[0])}}),this.container.appendChild(Z)),Z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var K=function(H){x(F,H);function F(Z,j){k(this,F);var D=A(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,Z,j));return D.textbox=D.root.querySelector('input[type="text"]'),D.listen(),D}return m(F,[{key:"listen",value:function(){var j=this;this.textbox.addEventListener("keydown",function(D){f.default.match(D,"enter")?(j.save(),D.preventDefault()):f.default.match(D,"escape")&&(j.cancel(),D.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),D!=null?this.textbox.value=D:j!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+j)||""),this.root.setAttribute("data-mode",j)}},{key:"restoreFocus",value:function(){var j=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=j}},{key:"save",value:function(){var j=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var D=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",j,n.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",j,n.default.sources.USER)),this.quill.root.scrollTop=D;break}case"video":j=V(j);case"formula":{if(!j)break;var B=this.quill.getSelection(!0);if(B!=null){var z=B.index+B.length;this.quill.insertEmbed(z,this.root.getAttribute("data-mode"),j,n.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(z+1," ",n.default.sources.USER),this.quill.setSelection(z+2,n.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),F}(C.default);function V(H){var F=H.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||H.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return F?(F[1]||"https")+"://www.youtube.com/embed/"+F[2]+"?showinfo=0":(F=H.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(F[1]||"https")+"://player.vimeo.com/video/"+F[2]+"/":H}function q(H,F){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;F.forEach(function(j){var D=document.createElement("option");j===Z?D.setAttribute("selected","selected"):D.setAttribute("value",j),H.appendChild(D)})}i.BaseTooltip=K,i.default=et},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function w(){this.head=this.tail=null,this.length=0}return w.prototype.append=function(){for(var y=[],h=0;h<arguments.length;h++)y[h]=arguments[h];this.insertBefore(y[0],null),y.length>1&&this.append.apply(this,y.slice(1))},w.prototype.contains=function(y){for(var h,_=this.iterator();h=_();)if(h===y)return!0;return!1},w.prototype.insertBefore=function(y,h){y&&(y.next=h,h!=null?(y.prev=h.prev,h.prev!=null&&(h.prev.next=y),h.prev=y,h===this.head&&(this.head=y)):this.tail!=null?(this.tail.next=y,y.prev=this.tail,this.tail=y):(y.prev=null,this.head=this.tail=y),this.length+=1)},w.prototype.offset=function(y){for(var h=0,_=this.head;_!=null;){if(_===y)return h;h+=_.length(),_=_.next}return-1},w.prototype.remove=function(y){this.contains(y)&&(y.prev!=null&&(y.prev.next=y.next),y.next!=null&&(y.next.prev=y.prev),y===this.head&&(this.head=y.next),y===this.tail&&(this.tail=y.prev),this.length-=1)},w.prototype.iterator=function(y){return y===void 0&&(y=this.head),function(){var h=y;return y!=null&&(y=y.next),h}},w.prototype.find=function(y,h){h===void 0&&(h=!1);for(var _,b=this.iterator();_=b();){var r=_.length();if(y<r||h&&y===r&&(_.next==null||_.next.length()!==0))return[_,y];y-=r}return[null,0]},w.prototype.forEach=function(y){for(var h,_=this.iterator();h=_();)y(h)},w.prototype.forEachAt=function(y,h,_){if(!(h<=0))for(var b=this.find(y),r=b[0],n=b[1],a,f=y-n,v=this.iterator(r);(a=v())&&f<y+h;){var E=a.length();y>f?_(a,y-f,Math.min(h,f+E-y)):_(a,0,Math.min(E,y+h-f)),f+=E}},w.prototype.map=function(y){return this.reduce(function(h,_){return h.push(y(_)),h},[])},w.prototype.reduce=function(y,h){for(var _,b=this.iterator();_=b();)h=y(h,_);return h},w}();i.default=m},function(e,i,u){var m=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var f in a)a.hasOwnProperty(f)&&(n[f]=a[f])};return function(n,a){r(n,a);function f(){this.constructor=n}n.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var w=u(17),y=u(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},_=100,b=function(r){m(n,r);function n(a){var f=r.call(this,a)||this;return f.scroll=f,f.observer=new MutationObserver(function(v){f.update(v)}),f.observer.observe(f.domNode,h),f.attach(),f}return n.prototype.detach=function(){r.prototype.detach.call(this),this.observer.disconnect()},n.prototype.deleteAt=function(a,f){this.update(),a===0&&f===this.length()?this.children.forEach(function(v){v.remove()}):r.prototype.deleteAt.call(this,a,f)},n.prototype.formatAt=function(a,f,v,E){this.update(),r.prototype.formatAt.call(this,a,f,v,E)},n.prototype.insertAt=function(a,f,v){this.update(),r.prototype.insertAt.call(this,a,f,v)},n.prototype.optimize=function(a,f){var v=this;a===void 0&&(a=[]),f===void 0&&(f={}),r.prototype.optimize.call(this,f);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)a.push(E.pop());for(var g=function(p,S){S===void 0&&(S=!0),!(p==null||p===v)&&p.domNode.parentNode!=null&&(p.domNode[y.DATA_KEY].mutations==null&&(p.domNode[y.DATA_KEY].mutations=[]),S&&g(p.parent))},d=function(p){p.domNode[y.DATA_KEY]==null||p.domNode[y.DATA_KEY].mutations==null||(p instanceof w.default&&p.children.forEach(d),p.optimize(f))},o=a,s=0;o.length>0;s+=1){if(s>=_)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach(function(p){var S=y.find(p.target,!0);S!=null&&(S.domNode===p.target&&(p.type==="childList"?(g(y.find(p.previousSibling,!1)),[].forEach.call(p.addedNodes,function(O){var C=y.find(O,!1);g(C,!1),C instanceof w.default&&C.children.forEach(function(L){g(L,!1)})})):p.type==="attributes"&&g(S.prev)),g(S))}),this.children.forEach(d),o=[].slice.call(this.observer.takeRecords()),E=o.slice();E.length>0;)a.push(E.pop())}},n.prototype.update=function(a,f){var v=this;f===void 0&&(f={}),a=a||this.observer.takeRecords(),a.map(function(E){var g=y.find(E.target,!0);return g==null?null:g.domNode[y.DATA_KEY].mutations==null?(g.domNode[y.DATA_KEY].mutations=[E],g):(g.domNode[y.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===v||E.domNode[y.DATA_KEY]==null||E.update(E.domNode[y.DATA_KEY].mutations||[],f)}),this.domNode[y.DATA_KEY].mutations!=null&&r.prototype.update.call(this,this.domNode[y.DATA_KEY].mutations,f),this.optimize(a,f)},n.blotName="scroll",n.defaultChild="block",n.scope=y.Scope.BLOCK_BLOT,n.tagName="DIV",n}(w.default);i.default=b},function(e,i,u){var m=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])};return function(r,n){b(r,n);function a(){this.constructor=r}r.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(i,"__esModule",{value:!0});var w=u(18),y=u(1);function h(b,r){if(Object.keys(b).length!==Object.keys(r).length)return!1;for(var n in b)if(b[n]!==r[n])return!1;return!0}var _=function(b){m(r,b);function r(){return b!==null&&b.apply(this,arguments)||this}return r.formats=function(n){if(n.tagName!==r.tagName)return b.formats.call(this,n)},r.prototype.format=function(n,a){var f=this;n===this.statics.blotName&&!a?(this.children.forEach(function(v){v instanceof w.default||(v=v.wrap(r.blotName,!0)),f.attributes.copy(v)}),this.unwrap()):b.prototype.format.call(this,n,a)},r.prototype.formatAt=function(n,a,f,v){if(this.formats()[f]!=null||y.query(f,y.Scope.ATTRIBUTE)){var E=this.isolate(n,a);E.format(f,v)}else b.prototype.formatAt.call(this,n,a,f,v)},r.prototype.optimize=function(n){b.prototype.optimize.call(this,n);var a=this.formats();if(Object.keys(a).length===0)return this.unwrap();var f=this.next;f instanceof r&&f.prev===this&&h(a,f.formats())&&(f.moveChildren(this),f.remove())},r.blotName="inline",r.scope=y.Scope.INLINE_BLOT,r.tagName="SPAN",r}(w.default);i.default=_},function(e,i,u){var m=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,r){b.__proto__=r}||function(b,r){for(var n in r)r.hasOwnProperty(n)&&(b[n]=r[n])};return function(b,r){_(b,r);function n(){this.constructor=b}b.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var w=u(18),y=u(1),h=function(_){m(b,_);function b(){return _!==null&&_.apply(this,arguments)||this}return b.formats=function(r){var n=y.query(b.blotName).tagName;if(r.tagName!==n)return _.formats.call(this,r)},b.prototype.format=function(r,n){y.query(r,y.Scope.BLOCK)!=null&&(r===this.statics.blotName&&!n?this.replaceWith(b.blotName):_.prototype.format.call(this,r,n))},b.prototype.formatAt=function(r,n,a,f){y.query(a,y.Scope.BLOCK)!=null?this.format(a,f):_.prototype.formatAt.call(this,r,n,a,f)},b.prototype.insertAt=function(r,n,a){if(a==null||y.query(n,y.Scope.INLINE)!=null)_.prototype.insertAt.call(this,r,n,a);else{var f=this.split(r),v=y.create(n,a);f.parent.insertBefore(v,f)}},b.prototype.update=function(r,n){navigator.userAgent.match(/Trident/)?this.build():_.prototype.update.call(this,r,n)},b.blotName="block",b.scope=y.Scope.BLOCK_BLOT,b.tagName="P",b}(w.default);i.default=h},function(e,i,u){var m=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,b){_.__proto__=b}||function(_,b){for(var r in b)b.hasOwnProperty(r)&&(_[r]=b[r])};return function(_,b){h(_,b);function r(){this.constructor=_}_.prototype=b===null?Object.create(b):(r.prototype=b.prototype,new r)}}();Object.defineProperty(i,"__esModule",{value:!0});var w=u(19),y=function(h){m(_,h);function _(){return h!==null&&h.apply(this,arguments)||this}return _.formats=function(b){},_.prototype.format=function(b,r){h.prototype.formatAt.call(this,0,this.length(),b,r)},_.prototype.formatAt=function(b,r,n,a){b===0&&r===this.length()?this.format(n,a):h.prototype.formatAt.call(this,b,r,n,a)},_.prototype.formats=function(){return this.statics.formats(this.domNode)},_}(w.default);i.default=y},function(e,i,u){var m=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,r){b.__proto__=r}||function(b,r){for(var n in r)r.hasOwnProperty(n)&&(b[n]=r[n])};return function(b,r){_(b,r);function n(){this.constructor=b}b.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(i,"__esModule",{value:!0});var w=u(19),y=u(1),h=function(_){m(b,_);function b(r){var n=_.call(this,r)||this;return n.text=n.statics.value(n.domNode),n}return b.create=function(r){return document.createTextNode(r)},b.value=function(r){var n=r.data;return n.normalize&&(n=n.normalize()),n},b.prototype.deleteAt=function(r,n){this.domNode.data=this.text=this.text.slice(0,r)+this.text.slice(r+n)},b.prototype.index=function(r,n){return this.domNode===r?n:-1},b.prototype.insertAt=function(r,n,a){a==null?(this.text=this.text.slice(0,r)+n+this.text.slice(r),this.domNode.data=this.text):_.prototype.insertAt.call(this,r,n,a)},b.prototype.length=function(){return this.text.length},b.prototype.optimize=function(r){_.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof b&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},b.prototype.position=function(r,n){return[this.domNode,r]},b.prototype.split=function(r,n){if(n===void 0&&(n=!1),!n){if(r===0)return this;if(r===this.length())return this.next}var a=y.create(this.domNode.splitText(r));return this.parent.insertBefore(a,this.next),this.text=this.statics.value(this.domNode),a},b.prototype.update=function(r,n){var a=this;r.some(function(f){return f.type==="characterData"&&f.target===a.domNode})&&(this.text=this.statics.value(this.domNode))},b.prototype.value=function(){return this.text},b.blotName="text",b.scope=y.Scope.INLINE_BLOT,b}(w.default);i.default=h},function(e,i,u){var m=document.createElement("div");if(m.classList.toggle("test-class",!1),m.classList.contains("test-class")){var w=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(y,h){return arguments.length>1&&!this.contains(y)==!h?h:w.call(this,y)}}String.prototype.startsWith||(String.prototype.startsWith=function(y,h){return h=h||0,this.substr(h,y.length)===y}),String.prototype.endsWith||(String.prototype.endsWith=function(y,h){var _=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>_.length)&&(h=_.length),h-=y.length;var b=_.indexOf(y,h);return b!==-1&&b===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var _=Object(this),b=_.length>>>0,r=arguments[1],n,a=0;a<b;a++)if(n=_[a],h.call(r,n,a,_))return n}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,i){var u=-1,m=1,w=0;function y(s,p,S){if(s==p)return s?[[w,s]]:[];(S<0||s.length<S)&&(S=null);var O=r(s,p),C=s.substring(0,O);s=s.substring(O),p=p.substring(O),O=n(s,p);var L=s.substring(s.length-O);s=s.substring(0,s.length-O),p=p.substring(0,p.length-O);var k=h(s,p);return C&&k.unshift([w,C]),L&&k.push([w,L]),f(k),S!=null&&(k=g(k,S)),k=d(k),k}function h(s,p){var S;if(!s)return[[m,p]];if(!p)return[[u,s]];var O=s.length>p.length?s:p,C=s.length>p.length?p:s,L=O.indexOf(C);if(L!=-1)return S=[[m,O.substring(0,L)],[w,C],[m,O.substring(L+C.length)]],s.length>p.length&&(S[0][0]=S[2][0]=u),S;if(C.length==1)return[[u,s],[m,p]];var k=a(s,p);if(k){var A=k[0],x=k[1],N=k[2],I=k[3],P=k[4],U=y(A,N),$=y(x,I);return U.concat([[w,P]],$)}return _(s,p)}function _(s,p){for(var S=s.length,O=p.length,C=Math.ceil((S+O)/2),L=C,k=2*C,A=new Array(k),x=new Array(k),N=0;N<k;N++)A[N]=-1,x[N]=-1;A[L+1]=0,x[L+1]=0;for(var I=S-O,P=I%2!=0,U=0,$=0,et=0,K=0,V=0;V<C;V++){for(var q=-V+U;q<=V-$;q+=2){var H=L+q,F;q==-V||q!=V&&A[H-1]<A[H+1]?F=A[H+1]:F=A[H-1]+1;for(var Z=F-q;F<S&&Z<O&&s.charAt(F)==p.charAt(Z);)F++,Z++;if(A[H]=F,F>S)$+=2;else if(Z>O)U+=2;else if(P){var j=L+I-q;if(j>=0&&j<k&&x[j]!=-1){var D=S-x[j];if(F>=D)return b(s,p,F,Z)}}}for(var B=-V+et;B<=V-K;B+=2){var j=L+B,D;B==-V||B!=V&&x[j-1]<x[j+1]?D=x[j+1]:D=x[j-1]+1;for(var z=D-B;D<S&&z<O&&s.charAt(S-D-1)==p.charAt(O-z-1);)D++,z++;if(x[j]=D,D>S)K+=2;else if(z>O)et+=2;else if(!P){var H=L+I-B;if(H>=0&&H<k&&A[H]!=-1){var F=A[H],Z=L+F-H;if(D=S-D,F>=D)return b(s,p,F,Z)}}}}return[[u,s],[m,p]]}function b(s,p,S,O){var C=s.substring(0,S),L=p.substring(0,O),k=s.substring(S),A=p.substring(O),x=y(C,L),N=y(k,A);return x.concat(N)}function r(s,p){if(!s||!p||s.charAt(0)!=p.charAt(0))return 0;for(var S=0,O=Math.min(s.length,p.length),C=O,L=0;S<C;)s.substring(L,C)==p.substring(L,C)?(S=C,L=S):O=C,C=Math.floor((O-S)/2+S);return C}function n(s,p){if(!s||!p||s.charAt(s.length-1)!=p.charAt(p.length-1))return 0;for(var S=0,O=Math.min(s.length,p.length),C=O,L=0;S<C;)s.substring(s.length-C,s.length-L)==p.substring(p.length-C,p.length-L)?(S=C,L=S):O=C,C=Math.floor((O-S)/2+S);return C}function a(s,p){var S=s.length>p.length?s:p,O=s.length>p.length?p:s;if(S.length<4||O.length*2<S.length)return null;function C($,et,K){for(var V=$.substring(K,K+Math.floor($.length/4)),q=-1,H="",F,Z,j,D;(q=et.indexOf(V,q+1))!=-1;){var B=r($.substring(K),et.substring(q)),z=n($.substring(0,K),et.substring(0,q));H.length<z+B&&(H=et.substring(q-z,q)+et.substring(q,q+B),F=$.substring(0,K-z),Z=$.substring(K+B),j=et.substring(0,q-z),D=et.substring(q+B))}return H.length*2>=$.length?[F,Z,j,D,H]:null}var L=C(S,O,Math.ceil(S.length/4)),k=C(S,O,Math.ceil(S.length/2)),A;if(!L&&!k)return null;k?L?A=L[4].length>k[4].length?L:k:A=k:A=L;var x,N,I,P;s.length>p.length?(x=A[0],N=A[1],I=A[2],P=A[3]):(I=A[0],P=A[1],x=A[2],N=A[3]);var U=A[4];return[x,N,I,P,U]}function f(s){s.push([w,""]);for(var p=0,S=0,O=0,C="",L="",k;p<s.length;)switch(s[p][0]){case m:O++,L+=s[p][1],p++;break;case u:S++,C+=s[p][1],p++;break;case w:S+O>1?(S!==0&&O!==0&&(k=r(L,C),k!==0&&(p-S-O>0&&s[p-S-O-1][0]==w?s[p-S-O-1][1]+=L.substring(0,k):(s.splice(0,0,[w,L.substring(0,k)]),p++),L=L.substring(k),C=C.substring(k)),k=n(L,C),k!==0&&(s[p][1]=L.substring(L.length-k)+s[p][1],L=L.substring(0,L.length-k),C=C.substring(0,C.length-k))),S===0?s.splice(p-O,S+O,[m,L]):O===0?s.splice(p-S,S+O,[u,C]):s.splice(p-S-O,S+O,[u,C],[m,L]),p=p-S-O+(S?1:0)+(O?1:0)+1):p!==0&&s[p-1][0]==w?(s[p-1][1]+=s[p][1],s.splice(p,1)):p++,O=0,S=0,C="",L="";break}s[s.length-1][1]===""&&s.pop();var A=!1;for(p=1;p<s.length-1;)s[p-1][0]==w&&s[p+1][0]==w&&(s[p][1].substring(s[p][1].length-s[p-1][1].length)==s[p-1][1]?(s[p][1]=s[p-1][1]+s[p][1].substring(0,s[p][1].length-s[p-1][1].length),s[p+1][1]=s[p-1][1]+s[p+1][1],s.splice(p-1,1),A=!0):s[p][1].substring(0,s[p+1][1].length)==s[p+1][1]&&(s[p-1][1]+=s[p+1][1],s[p][1]=s[p][1].substring(s[p+1][1].length)+s[p+1][1],s.splice(p+1,1),A=!0)),p++;A&&f(s)}var v=y;v.INSERT=m,v.DELETE=u,v.EQUAL=w,e.exports=v;function E(s,p){if(p===0)return[w,s];for(var S=0,O=0;O<s.length;O++){var C=s[O];if(C[0]===u||C[0]===w){var L=S+C[1].length;if(p===L)return[O+1,s];if(p<L){s=s.slice();var k=p-S,A=[C[0],C[1].slice(0,k)],x=[C[0],C[1].slice(k)];return s.splice(O,1,A,x),[O+1,s]}else S=L}}throw new Error("cursor_pos is out of bounds!")}function g(s,p){var S=E(s,p),O=S[1],C=S[0],L=O[C],k=O[C+1];if(L==null)return s;if(L[0]!==w)return s;if(k!=null&&L[1]+k[1]===k[1]+L[1])return O.splice(C,2,k,L),o(O,C,2);if(k!=null&&k[1].indexOf(L[1])===0){O.splice(C,2,[k[0],L[1]],[0,L[1]]);var A=k[1].slice(L[1].length);return A.length>0&&O.splice(C+2,0,[k[0],A]),o(O,C,3)}else return s}function d(s){for(var p=!1,S=function(k){return k.charCodeAt(0)>=56320&&k.charCodeAt(0)<=57343},O=function(k){return k.charCodeAt(k.length-1)>=55296&&k.charCodeAt(k.length-1)<=56319},C=2;C<s.length;C+=1)s[C-2][0]===w&&O(s[C-2][1])&&s[C-1][0]===u&&S(s[C-1][1])&&s[C][0]===m&&S(s[C][1])&&(p=!0,s[C-1][1]=s[C-2][1].slice(-1)+s[C-1][1],s[C][1]=s[C-2][1].slice(-1)+s[C][1],s[C-2][1]=s[C-2][1].slice(0,-1));if(!p)return s;for(var L=[],C=0;C<s.length;C+=1)s[C][1].length>0&&L.push(s[C]);return L}function o(s,p,S){for(var O=p+S-1;O>=0&&O>=p-1;O--)if(O+1<s.length){var C=s[O],L=s[O+1];C[0]===L[1]&&s.splice(O,2,[C[0],C[1]+L[1]])}return s}},function(e,i){i=e.exports=typeof Object.keys=="function"?Object.keys:u,i.shim=u;function u(m){var w=[];for(var y in m)w.push(y);return w}},function(e,i){var u=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=e.exports=u?m:w,i.supported=m;function m(y){return Object.prototype.toString.call(y)=="[object Arguments]"}i.unsupported=w;function w(y){return y&&typeof y=="object"&&typeof y.length=="number"&&Object.prototype.hasOwnProperty.call(y,"callee")&&!Object.prototype.propertyIsEnumerable.call(y,"callee")||!1}},function(e,i){var u=Object.prototype.hasOwnProperty,m="~";function w(){}Object.create&&(w.prototype=Object.create(null),new w().__proto__||(m=!1));function y(_,b,r){this.fn=_,this.context=b,this.once=r||!1}function h(){this._events=new w,this._eventsCount=0}h.prototype.eventNames=function(){var b=[],r,n;if(this._eventsCount===0)return b;for(n in r=this._events)u.call(r,n)&&b.push(m?n.slice(1):n);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(r)):b},h.prototype.listeners=function(b,r){var n=m?m+b:b,a=this._events[n];if(r)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var f=0,v=a.length,E=new Array(v);f<v;f++)E[f]=a[f].fn;return E},h.prototype.emit=function(b,r,n,a,f,v){var E=m?m+b:b;if(!this._events[E])return!1;var g=this._events[E],d=arguments.length,o,s;if(g.fn){switch(g.once&&this.removeListener(b,g.fn,void 0,!0),d){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,r),!0;case 3:return g.fn.call(g.context,r,n),!0;case 4:return g.fn.call(g.context,r,n,a),!0;case 5:return g.fn.call(g.context,r,n,a,f),!0;case 6:return g.fn.call(g.context,r,n,a,f,v),!0}for(s=1,o=new Array(d-1);s<d;s++)o[s-1]=arguments[s];g.fn.apply(g.context,o)}else{var p=g.length,S;for(s=0;s<p;s++)switch(g[s].once&&this.removeListener(b,g[s].fn,void 0,!0),d){case 1:g[s].fn.call(g[s].context);break;case 2:g[s].fn.call(g[s].context,r);break;case 3:g[s].fn.call(g[s].context,r,n);break;case 4:g[s].fn.call(g[s].context,r,n,a);break;default:if(!o)for(S=1,o=new Array(d-1);S<d;S++)o[S-1]=arguments[S];g[s].fn.apply(g[s].context,o)}}return!0},h.prototype.on=function(b,r,n){var a=new y(r,n||this),f=m?m+b:b;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],a]:this._events[f].push(a):(this._events[f]=a,this._eventsCount++),this},h.prototype.once=function(b,r,n){var a=new y(r,n||this,!0),f=m?m+b:b;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],a]:this._events[f].push(a):(this._events[f]=a,this._eventsCount++),this},h.prototype.removeListener=function(b,r,n,a){var f=m?m+b:b;if(!this._events[f])return this;if(!r)return--this._eventsCount===0?this._events=new w:delete this._events[f],this;var v=this._events[f];if(v.fn)v.fn===r&&(!a||v.once)&&(!n||v.context===n)&&(--this._eventsCount===0?this._events=new w:delete this._events[f]);else{for(var E=0,g=[],d=v.length;E<d;E++)(v[E].fn!==r||a&&!v[E].once||n&&v[E].context!==n)&&g.push(v[E]);g.length?this._events[f]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new w:delete this._events[f]}return this},h.prototype.removeAllListeners=function(b){var r;return b?(r=m?m+b:b,this._events[r]&&(--this._eventsCount===0?this._events=new w:delete this._events[r])):(this._events=new w,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=m,h.EventEmitter=h,typeof e<"u"&&(e.exports=h)},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},w=function(){function J(M,c){var T=[],R=!0,W=!1,G=void 0;try{for(var Q=M[Symbol.iterator](),ut;!(R=(ut=Q.next()).done)&&(T.push(ut.value),!(c&&T.length===c));R=!0);}catch(vt){W=!0,G=vt}finally{try{!R&&Q.return&&Q.return()}finally{if(W)throw G}}return T}return function(M,c){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return J(M,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function J(M,c){for(var T=0;T<c.length;T++){var R=c[T];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(M,R.key,R)}}return function(M,c,T){return c&&J(M.prototype,c),T&&J(M,T),M}}(),h=u(3),_=x(h),b=u(2),r=x(b),n=u(0),a=x(n),f=u(5),v=x(f),E=u(10),g=x(E),d=u(9),o=x(d),s=u(36),p=u(37),S=u(13),O=x(S),C=u(26),L=u(38),k=u(39),A=u(40);function x(J){return J&&J.__esModule?J:{default:J}}function N(J,M,c){return M in J?Object.defineProperty(J,M,{value:c,enumerable:!0,configurable:!0,writable:!0}):J[M]=c,J}function I(J,M){if(!(J instanceof M))throw new TypeError("Cannot call a class as a function")}function P(J,M){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:J}function U(J,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);J.prototype=Object.create(M&&M.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(J,M):J.__proto__=M)}var $=(0,g.default)("quill:clipboard"),et="__ql-matcher",K=[[Node.TEXT_NODE,lt],[Node.TEXT_NODE,gt],["br",ot],[Node.ELEMENT_NODE,gt],[Node.ELEMENT_NODE,nt],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,it],["li",ct],["b",z.bind(z,"bold")],["i",z.bind(z,"italic")],["style",ft]],V=[s.AlignAttribute,L.DirectionAttribute].reduce(function(J,M){return J[M.keyName]=M,J},{}),q=[s.AlignStyle,p.BackgroundStyle,C.ColorStyle,L.DirectionStyle,k.FontStyle,A.SizeStyle].reduce(function(J,M){return J[M.keyName]=M,J},{}),H=function(J){U(M,J);function M(c,T){I(this,M);var R=P(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,c,T));return R.quill.root.addEventListener("paste",R.onPaste.bind(R)),R.container=R.quill.addContainer("ql-clipboard"),R.container.setAttribute("contenteditable",!0),R.container.setAttribute("tabindex",-1),R.matchers=[],K.concat(R.options.matchers).forEach(function(W){var G=w(W,2),Q=G[0],ut=G[1];!T.matchVisual&&ut===X||R.addMatcher(Q,ut)}),R}return y(M,[{key:"addMatcher",value:function(T,R){this.matchers.push([T,R])}},{key:"convert",value:function(T){if(typeof T=="string")return this.container.innerHTML=T.replace(/\>\r?\n +\</g,"><"),this.convert();var R=this.quill.getFormat(this.quill.selection.savedRange.index);if(R[O.default.blotName]){var W=this.container.innerText;return this.container.innerHTML="",new r.default().insert(W,N({},O.default.blotName,R[O.default.blotName]))}var G=this.prepareMatching(),Q=w(G,2),ut=Q[0],vt=Q[1],yt=B(this.container,ut,vt);return j(yt,`
`)&&yt.ops[yt.ops.length-1].attributes==null&&(yt=yt.compose(new r.default().retain(yt.length()-1).delete(1))),$.log("convert",this.container.innerHTML,yt),this.container.innerHTML="",yt}},{key:"dangerouslyPasteHTML",value:function(T,R){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof T=="string")this.quill.setContents(this.convert(T),R),this.quill.setSelection(0,v.default.sources.SILENT);else{var G=this.convert(R);this.quill.updateContents(new r.default().retain(T).concat(G),W),this.quill.setSelection(T+G.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(T){var R=this;if(!(T.defaultPrevented||!this.quill.isEnabled())){var W=this.quill.getSelection(),G=new r.default().retain(W.index),Q=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){G=G.concat(R.convert()).delete(W.length),R.quill.updateContents(G,v.default.sources.USER),R.quill.setSelection(G.length()-W.length,v.default.sources.SILENT),R.quill.scrollingContainer.scrollTop=Q,R.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var T=this,R=[],W=[];return this.matchers.forEach(function(G){var Q=w(G,2),ut=Q[0],vt=Q[1];switch(ut){case Node.TEXT_NODE:W.push(vt);break;case Node.ELEMENT_NODE:R.push(vt);break;default:[].forEach.call(T.container.querySelectorAll(ut),function(yt){yt[et]=yt[et]||[],yt[et].push(vt)});break}}),[R,W]}}]),M}(o.default);H.DEFAULTS={matchers:[],matchVisual:!0};function F(J,M,c){return(typeof M>"u"?"undefined":m(M))==="object"?Object.keys(M).reduce(function(T,R){return F(T,R,M[R])},J):J.reduce(function(T,R){return R.attributes&&R.attributes[M]?T.push(R):T.insert(R.insert,(0,_.default)({},N({},M,c),R.attributes))},new r.default)}function Z(J){if(J.nodeType!==Node.ELEMENT_NODE)return{};var M="__ql-computed-style";return J[M]||(J[M]=window.getComputedStyle(J))}function j(J,M){for(var c="",T=J.ops.length-1;T>=0&&c.length<M.length;--T){var R=J.ops[T];if(typeof R.insert!="string")break;c=R.insert+c}return c.slice(-1*M.length)===M}function D(J){if(J.childNodes.length===0)return!1;var M=Z(J);return["block","list-item"].indexOf(M.display)>-1}function B(J,M,c){return J.nodeType===J.TEXT_NODE?c.reduce(function(T,R){return R(J,T)},new r.default):J.nodeType===J.ELEMENT_NODE?[].reduce.call(J.childNodes||[],function(T,R){var W=B(R,M,c);return R.nodeType===J.ELEMENT_NODE&&(W=M.reduce(function(G,Q){return Q(R,G)},W),W=(R[et]||[]).reduce(function(G,Q){return Q(R,G)},W)),T.concat(W)},new r.default):new r.default}function z(J,M,c){return F(c,J,!0)}function Y(J,M){var c=a.default.Attributor.Attribute.keys(J),T=a.default.Attributor.Class.keys(J),R=a.default.Attributor.Style.keys(J),W={};return c.concat(T).concat(R).forEach(function(G){var Q=a.default.query(G,a.default.Scope.ATTRIBUTE);Q!=null&&(W[Q.attrName]=Q.value(J),W[Q.attrName])||(Q=V[G],Q!=null&&(Q.attrName===G||Q.keyName===G)&&(W[Q.attrName]=Q.value(J)||void 0),Q=q[G],Q!=null&&(Q.attrName===G||Q.keyName===G)&&(Q=q[G],W[Q.attrName]=Q.value(J)||void 0))}),Object.keys(W).length>0&&(M=F(M,W)),M}function nt(J,M){var c=a.default.query(J);if(c==null)return M;if(c.prototype instanceof a.default.Embed){var T={},R=c.value(J);R!=null&&(T[c.blotName]=R,M=new r.default().insert(T,c.formats(J)))}else typeof c.formats=="function"&&(M=F(M,c.blotName,c.formats(J)));return M}function ot(J,M){return j(M,`
`)||M.insert(`
`),M}function ft(){return new r.default}function ct(J,M){var c=a.default.query(J);if(c==null||c.blotName!=="list-item"||!j(M,`
`))return M;for(var T=-1,R=J.parentNode;!R.classList.contains("ql-clipboard");)(a.default.query(R)||{}).blotName==="list"&&(T+=1),R=R.parentNode;return T<=0?M:M.compose(new r.default().retain(M.length()-1).retain(1,{indent:T}))}function gt(J,M){return j(M,`
`)||(D(J)||M.length()>0&&J.nextSibling&&D(J.nextSibling))&&M.insert(`
`),M}function X(J,M){if(D(J)&&J.nextElementSibling!=null&&!j(M,`

`)){var c=J.offsetHeight+parseFloat(Z(J).marginTop)+parseFloat(Z(J).marginBottom);J.nextElementSibling.offsetTop>J.offsetTop+c*1.5&&M.insert(`
`)}return M}function it(J,M){var c={},T=J.style||{};return T.fontStyle&&Z(J).fontStyle==="italic"&&(c.italic=!0),T.fontWeight&&(Z(J).fontWeight.startsWith("bold")||parseInt(Z(J).fontWeight)>=700)&&(c.bold=!0),Object.keys(c).length>0&&(M=F(M,c)),parseFloat(T.textIndent||0)>0&&(M=new r.default().insert("	").concat(M)),M}function lt(J,M){var c=J.data;if(J.parentNode.tagName==="O:P")return M.insert(c.trim());if(c.trim().length===0&&J.parentNode.classList.contains("ql-clipboard"))return M;if(!Z(J.parentNode).whiteSpace.startsWith("pre")){var T=function(W,G){return G=G.replace(/[^\u00a0]/g,""),G.length<1&&W?" ":G};c=c.replace(/\r\n/g," ").replace(/\n/g," "),c=c.replace(/\s\s+/g,T.bind(T,!0)),(J.previousSibling==null&&D(J.parentNode)||J.previousSibling!=null&&D(J.previousSibling))&&(c=c.replace(/^\s+/,T.bind(T,!1))),(J.nextSibling==null&&D(J.parentNode)||J.nextSibling!=null&&D(J.nextSibling))&&(c=c.replace(/\s+$/,T.bind(T,!1)))}return M.insert(c)}i.default=H,i.matchAttributor=Y,i.matchBlot=nt,i.matchNewline=gt,i.matchSpacing=X,i.matchText=lt},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function f(v,E){for(var g=0;g<E.length;g++){var d=E[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(v,d.key,d)}}return function(v,E,g){return E&&f(v.prototype,E),g&&f(v,g),v}}(),w=function f(v,E,g){v===null&&(v=Function.prototype);var d=Object.getOwnPropertyDescriptor(v,E);if(d===void 0){var o=Object.getPrototypeOf(v);return o===null?void 0:f(o,E,g)}else{if("value"in d)return d.value;var s=d.get;return s===void 0?void 0:s.call(g)}},y=u(6),h=_(y);function _(f){return f&&f.__esModule?f:{default:f}}function b(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function r(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function n(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var a=function(f){n(v,f);function v(){return b(this,v),r(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return m(v,[{key:"optimize",value:function(g){w(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return w(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(h.default);a.blotName="bold",a.tagName=["STRONG","B"],i.default=a},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var m=function(){function A(x,N){var I=[],P=!0,U=!1,$=void 0;try{for(var et=x[Symbol.iterator](),K;!(P=(K=et.next()).done)&&(I.push(K.value),!(N&&I.length===N));P=!0);}catch(V){U=!0,$=V}finally{try{!P&&et.return&&et.return()}finally{if(U)throw $}}return I}return function(x,N){if(Array.isArray(x))return x;if(Symbol.iterator in Object(x))return A(x,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function A(x,N){for(var I=0;I<N.length;I++){var P=N[I];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(x,P.key,P)}}return function(x,N,I){return N&&A(x.prototype,N),I&&A(x,I),x}}(),y=u(2),h=g(y),_=u(0),b=g(_),r=u(5),n=g(r),a=u(10),f=g(a),v=u(9),E=g(v);function g(A){return A&&A.__esModule?A:{default:A}}function d(A,x,N){return x in A?Object.defineProperty(A,x,{value:N,enumerable:!0,configurable:!0,writable:!0}):A[x]=N,A}function o(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")}function s(A,x){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:A}function p(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);A.prototype=Object.create(x&&x.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(A,x):A.__proto__=x)}var S=(0,f.default)("quill:toolbar"),O=function(A){p(x,A);function x(N,I){o(this,x);var P=s(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,N,I));if(Array.isArray(P.options.container)){var U=document.createElement("div");L(U,P.options.container),N.container.parentNode.insertBefore(U,N.container),P.container=U}else typeof P.options.container=="string"?P.container=document.querySelector(P.options.container):P.container=P.options.container;if(!(P.container instanceof HTMLElement)){var $;return $=S.error("Container required for toolbar",P.options),s(P,$)}return P.container.classList.add("ql-toolbar"),P.controls=[],P.handlers={},Object.keys(P.options.handlers).forEach(function(et){P.addHandler(et,P.options.handlers[et])}),[].forEach.call(P.container.querySelectorAll("button, select"),function(et){P.attach(et)}),P.quill.on(n.default.events.EDITOR_CHANGE,function(et,K){et===n.default.events.SELECTION_CHANGE&&P.update(K)}),P.quill.on(n.default.events.SCROLL_OPTIMIZE,function(){var et=P.quill.selection.getRange(),K=m(et,1),V=K[0];P.update(V)}),P}return w(x,[{key:"addHandler",value:function(I,P){this.handlers[I]=P}},{key:"attach",value:function(I){var P=this,U=[].find.call(I.classList,function(et){return et.indexOf("ql-")===0});if(U){if(U=U.slice(3),I.tagName==="BUTTON"&&I.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null){S.warn("ignoring attaching to disabled format",U,I);return}if(b.default.query(U)==null){S.warn("ignoring attaching to nonexistent format",U,I);return}}var $=I.tagName==="SELECT"?"change":"click";I.addEventListener($,function(et){var K=void 0;if(I.tagName==="SELECT"){if(I.selectedIndex<0)return;var V=I.options[I.selectedIndex];V.hasAttribute("selected")?K=!1:K=V.value||!1}else I.classList.contains("ql-active")?K=!1:K=I.value||!I.hasAttribute("value"),et.preventDefault();P.quill.focus();var q=P.quill.selection.getRange(),H=m(q,1),F=H[0];if(P.handlers[U]!=null)P.handlers[U].call(P,K);else if(b.default.query(U).prototype instanceof b.default.Embed){if(K=prompt("Enter "+U),!K)return;P.quill.updateContents(new h.default().retain(F.index).delete(F.length).insert(d({},U,K)),n.default.sources.USER)}else P.quill.format(U,K,n.default.sources.USER);P.update(F)}),this.controls.push([U,I])}}},{key:"update",value:function(I){var P=I==null?{}:this.quill.getFormat(I);this.controls.forEach(function(U){var $=m(U,2),et=$[0],K=$[1];if(K.tagName==="SELECT"){var V=void 0;if(I==null)V=null;else if(P[et]==null)V=K.querySelector("option[selected]");else if(!Array.isArray(P[et])){var q=P[et];typeof q=="string"&&(q=q.replace(/\"/g,'\\"')),V=K.querySelector('option[value="'+q+'"]')}V==null?(K.value="",K.selectedIndex=-1):V.selected=!0}else if(I==null)K.classList.remove("ql-active");else if(K.hasAttribute("value")){var H=P[et]===K.getAttribute("value")||P[et]!=null&&P[et].toString()===K.getAttribute("value")||P[et]==null&&!K.getAttribute("value");K.classList.toggle("ql-active",H)}else K.classList.toggle("ql-active",P[et]!=null)})}}]),x}(E.default);O.DEFAULTS={};function C(A,x,N){var I=document.createElement("button");I.setAttribute("type","button"),I.classList.add("ql-"+x),N!=null&&(I.value=N),A.appendChild(I)}function L(A,x){Array.isArray(x[0])||(x=[x]),x.forEach(function(N){var I=document.createElement("span");I.classList.add("ql-formats"),N.forEach(function(P){if(typeof P=="string")C(I,P);else{var U=Object.keys(P)[0],$=P[U];Array.isArray($)?k(I,U,$):C(I,U,$)}}),A.appendChild(I)})}function k(A,x,N){var I=document.createElement("select");I.classList.add("ql-"+x),N.forEach(function(P){var U=document.createElement("option");P!==!1?U.setAttribute("value",P):U.setAttribute("selected","selected"),I.appendChild(U)}),A.appendChild(I)}O.DEFAULTS={container:null,handlers:{clean:function(){var x=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var I=this.quill.getFormat();Object.keys(I).forEach(function(P){b.default.query(P,b.default.Scope.INLINE)!=null&&x.quill.format(P,!1)})}else this.quill.removeFormat(N,n.default.sources.USER)},direction:function(x){var N=this.quill.getFormat().align;x==="rtl"&&N==null?this.quill.format("align","right",n.default.sources.USER):!x&&N==="right"&&this.quill.format("align",!1,n.default.sources.USER),this.quill.format("direction",x,n.default.sources.USER)},indent:function(x){var N=this.quill.getSelection(),I=this.quill.getFormat(N),P=parseInt(I.indent||0);if(x==="+1"||x==="-1"){var U=x==="+1"?1:-1;I.direction==="rtl"&&(U*=-1),this.quill.format("indent",P+U,n.default.sources.USER)}},link:function(x){x===!0&&(x=prompt("Enter link URL:")),this.quill.format("link",x,n.default.sources.USER)},list:function(x){var N=this.quill.getSelection(),I=this.quill.getFormat(N);x==="check"?I.list==="checked"||I.list==="unchecked"?this.quill.format("list",!1,n.default.sources.USER):this.quill.format("list","unchecked",n.default.sources.USER):this.quill.format("list",x,n.default.sources.USER)}}},i.default=O,i.addControls=L},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function f(v,E){for(var g=0;g<E.length;g++){var d=E[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(v,d.key,d)}}return function(v,E,g){return E&&f(v.prototype,E),g&&f(v,g),v}}(),w=function f(v,E,g){v===null&&(v=Function.prototype);var d=Object.getOwnPropertyDescriptor(v,E);if(d===void 0){var o=Object.getPrototypeOf(v);return o===null?void 0:f(o,E,g)}else{if("value"in d)return d.value;var s=d.get;return s===void 0?void 0:s.call(g)}},y=u(28),h=_(y);function _(f){return f&&f.__esModule?f:{default:f}}function b(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function r(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function n(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var a=function(f){n(v,f);function v(E,g){b(this,v);var d=r(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return d.label.innerHTML=g,d.container.classList.add("ql-color-picker"),[].slice.call(d.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(o){o.classList.add("ql-primary")}),d}return m(v,[{key:"buildItem",value:function(g){var d=w(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,g);return d.style.backgroundColor=g.getAttribute("value")||"",d}},{key:"selectItem",value:function(g,d){w(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,d);var o=this.label.querySelector(".ql-color-label"),s=g&&g.getAttribute("data-value")||"";o&&(o.tagName==="line"?o.style.stroke=s:o.style.fill=s)}}]),v}(h.default);i.default=a},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function f(v,E){for(var g=0;g<E.length;g++){var d=E[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(v,d.key,d)}}return function(v,E,g){return E&&f(v.prototype,E),g&&f(v,g),v}}(),w=function f(v,E,g){v===null&&(v=Function.prototype);var d=Object.getOwnPropertyDescriptor(v,E);if(d===void 0){var o=Object.getPrototypeOf(v);return o===null?void 0:f(o,E,g)}else{if("value"in d)return d.value;var s=d.get;return s===void 0?void 0:s.call(g)}},y=u(28),h=_(y);function _(f){return f&&f.__esModule?f:{default:f}}function b(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function r(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function n(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var a=function(f){n(v,f);function v(E,g){b(this,v);var d=r(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,E));return d.container.classList.add("ql-icon-picker"),[].forEach.call(d.container.querySelectorAll(".ql-picker-item"),function(o){o.innerHTML=g[o.getAttribute("data-value")||""]}),d.defaultItem=d.container.querySelector(".ql-selected"),d.selectItem(d.defaultItem),d}return m(v,[{key:"selectItem",value:function(g,d){w(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,d),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),v}(h.default);i.default=a},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function h(_,b){for(var r=0;r<b.length;r++){var n=b[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(_,n.key,n)}}return function(_,b,r){return b&&h(_.prototype,b),r&&h(_,r),_}}();function w(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")}var y=function(){function h(_,b){var r=this;w(this,h),this.quill=_,this.boundsContainer=b||document.body,this.root=_.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"}),this.hide()}return m(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(b){var r=b.left+b.width/2-this.root.offsetWidth/2,n=b.bottom+this.quill.root.scrollTop;this.root.style.left=r+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var a=this.boundsContainer.getBoundingClientRect(),f=this.root.getBoundingClientRect(),v=0;if(f.right>a.right&&(v=a.right-f.right,this.root.style.left=r+v+"px"),f.left<a.left&&(v=a.left-f.left,this.root.style.left=r+v+"px"),f.bottom>a.bottom){var E=f.bottom-f.top,g=b.bottom-b.top+E;this.root.style.top=n-g+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h}();i.default=y},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function k(A,x){var N=[],I=!0,P=!1,U=void 0;try{for(var $=A[Symbol.iterator](),et;!(I=(et=$.next()).done)&&(N.push(et.value),!(x&&N.length===x));I=!0);}catch(K){P=!0,U=K}finally{try{!I&&$.return&&$.return()}finally{if(P)throw U}}return N}return function(A,x){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return k(A,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function k(A,x,N){A===null&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,x);if(I===void 0){var P=Object.getPrototypeOf(A);return P===null?void 0:k(P,x,N)}else{if("value"in I)return I.value;var U=I.get;return U===void 0?void 0:U.call(N)}},y=function(){function k(A,x){for(var N=0;N<x.length;N++){var I=x[N];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,x,N){return x&&k(A.prototype,x),N&&k(A,N),A}}(),h=u(3),_=o(h),b=u(8),r=o(b),n=u(43),a=o(n),f=u(27),v=o(f),E=u(15),g=u(41),d=o(g);function o(k){return k&&k.__esModule?k:{default:k}}function s(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function p(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function S(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(k){S(A,k);function A(x,N){s(this,A),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=O);var I=p(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,x,N));return I.quill.container.classList.add("ql-snow"),I}return y(A,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),d.default),this.tooltip=new L(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(I,P){N.handlers.link.call(N,!P.format.link)})}}]),A}(a.default);C.DEFAULTS=(0,_.default)(!0,{},a.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(A){if(A){var x=this.quill.getSelection();if(x==null||x.length==0)return;var N=this.quill.getText(x);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var I=this.quill.theme.tooltip;I.edit("link",N)}else this.quill.format("link",!1)}}}}});var L=function(k){S(A,k);function A(x,N){s(this,A);var I=p(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,x,N));return I.preview=I.root.querySelector("a.ql-preview"),I}return y(A,[{key:"listen",value:function(){var N=this;w(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(I){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),I.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(I){if(N.linkRange!=null){var P=N.linkRange;N.restoreFocus(),N.quill.formatText(P,"link",!1,r.default.sources.USER),delete N.linkRange}I.preventDefault(),N.hide()}),this.quill.on(r.default.events.SELECTION_CHANGE,function(I,P,U){if(I!=null){if(I.length===0&&U===r.default.sources.USER){var $=N.quill.scroll.descendant(v.default,I.index),et=m($,2),K=et[0],V=et[1];if(K!=null){N.linkRange=new E.Range(I.index-V,K.length());var q=v.default.formats(K.domNode);N.preview.textContent=q,N.preview.setAttribute("href",q),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){w(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(n.BaseTooltip);L.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=C},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(29),w=R(m),y=u(36),h=u(38),_=u(64),b=u(65),r=R(b),n=u(66),a=R(n),f=u(67),v=R(f),E=u(37),g=u(26),d=u(39),o=u(40),s=u(56),p=R(s),S=u(68),O=R(S),C=u(27),L=R(C),k=u(69),A=R(k),x=u(70),N=R(x),I=u(71),P=R(I),U=u(72),$=R(U),et=u(73),K=R(et),V=u(13),q=R(V),H=u(74),F=R(H),Z=u(75),j=R(Z),D=u(57),B=R(D),z=u(41),Y=R(z),nt=u(28),ot=R(nt),ft=u(59),ct=R(ft),gt=u(60),X=R(gt),it=u(61),lt=R(it),J=u(108),M=R(J),c=u(62),T=R(c);function R(W){return W&&W.__esModule?W:{default:W}}w.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":y.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":d.FontClass,"attributors/class/size":o.SizeClass,"attributors/style/align":y.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":d.FontStyle,"attributors/style/size":o.SizeStyle},!0),w.default.register({"formats/align":y.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":_.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":d.FontClass,"formats/size":o.SizeClass,"formats/blockquote":r.default,"formats/code-block":q.default,"formats/header":a.default,"formats/list":v.default,"formats/bold":p.default,"formats/code":V.Code,"formats/italic":O.default,"formats/link":L.default,"formats/script":A.default,"formats/strike":N.default,"formats/underline":P.default,"formats/image":$.default,"formats/video":K.default,"formats/list/item":f.ListItem,"modules/formula":F.default,"modules/syntax":j.default,"modules/toolbar":B.default,"themes/bubble":M.default,"themes/snow":T.default,"ui/icons":Y.default,"ui/picker":ot.default,"ui/icon-picker":X.default,"ui/color-picker":ct.default,"ui/tooltip":lt.default},!0),i.default=w.default},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var m=function(){function v(E,g){for(var d=0;d<g.length;d++){var o=g[d];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(E,o.key,o)}}return function(E,g,d){return g&&v(E.prototype,g),d&&v(E,d),E}}(),w=function v(E,g,d){E===null&&(E=Function.prototype);var o=Object.getOwnPropertyDescriptor(E,g);if(o===void 0){var s=Object.getPrototypeOf(E);return s===null?void 0:v(s,g,d)}else{if("value"in o)return o.value;var p=o.get;return p===void 0?void 0:p.call(d)}},y=u(0),h=_(y);function _(v){return v&&v.__esModule?v:{default:v}}function b(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")}function r(v,E){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:v}function n(v,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);v.prototype=Object.create(E&&E.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(v,E):v.__proto__=E)}var a=function(v){n(E,v);function E(){return b(this,E),r(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return m(E,[{key:"add",value:function(d,o){if(o==="+1"||o==="-1"){var s=this.value(d)||0;o=o==="+1"?s+1:s-1}return o===0?(this.remove(d),!0):w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,d,o)}},{key:"canAdd",value:function(d,o){return w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,d,o)||w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,d,parseInt(o))}},{key:"value",value:function(d){return parseInt(w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,d))||void 0}}]),E}(h.default.Attributor.Class),f=new a("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=f},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(4),w=y(m);function y(n){return n&&n.__esModule?n:{default:n}}function h(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function _(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:n}function b(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}var r=function(n){b(a,n);function a(){return h(this,a),_(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(w.default);r.blotName="blockquote",r.tagName="blockquote",i.default=r},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function a(f,v){for(var E=0;E<v.length;E++){var g=v[E];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,v,E){return v&&a(f.prototype,v),E&&a(f,E),f}}(),w=u(4),y=h(w);function h(a){return a&&a.__esModule?a:{default:a}}function _(a,f){if(!(a instanceof f))throw new TypeError("Cannot call a class as a function")}function b(a,f){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:a}function r(a,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);a.prototype=Object.create(f&&f.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(a,f):a.__proto__=f)}var n=function(a){r(f,a);function f(){return _(this,f),b(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return m(f,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),f}(y.default);n.blotName="header",n.tagName=["H1","H2","H3","H4","H5","H6"],i.default=n},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var m=function(){function s(p,S){for(var O=0;O<S.length;O++){var C=S[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,S,O){return S&&s(p.prototype,S),O&&s(p,O),p}}(),w=function s(p,S,O){p===null&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,S);if(C===void 0){var L=Object.getPrototypeOf(p);return L===null?void 0:s(L,S,O)}else{if("value"in C)return C.value;var k=C.get;return k===void 0?void 0:k.call(O)}},y=u(0),h=a(y),_=u(4),b=a(_),r=u(25),n=a(r);function a(s){return s&&s.__esModule?s:{default:s}}function f(s,p,S){return p in s?Object.defineProperty(s,p,{value:S,enumerable:!0,configurable:!0,writable:!0}):s[p]=S,s}function v(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}function E(s,p){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:s}function g(s,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);s.prototype=Object.create(p&&p.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(s,p):s.__proto__=p)}var d=function(s){g(p,s);function p(){return v(this,p),E(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return m(p,[{key:"format",value:function(O,C){O===o.blotName&&!C?this.replaceWith(h.default.create(this.statics.scope)):w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,O,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,C){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,C),this):(this.parent.unwrap(),w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"replaceWith",this).call(this,O,C))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:w(p.__proto__||Object.getPrototypeOf(p),"formats",this).call(this,O)}}]),p}(b.default);d.blotName="list-item",d.tagName="LI";var o=function(s){g(p,s),m(p,null,[{key:"create",value:function(O){var C=O==="ordered"?"OL":"UL",L=w(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,C);return(O==="checked"||O==="unchecked")&&L.setAttribute("data-checked",O==="checked"),L}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function p(S){v(this,p);var O=E(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,S)),C=function(k){if(k.target.parentNode===S){var A=O.statics.formats(S),x=h.default.find(k.target);A==="checked"?x.format("list","unchecked"):A==="unchecked"&&x.format("list","checked")}};return S.addEventListener("touchstart",C),S.addEventListener("mousedown",C),O}return m(p,[{key:"format",value:function(O,C){this.children.length>0&&this.children.tail.format(O,C)}},{key:"formats",value:function(){return f({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,C){if(O instanceof d)w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertBefore",this).call(this,O,C);else{var L=C==null?this.length():C.offset(this),k=this.split(L);k.parent.insertBefore(O,k)}}},{key:"optimize",value:function(O){w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,O);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var C=h.default.create(this.statics.defaultChild);O.moveChildren(C),this.appendChild(C)}w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"replace",this).call(this,O)}}]),p}(n.default);o.blotName="list",o.scope=h.default.Scope.BLOCK_BLOT,o.tagName=["OL","UL"],o.defaultChild="list-item",o.allowedChildren=[d],i.ListItem=d,i.default=o},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(56),w=y(m);function y(n){return n&&n.__esModule?n:{default:n}}function h(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function _(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:n}function b(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}var r=function(n){b(a,n);function a(){return h(this,a),_(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(w.default);r.blotName="italic",r.tagName=["EM","I"],i.default=r},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function f(v,E){for(var g=0;g<E.length;g++){var d=E[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(v,d.key,d)}}return function(v,E,g){return E&&f(v.prototype,E),g&&f(v,g),v}}(),w=function f(v,E,g){v===null&&(v=Function.prototype);var d=Object.getOwnPropertyDescriptor(v,E);if(d===void 0){var o=Object.getPrototypeOf(v);return o===null?void 0:f(o,E,g)}else{if("value"in d)return d.value;var s=d.get;return s===void 0?void 0:s.call(g)}},y=u(6),h=_(y);function _(f){return f&&f.__esModule?f:{default:f}}function b(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function r(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function n(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var a=function(f){n(v,f);function v(){return b(this,v),r(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return m(v,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):w(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),v}(h.default);a.blotName="script",a.tagName=["SUB","SUP"],i.default=a},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(6),w=y(m);function y(n){return n&&n.__esModule?n:{default:n}}function h(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function _(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:n}function b(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}var r=function(n){b(a,n);function a(){return h(this,a),_(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(w.default);r.blotName="strike",r.tagName="S",i.default=r},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=u(6),w=y(m);function y(n){return n&&n.__esModule?n:{default:n}}function h(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function _(n,a){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:n}function b(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(n,a):n.__proto__=a)}var r=function(n){b(a,n);function a(){return h(this,a),_(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(w.default);r.blotName="underline",r.tagName="U",i.default=r},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function E(g,d){for(var o=0;o<d.length;o++){var s=d[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(g,s.key,s)}}return function(g,d,o){return d&&E(g.prototype,d),o&&E(g,o),g}}(),w=function E(g,d,o){g===null&&(g=Function.prototype);var s=Object.getOwnPropertyDescriptor(g,d);if(s===void 0){var p=Object.getPrototypeOf(g);return p===null?void 0:E(p,d,o)}else{if("value"in s)return s.value;var S=s.get;return S===void 0?void 0:S.call(o)}},y=u(0),h=b(y),_=u(27);function b(E){return E&&E.__esModule?E:{default:E}}function r(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")}function n(E,g){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:E}function a(E,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);E.prototype=Object.create(g&&g.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(E,g):E.__proto__=g)}var f=["alt","height","width"],v=function(E){a(g,E);function g(){return r(this,g),n(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return m(g,[{key:"format",value:function(o,s){f.indexOf(o)>-1?s?this.domNode.setAttribute(o,s):this.domNode.removeAttribute(o):w(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,o,s)}}],[{key:"create",value:function(o){var s=w(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,o);return typeof o=="string"&&s.setAttribute("src",this.sanitize(o)),s}},{key:"formats",value:function(o){return f.reduce(function(s,p){return o.hasAttribute(p)&&(s[p]=o.getAttribute(p)),s},{})}},{key:"match",value:function(o){return/\.(jpe?g|gif|png)$/.test(o)||/^data:image\/.+;base64/.test(o)}},{key:"sanitize",value:function(o){return(0,_.sanitize)(o,["http","https","data"])?o:"//:0"}},{key:"value",value:function(o){return o.getAttribute("src")}}]),g}(h.default.Embed);v.blotName="image",v.tagName="IMG",i.default=v},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0});var m=function(){function E(g,d){for(var o=0;o<d.length;o++){var s=d[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(g,s.key,s)}}return function(g,d,o){return d&&E(g.prototype,d),o&&E(g,o),g}}(),w=function E(g,d,o){g===null&&(g=Function.prototype);var s=Object.getOwnPropertyDescriptor(g,d);if(s===void 0){var p=Object.getPrototypeOf(g);return p===null?void 0:E(p,d,o)}else{if("value"in s)return s.value;var S=s.get;return S===void 0?void 0:S.call(o)}},y=u(4),h=u(27),_=b(h);function b(E){return E&&E.__esModule?E:{default:E}}function r(E,g){if(!(E instanceof g))throw new TypeError("Cannot call a class as a function")}function n(E,g){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:E}function a(E,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);E.prototype=Object.create(g&&g.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(E,g):E.__proto__=g)}var f=["height","width"],v=function(E){a(g,E);function g(){return r(this,g),n(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return m(g,[{key:"format",value:function(o,s){f.indexOf(o)>-1?s?this.domNode.setAttribute(o,s):this.domNode.removeAttribute(o):w(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,o,s)}}],[{key:"create",value:function(o){var s=w(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,o);return s.setAttribute("frameborder","0"),s.setAttribute("allowfullscreen",!0),s.setAttribute("src",this.sanitize(o)),s}},{key:"formats",value:function(o){return f.reduce(function(s,p){return o.hasAttribute(p)&&(s[p]=o.getAttribute(p)),s},{})}},{key:"sanitize",value:function(o){return _.default.sanitize(o)}},{key:"value",value:function(o){return o.getAttribute("src")}}]),g}(y.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",i.default=v},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var m=function(){function o(s,p){for(var S=0;S<p.length;S++){var O=p[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(s,O.key,O)}}return function(s,p,S){return p&&o(s.prototype,p),S&&o(s,S),s}}(),w=function o(s,p,S){s===null&&(s=Function.prototype);var O=Object.getOwnPropertyDescriptor(s,p);if(O===void 0){var C=Object.getPrototypeOf(s);return C===null?void 0:o(C,p,S)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(S)}},y=u(35),h=a(y),_=u(5),b=a(_),r=u(9),n=a(r);function a(o){return o&&o.__esModule?o:{default:o}}function f(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function v(o,s){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:o}function E(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(o,s):o.__proto__=s)}var g=function(o){E(s,o);function s(){return f(this,s),v(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return m(s,null,[{key:"create",value:function(S){var O=w(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",S)),O}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),s}(h.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var d=function(o){E(s,o),m(s,null,[{key:"register",value:function(){b.default.register(g,!0)}}]);function s(){f(this,s);var p=v(this,(s.__proto__||Object.getPrototypeOf(s)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return p}return s}(n.default);i.FormulaBlot=g,i.default=d},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var m=function(){function S(O,C){for(var L=0;L<C.length;L++){var k=C[L];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(O,k.key,k)}}return function(O,C,L){return C&&S(O.prototype,C),L&&S(O,L),O}}(),w=function S(O,C,L){O===null&&(O=Function.prototype);var k=Object.getOwnPropertyDescriptor(O,C);if(k===void 0){var A=Object.getPrototypeOf(O);return A===null?void 0:S(A,C,L)}else{if("value"in k)return k.value;var x=k.get;return x===void 0?void 0:x.call(L)}},y=u(0),h=v(y),_=u(5),b=v(_),r=u(9),n=v(r),a=u(13),f=v(a);function v(S){return S&&S.__esModule?S:{default:S}}function E(S,O){if(!(S instanceof O))throw new TypeError("Cannot call a class as a function")}function g(S,O){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:S}function d(S,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);S.prototype=Object.create(O&&O.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(S,O):S.__proto__=O)}var o=function(S){d(O,S);function O(){return E(this,O),g(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return m(O,[{key:"replaceWith",value:function(L){this.domNode.textContent=this.domNode.textContent,this.attach(),w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,L)}},{key:"highlight",value:function(L){var k=this.domNode.textContent;this.cachedText!==k&&((k.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=L(k),this.domNode.normalize(),this.attach()),this.cachedText=k)}}]),O}(f.default);o.className="ql-syntax";var s=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),p=function(S){d(O,S),m(O,null,[{key:"register",value:function(){b.default.register(s,!0),b.default.register(o,!0)}}]);function O(C,L){E(this,O);var k=g(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,C,L));if(typeof k.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return k.quill.on(b.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){k.highlight(),A=null},k.options.interval)}),k.highlight(),k}return m(O,[{key:"highlight",value:function(){var L=this;if(!this.quill.selection.composing){this.quill.update(b.default.sources.USER);var k=this.quill.getSelection();this.quill.scroll.descendants(o).forEach(function(A){A.highlight(L.options.highlight)}),this.quill.update(b.default.sources.SILENT),k!=null&&this.quill.setSelection(k,b.default.sources.SILENT)}}}]),O}(n.default);p.DEFAULTS={highlight:function(){return window.hljs==null?null:function(S){var O=window.hljs.highlightAuto(S);return O.value}}(),interval:1e3},i.CodeBlock=o,i.CodeToken=s,i.default=p},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,i){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,i){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,i){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,i){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,i){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,i,u){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var m=function O(C,L,k){C===null&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,L);if(A===void 0){var x=Object.getPrototypeOf(C);return x===null?void 0:O(x,L,k)}else{if("value"in A)return A.value;var N=A.get;return N===void 0?void 0:N.call(k)}},w=function(){function O(C,L){for(var k=0;k<L.length;k++){var A=L[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,L,k){return L&&O(C.prototype,L),k&&O(C,k),C}}(),y=u(3),h=E(y),_=u(8),b=E(_),r=u(43),n=E(r),a=u(15),f=u(41),v=E(f);function E(O){return O&&O.__esModule?O:{default:O}}function g(O,C){if(!(O instanceof C))throw new TypeError("Cannot call a class as a function")}function d(O,C){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:O}function o(O,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);O.prototype=Object.create(C&&C.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(O,C):O.__proto__=C)}var s=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],p=function(O){o(C,O);function C(L,k){g(this,C),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=s);var A=d(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,L,k));return A.quill.container.classList.add("ql-bubble"),A}return w(C,[{key:"extendToolbar",value:function(k){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(k.container),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),v.default)}}]),C}(n.default);p.DEFAULTS=(0,h.default)(!0,{},n.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(O){o(C,O);function C(L,k){g(this,C);var A=d(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,L,k));return A.quill.on(b.default.events.EDITOR_CHANGE,function(x,N,I,P){if(x===b.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&P===b.default.sources.USER){A.show(),A.root.style.left="0px",A.root.style.width="",A.root.style.width=A.root.offsetWidth+"px";var U=A.quill.getLines(N.index,N.length);if(U.length===1)A.position(A.quill.getBounds(N));else{var $=U[U.length-1],et=A.quill.getIndex($),K=Math.min($.length()-1,N.index+N.length-et),V=A.quill.getBounds(new a.Range(et,K));A.position(V)}}else document.activeElement!==A.textbox&&A.quill.hasFocus()&&A.hide()}),A}return w(C,[{key:"listen",value:function(){var k=this;m(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){k.root.classList.remove("ql-editing")}),this.quill.on(b.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!k.root.classList.contains("ql-hidden")){var A=k.quill.getSelection();A!=null&&k.position(k.quill.getBounds(A))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(k){var A=m(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,k),x=this.root.querySelector(".ql-tooltip-arrow");if(x.style.marginLeft="",A===0)return A;x.style.marginLeft=-1*A-x.offsetWidth/2+"px"}}]),C}(r.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=S,i.default=p},function(e,i,u){e.exports=u(63)}]).default})})(Cs);var qu=Cs.exports;const xs=Ni(qu);var Rs={exports:{}};/*! For license information please see quill-cursors.js.LICENSE.txt */(function(l,t){(function(e,i){l.exports=i()})(self,()=>(()=>{var e={582:(w,y,h)=>{h.d(y,{Z:()=>a});var _=h(81),b=h.n(_),r=h(645),n=h.n(r)()(b());n.push([w.id,".ql-container{position:relative;overflow:hidden}@media(pointer: coarse){.ql-cursor-caret-container{z-index:-1}}.ql-cursor.hidden{display:none}.ql-cursor .ql-cursor-caret-container,.ql-cursor .ql-cursor-flag{position:absolute}.ql-cursor .ql-cursor-flag{z-index:1;transform:translate3d(-1px, -100%, 0);opacity:0;visibility:hidden;color:#fff;padding-bottom:2px;border-radius:0 3px 3px 0}.ql-cursor .ql-cursor-flag.flag-flipped{border-radius:3px 0 0 3px;transform:translate3d(calc(-100% + 1px ), -100%, 0)}@media screen{.ql-cursor .ql-cursor-flag{transition:opacity 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms,visibility 0ms cubic-bezier(0.25, 0.46, 0.45, 0.94) 0ms}}.ql-cursor .ql-cursor-flag .ql-cursor-name{margin-left:5px;margin-right:5px;display:inline-block;margin-top:-2px;white-space:nowrap}.ql-cursor .ql-cursor-flag.no-delay[style]{transition-delay:unset !important}.ql-cursor .ql-cursor-caret-container{cursor:text;margin-left:-9px;padding:0 9px}.ql-cursor .ql-cursor-caret-container.hover+.ql-cursor-flag{opacity:1;visibility:visible;transition:none}.ql-cursor .ql-cursor-caret-container.no-pointer{pointer-events:none}.ql-cursor .ql-cursor-caret-container .ql-cursor-caret{position:absolute;top:0;bottom:0;width:2px;margin-left:-1px;background-color:attr(data-color)}.ql-cursor .ql-cursor-selection-block{position:absolute;pointer-events:none}",""]);const a=n},645:w=>{w.exports=function(y){var h=[];return h.toString=function(){return this.map(function(_){var b="",r=_[5]!==void 0;return _[4]&&(b+="@supports (".concat(_[4],") {")),_[2]&&(b+="@media ".concat(_[2]," {")),r&&(b+="@layer".concat(_[5].length>0?" ".concat(_[5]):""," {")),b+=y(_),r&&(b+="}"),_[2]&&(b+="}"),_[4]&&(b+="}"),b}).join("")},h.i=function(_,b,r,n,a){typeof _=="string"&&(_=[[null,_,void 0]]);var f={};if(r)for(var v=0;v<this.length;v++){var E=this[v][0];E!=null&&(f[E]=!0)}for(var g=0;g<_.length;g++){var d=[].concat(_[g]);r&&f[d[0]]||(a!==void 0&&(d[5]===void 0||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),b&&(d[2]&&(d[1]="@media ".concat(d[2]," {").concat(d[1],"}")),d[2]=b),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),h.push(d))}},h}},81:w=>{w.exports=function(y){return y[1]}},529:w=>{var y=-1;function h(o,s,p,S){if(o===s)return o?[[0,o]]:[];if(p!=null){var O=function(x,N,I){var P=typeof I=="number"?{index:I,length:0}:I.oldRange,U=typeof I=="number"?null:I.newRange,$=x.length,et=N.length;if(P.length===0&&(U===null||U.length===0)){var K=P.index,V=x.slice(0,K),q=x.slice(K),H=U?U.index:null,F=K+et-$;if((H===null||H===F)&&!(F<0||F>et)){var Z=N.slice(0,F);if((B=N.slice(F))===q){var j=Math.min(K,F);if((Y=V.slice(0,j))===(ot=Z.slice(0,j)))return g(Y,V.slice(j),Z.slice(j),q)}}if(H===null||H===K){var D=K,B=(Z=N.slice(0,D),N.slice(D));if(Z===V){var z=Math.min($-D,et-D);if((nt=q.slice(q.length-z))===(ft=B.slice(B.length-z)))return g(V,q.slice(0,q.length-z),B.slice(0,B.length-z),nt)}}}if(P.length>0&&U&&U.length===0){var Y=x.slice(0,P.index),nt=x.slice(P.index+P.length);if(!(et<(j=Y.length)+(z=nt.length))){var ot=N.slice(0,j),ft=N.slice(et-z);if(Y===ot&&nt===ft)return g(Y,x.slice(j,$-z),N.slice(j,et-z),nt)}}return null}(o,s,p);if(O)return O}var C=b(o,s),L=o.substring(0,C);C=r(o=o.substring(C),s=s.substring(C));var k=o.substring(o.length-C),A=function(x,N){var I;if(!x)return[[1,N]];if(!N)return[[y,x]];var P=x.length>N.length?x:N,U=x.length>N.length?N:x,$=P.indexOf(U);if($!==-1)return I=[[1,P.substring(0,$)],[0,U],[1,P.substring($+U.length)]],x.length>N.length&&(I[0][0]=I[2][0]=y),I;if(U.length===1)return[[y,x],[1,N]];var et=function(D,B){var z=D.length>B.length?D:B,Y=D.length>B.length?B:D;if(z.length<4||2*Y.length<z.length)return null;function nt(J,M,c){for(var T,R,W,G,Q=J.substring(c,c+Math.floor(J.length/4)),ut=-1,vt="";(ut=M.indexOf(Q,ut+1))!==-1;){var yt=b(J.substring(c),M.substring(ut)),_t=r(J.substring(0,c),M.substring(0,ut));vt.length<_t+yt&&(vt=M.substring(ut-_t,ut)+M.substring(ut,ut+yt),T=J.substring(0,c-_t),R=J.substring(c+yt),W=M.substring(0,ut-_t),G=M.substring(ut+yt))}return 2*vt.length>=J.length?[T,R,W,G,vt]:null}var ot,ft,ct,gt,X,it=nt(z,Y,Math.ceil(z.length/4)),lt=nt(z,Y,Math.ceil(z.length/2));return it||lt?(ot=lt?it&&it[4].length>lt[4].length?it:lt:it,D.length>B.length?(ft=ot[0],ct=ot[1],gt=ot[2],X=ot[3]):(gt=ot[0],X=ot[1],ft=ot[2],ct=ot[3]),[ft,ct,gt,X,ot[4]]):null}(x,N);if(et){var K=et[0],V=et[1],q=et[2],H=et[3],F=et[4],Z=h(K,q),j=h(V,H);return Z.concat([[0,F]],j)}return function(D,B){for(var z=D.length,Y=B.length,nt=Math.ceil((z+Y)/2),ot=nt,ft=2*nt,ct=new Array(ft),gt=new Array(ft),X=0;X<ft;X++)ct[X]=-1,gt[X]=-1;ct[ot+1]=0,gt[ot+1]=0;for(var it=z-Y,lt=it%2!=0,J=0,M=0,c=0,T=0,R=0;R<nt;R++){for(var W=-R+J;W<=R-M;W+=2){for(var G=ot+W,Q=(pt=W===-R||W!==R&&ct[G-1]<ct[G+1]?ct[G+1]:ct[G-1]+1)-W;pt<z&&Q<Y&&D.charAt(pt)===B.charAt(Q);)pt++,Q++;if(ct[G]=pt,pt>z)M+=2;else if(Q>Y)J+=2;else if(lt&&(yt=ot+it-W)>=0&&yt<ft&&gt[yt]!==-1&&pt>=(vt=z-gt[yt]))return _(D,B,pt,Q)}for(var ut=-R+c;ut<=R-T;ut+=2){for(var vt,yt=ot+ut,_t=(vt=ut===-R||ut!==R&&gt[yt-1]<gt[yt+1]?gt[yt+1]:gt[yt-1]+1)-ut;vt<z&&_t<Y&&D.charAt(z-vt-1)===B.charAt(Y-_t-1);)vt++,_t++;if(gt[yt]=vt,vt>z)T+=2;else if(_t>Y)c+=2;else if(!lt){var pt;if((G=ot+it-ut)>=0&&G<ft&&ct[G]!==-1&&(Q=ot+(pt=ct[G])-G,pt>=(vt=z-vt)))return _(D,B,pt,Q)}}}return[[y,D],[1,B]]}(x,N)}(o=o.substring(0,o.length-C),s=s.substring(0,s.length-C));return L&&A.unshift([0,L]),k&&A.push([0,k]),n(A,S),A}function _(o,s,p,S){var O=o.substring(0,p),C=s.substring(0,S),L=o.substring(p),k=s.substring(S),A=h(O,C),x=h(L,k);return A.concat(x)}function b(o,s){if(!o||!s||o.charAt(0)!==s.charAt(0))return 0;for(var p=0,S=Math.min(o.length,s.length),O=S,C=0;p<O;)o.substring(C,O)==s.substring(C,O)?C=p=O:S=O,O=Math.floor((S-p)/2+p);return a(o.charCodeAt(O-1))&&O--,O}function r(o,s){if(!o||!s||o.slice(-1)!==s.slice(-1))return 0;for(var p=0,S=Math.min(o.length,s.length),O=S,C=0;p<O;)o.substring(o.length-O,o.length-C)==s.substring(s.length-O,s.length-C)?C=p=O:S=O,O=Math.floor((S-p)/2+p);return f(o.charCodeAt(o.length-O))&&O--,O}function n(o,s){o.push([0,""]);for(var p,S=0,O=0,C=0,L="",k="";S<o.length;)if(S<o.length-1&&!o[S][1])o.splice(S,1);else switch(o[S][0]){case 1:C++,k+=o[S][1],S++;break;case y:O++,L+=o[S][1],S++;break;case 0:var A=S-C-O-1;if(s){if(A>=0&&E(o[A][1])){var x=o[A][1].slice(-1);if(o[A][1]=o[A][1].slice(0,-1),L=x+L,k=x+k,!o[A][1]){o.splice(A,1),S--;var N=A-1;o[N]&&o[N][0]===1&&(C++,k=o[N][1]+k,N--),o[N]&&o[N][0]===y&&(O++,L=o[N][1]+L,N--),A=N}}v(o[S][1])&&(x=o[S][1].charAt(0),o[S][1]=o[S][1].slice(1),L+=x,k+=x)}if(S<o.length-1&&!o[S][1]){o.splice(S,1);break}if(L.length>0||k.length>0){L.length>0&&k.length>0&&((p=b(k,L))!==0&&(A>=0?o[A][1]+=k.substring(0,p):(o.splice(0,0,[0,k.substring(0,p)]),S++),k=k.substring(p),L=L.substring(p)),(p=r(k,L))!==0&&(o[S][1]=k.substring(k.length-p)+o[S][1],k=k.substring(0,k.length-p),L=L.substring(0,L.length-p)));var I=C+O;L.length===0&&k.length===0?(o.splice(S-I,I),S-=I):L.length===0?(o.splice(S-I,I,[1,k]),S=S-I+1):k.length===0?(o.splice(S-I,I,[y,L]),S=S-I+1):(o.splice(S-I,I,[y,L],[1,k]),S=S-I+2)}S!==0&&o[S-1][0]===0?(o[S-1][1]+=o[S][1],o.splice(S,1)):S++,C=0,O=0,L="",k=""}o[o.length-1][1]===""&&o.pop();var P=!1;for(S=1;S<o.length-1;)o[S-1][0]===0&&o[S+1][0]===0&&(o[S][1].substring(o[S][1].length-o[S-1][1].length)===o[S-1][1]?(o[S][1]=o[S-1][1]+o[S][1].substring(0,o[S][1].length-o[S-1][1].length),o[S+1][1]=o[S-1][1]+o[S+1][1],o.splice(S-1,1),P=!0):o[S][1].substring(0,o[S+1][1].length)==o[S+1][1]&&(o[S-1][1]+=o[S+1][1],o[S][1]=o[S][1].substring(o[S+1][1].length)+o[S+1][1],o.splice(S+1,1),P=!0)),S++;P&&n(o,s)}function a(o){return o>=55296&&o<=56319}function f(o){return o>=56320&&o<=57343}function v(o){return f(o.charCodeAt(0))}function E(o){return a(o.charCodeAt(o.length-1))}function g(o,s,p,S){return E(o)||v(S)?null:function(O){for(var C=[],L=0;L<O.length;L++)O[L][1].length>0&&C.push(O[L]);return C}([[0,o],[y,s],[1,p],[0,S]])}function d(o,s,p){return h(o,s,p,!0)}d.INSERT=1,d.DELETE=y,d.EQUAL=0,w.exports=d},465:(w,y,h)=>{w=h.nmd(w);var _="__lodash_hash_undefined__",b=9007199254740991,r="[object Arguments]",n="[object Boolean]",a="[object Date]",f="[object Function]",v="[object GeneratorFunction]",E="[object Map]",g="[object Number]",d="[object Object]",o="[object Promise]",s="[object RegExp]",p="[object Set]",S="[object String]",O="[object Symbol]",C="[object WeakMap]",L="[object ArrayBuffer]",k="[object DataView]",A="[object Float32Array]",x="[object Float64Array]",N="[object Int8Array]",I="[object Int16Array]",P="[object Int32Array]",U="[object Uint8Array]",$="[object Uint8ClampedArray]",et="[object Uint16Array]",K="[object Uint32Array]",V=/\w*$/,q=/^\[object .+?Constructor\]$/,H=/^(?:0|[1-9]\d*)$/,F={};F[r]=F["[object Array]"]=F[L]=F[k]=F[n]=F[a]=F[A]=F[x]=F[N]=F[I]=F[P]=F[E]=F[g]=F[d]=F[s]=F[p]=F[S]=F[O]=F[U]=F[$]=F[et]=F[K]=!0,F["[object Error]"]=F[f]=F[C]=!1;var Z=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,j=typeof self=="object"&&self&&self.Object===Object&&self,D=Z||j||Function("return this")(),B=y&&!y.nodeType&&y,z=B&&w&&!w.nodeType&&w,Y=z&&z.exports===B;function nt(tt,st){return tt.set(st[0],st[1]),tt}function ot(tt,st){return tt.add(st),tt}function ft(tt,st,dt,mt){var St=-1,Dt=tt?tt.length:0;for(mt&&Dt&&(dt=tt[++St]);++St<Dt;)dt=st(dt,tt[St],St,tt);return dt}function ct(tt){var st=!1;if(tt!=null&&typeof tt.toString!="function")try{st=!!(tt+"")}catch{}return st}function gt(tt){var st=-1,dt=Array(tt.size);return tt.forEach(function(mt,St){dt[++st]=[St,mt]}),dt}function X(tt,st){return function(dt){return tt(st(dt))}}function it(tt){var st=-1,dt=Array(tt.size);return tt.forEach(function(mt){dt[++st]=mt}),dt}var lt,J=Array.prototype,M=Function.prototype,c=Object.prototype,T=D["__core-js_shared__"],R=(lt=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+lt:"",W=M.toString,G=c.hasOwnProperty,Q=c.toString,ut=RegExp("^"+W.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=Y?D.Buffer:void 0,yt=D.Symbol,_t=D.Uint8Array,pt=X(Object.getPrototypeOf,Object),Lt=Object.create,Xt=c.propertyIsEnumerable,ye=J.splice,ve=Object.getOwnPropertySymbols,me=vt?vt.isBuffer:void 0,be=X(Object.keys,Object),Rn=Ee(D,"DataView"),He=Ee(D,"Map"),Qe=Ee(D,"Promise"),ae=Ee(D,"Set"),Qt=Ee(D,"WeakMap"),te=Ee(Object,"create"),dn=Se(Rn),_e=Se(He),pn=Se(Qe),tn=Se(ae),Xn=Se(Qt),Nn=yt?yt.prototype:void 0,Ln=Nn?Nn.valueOf:void 0;function we(tt){var st=-1,dt=tt?tt.length:0;for(this.clear();++st<dt;){var mt=tt[st];this.set(mt[0],mt[1])}}function Jt(tt){var st=-1,dt=tt?tt.length:0;for(this.clear();++st<dt;){var mt=tt[st];this.set(mt[0],mt[1])}}function ee(tt){var st=-1,dt=tt?tt.length:0;for(this.clear();++st<dt;){var mt=tt[st];this.set(mt[0],mt[1])}}function ze(tt){this.__data__=new Jt(tt)}function le(tt,st,dt){var mt=tt[st];G.call(tt,st)&&tr(mt,dt)&&(dt!==void 0||st in tt)||(tt[st]=dt)}function gn(tt,st){for(var dt=tt.length;dt--;)if(tr(tt[dt][0],st))return dt;return-1}function ue(tt,st,dt,mt,St,Dt,It){var Ct;if(mt&&(Ct=Dt?mt(tt,St,Dt,It):mt(tt)),Ct!==void 0)return Ct;if(!Nt(tt))return tt;var Ht=rt(tt);if(Ht){if(Ct=function(Et){var Mt=Et.length,zt=Et.constructor(Mt);return Mt&&typeof Et[0]=="string"&&G.call(Et,"index")&&(zt.index=Et.index,zt.input=Et.input),zt}(tt),!st)return function(Et,Mt){var zt=-1,Tt=Et.length;for(Mt||(Mt=Array(Tt));++zt<Tt;)Mt[zt]=Et[zt];return Mt}(tt,Ct)}else{var jt=Oe(tt),ke=jt==f||jt==v;if(ht(tt))return function(Et,Mt){if(Mt)return Et.slice();var zt=new Et.constructor(Et.length);return Et.copy(zt),zt}(tt,st);if(jt==d||jt==r||ke&&!Dt){if(ct(tt))return Dt?tt:{};if(Ct=function(Et){return typeof Et.constructor!="function"||Ve(Et)?{}:Nt(Mt=pt(Et))?Lt(Mt):{};var Mt}(ke?{}:tt),!st)return function(Et,Mt){return Jn(Et,Dn(Et),Mt)}(tt,function(Et,Mt){return Et&&Jn(Mt,kt(Mt),Et)}(Ct,tt))}else{if(!F[jt])return Dt?tt:{};Ct=function(Et,Mt,zt,Tt){var Rt,ce=Et.constructor;switch(Mt){case L:return yn(Et);case n:case a:return new ce(+Et);case k:return function(xt,Kt){var Bt=Kt?yn(xt.buffer):xt.buffer;return new xt.constructor(Bt,xt.byteOffset,xt.byteLength)}(Et,Tt);case A:case x:case N:case I:case P:case U:case $:case et:case K:return function(xt,Kt){var Bt=Kt?yn(xt.buffer):xt.buffer;return new xt.constructor(Bt,xt.byteOffset,xt.length)}(Et,Tt);case E:return function(xt,Kt,Bt){return ft(Kt?Bt(gt(xt),!0):gt(xt),nt,new xt.constructor)}(Et,Tt,zt);case g:case S:return new ce(Et);case s:return function(xt){var Kt=new xt.constructor(xt.source,V.exec(xt));return Kt.lastIndex=xt.lastIndex,Kt}(Et);case p:return function(xt,Kt,Bt){return ft(Kt?Bt(it(xt),!0):it(xt),ot,new xt.constructor)}(Et,Tt,zt);case O:return Rt=Et,Ln?Object(Ln.call(Rt)):{}}}(tt,jt,ue,st)}}It||(It=new ze);var Ie=It.get(tt);if(Ie)return Ie;if(It.set(tt,Ct),!Ht)var We=dt?function(Et){return function(Mt,zt,Tt){var Rt=zt(Mt);return rt(Mt)?Rt:function(ce,xt){for(var Kt=-1,Bt=xt.length,fe=ce.length;++Kt<Bt;)ce[fe+Kt]=xt[Kt];return ce}(Rt,Tt(Mt))}(Et,kt,Dn)}(tt):kt(tt);return function(Et,Mt){for(var zt=-1,Tt=Et?Et.length:0;++zt<Tt&&Mt(Et[zt],zt)!==!1;);}(We||tt,function(Et,Mt){We&&(Et=tt[Mt=Et]),le(Ct,Mt,ue(Et,st,dt,mt,Mt,tt,It))}),Ct}function yn(tt){var st=new tt.constructor(tt.byteLength);return new _t(st).set(new _t(tt)),st}function Jn(tt,st,dt,mt){dt||(dt={});for(var St=-1,Dt=st.length;++St<Dt;){var It=st[St],Ct=mt?mt(dt[It],tt[It],It,dt,tt):void 0;le(dt,It,Ct===void 0?tt[It]:Ct)}return dt}function Me(tt,st){var dt,mt,St=tt.__data__;return((mt=typeof(dt=st))=="string"||mt=="number"||mt=="symbol"||mt=="boolean"?dt!=="__proto__":dt===null)?St[typeof st=="string"?"string":"hash"]:St.map}function Ee(tt,st){var dt=function(mt,St){return mt==null?void 0:mt[St]}(tt,st);return function(mt){return!(!Nt(mt)||(St=mt,R&&R in St))&&(bt(mt)||ct(mt)?ut:q).test(Se(mt));var St}(dt)?dt:void 0}we.prototype.clear=function(){this.__data__=te?te(null):{}},we.prototype.delete=function(tt){return this.has(tt)&&delete this.__data__[tt]},we.prototype.get=function(tt){var st=this.__data__;if(te){var dt=st[tt];return dt===_?void 0:dt}return G.call(st,tt)?st[tt]:void 0},we.prototype.has=function(tt){var st=this.__data__;return te?st[tt]!==void 0:G.call(st,tt)},we.prototype.set=function(tt,st){return this.__data__[tt]=te&&st===void 0?_:st,this},Jt.prototype.clear=function(){this.__data__=[]},Jt.prototype.delete=function(tt){var st=this.__data__,dt=gn(st,tt);return!(dt<0||(dt==st.length-1?st.pop():ye.call(st,dt,1),0))},Jt.prototype.get=function(tt){var st=this.__data__,dt=gn(st,tt);return dt<0?void 0:st[dt][1]},Jt.prototype.has=function(tt){return gn(this.__data__,tt)>-1},Jt.prototype.set=function(tt,st){var dt=this.__data__,mt=gn(dt,tt);return mt<0?dt.push([tt,st]):dt[mt][1]=st,this},ee.prototype.clear=function(){this.__data__={hash:new we,map:new(He||Jt),string:new we}},ee.prototype.delete=function(tt){return Me(this,tt).delete(tt)},ee.prototype.get=function(tt){return Me(this,tt).get(tt)},ee.prototype.has=function(tt){return Me(this,tt).has(tt)},ee.prototype.set=function(tt,st){return Me(this,tt).set(tt,st),this},ze.prototype.clear=function(){this.__data__=new Jt},ze.prototype.delete=function(tt){return this.__data__.delete(tt)},ze.prototype.get=function(tt){return this.__data__.get(tt)},ze.prototype.has=function(tt){return this.__data__.has(tt)},ze.prototype.set=function(tt,st){var dt=this.__data__;if(dt instanceof Jt){var mt=dt.__data__;if(!He||mt.length<199)return mt.push([tt,st]),this;dt=this.__data__=new ee(mt)}return dt.set(tt,st),this};var Dn=ve?X(ve,Object):function(){return[]},Oe=function(tt){return Q.call(tt)};function Qn(tt,st){return!!(st=st??b)&&(typeof tt=="number"||H.test(tt))&&tt>-1&&tt%1==0&&tt<st}function Ve(tt){var st=tt&&tt.constructor;return tt===(typeof st=="function"&&st.prototype||c)}function Se(tt){if(tt!=null){try{return W.call(tt)}catch{}try{return tt+""}catch{}}return""}function tr(tt,st){return tt===st||tt!=tt&&st!=st}(Rn&&Oe(new Rn(new ArrayBuffer(1)))!=k||He&&Oe(new He)!=E||Qe&&Oe(Qe.resolve())!=o||ae&&Oe(new ae)!=p||Qt&&Oe(new Qt)!=C)&&(Oe=function(tt){var st=Q.call(tt),dt=st==d?tt.constructor:void 0,mt=dt?Se(dt):void 0;if(mt)switch(mt){case dn:return k;case _e:return E;case pn:return o;case tn:return p;case Xn:return C}return st});var rt=Array.isArray;function at(tt){return tt!=null&&function(st){return typeof st=="number"&&st>-1&&st%1==0&&st<=b}(tt.length)&&!bt(tt)}var ht=me||function(){return!1};function bt(tt){var st=Nt(tt)?Q.call(tt):"";return st==f||st==v}function Nt(tt){var st=typeof tt;return!!tt&&(st=="object"||st=="function")}function kt(tt){return at(tt)?function(st,dt){var mt=rt(st)||function(Ct){return function(Ht){return function(jt){return!!jt&&typeof jt=="object"}(Ht)&&at(Ht)}(Ct)&&G.call(Ct,"callee")&&(!Xt.call(Ct,"callee")||Q.call(Ct)==r)}(st)?function(Ct,Ht){for(var jt=-1,ke=Array(Ct);++jt<Ct;)ke[jt]=Ht(jt);return ke}(st.length,String):[],St=mt.length,Dt=!!St;for(var It in st)!dt&&!G.call(st,It)||Dt&&(It=="length"||Qn(It,St))||mt.push(It);return mt}(tt):function(st){if(!Ve(st))return be(st);var dt=[];for(var mt in Object(st))G.call(st,mt)&&mt!="constructor"&&dt.push(mt);return dt}(tt)}w.exports=function(tt){return ue(tt,!0,!0)}},307:(w,y,h)=>{w=h.nmd(w);var _="__lodash_hash_undefined__",b=9007199254740991,r="[object Arguments]",n="[object Array]",a="[object Boolean]",f="[object Date]",v="[object Error]",E="[object Function]",g="[object Map]",d="[object Number]",o="[object Object]",s="[object Promise]",p="[object RegExp]",S="[object Set]",O="[object String]",C="[object WeakMap]",L="[object ArrayBuffer]",k="[object DataView]",A=/^\[object .+?Constructor\]$/,x=/^(?:0|[1-9]\d*)$/,N={};N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N[r]=N[n]=N[L]=N[a]=N[k]=N[f]=N[v]=N[E]=N[g]=N[d]=N[o]=N[p]=N[S]=N[O]=N[C]=!1;var I=typeof h.g=="object"&&h.g&&h.g.Object===Object&&h.g,P=typeof self=="object"&&self&&self.Object===Object&&self,U=I||P||Function("return this")(),$=y&&!y.nodeType&&y,et=$&&w&&!w.nodeType&&w,K=et&&et.exports===$,V=K&&I.process,q=function(){try{return V&&V.binding&&V.binding("util")}catch{}}(),H=q&&q.isTypedArray;function F(rt,at){for(var ht=-1,bt=rt==null?0:rt.length;++ht<bt;)if(at(rt[ht],ht,rt))return!0;return!1}function Z(rt){var at=-1,ht=Array(rt.size);return rt.forEach(function(bt,Nt){ht[++at]=[Nt,bt]}),ht}function j(rt){var at=-1,ht=Array(rt.size);return rt.forEach(function(bt){ht[++at]=bt}),ht}var D,B,z,Y=Array.prototype,nt=Function.prototype,ot=Object.prototype,ft=U["__core-js_shared__"],ct=nt.toString,gt=ot.hasOwnProperty,X=(D=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",it=ot.toString,lt=RegExp("^"+ct.call(gt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=K?U.Buffer:void 0,M=U.Symbol,c=U.Uint8Array,T=ot.propertyIsEnumerable,R=Y.splice,W=M?M.toStringTag:void 0,G=Object.getOwnPropertySymbols,Q=J?J.isBuffer:void 0,ut=(B=Object.keys,z=Object,function(rt){return B(z(rt))}),vt=ee(U,"DataView"),yt=ee(U,"Map"),_t=ee(U,"Promise"),pt=ee(U,"Set"),Lt=ee(U,"WeakMap"),Xt=ee(Object,"create"),ye=ue(vt),ve=ue(yt),me=ue(_t),be=ue(pt),Rn=ue(Lt),He=M?M.prototype:void 0,Qe=He?He.valueOf:void 0;function ae(rt){var at=-1,ht=rt==null?0:rt.length;for(this.clear();++at<ht;){var bt=rt[at];this.set(bt[0],bt[1])}}function Qt(rt){var at=-1,ht=rt==null?0:rt.length;for(this.clear();++at<ht;){var bt=rt[at];this.set(bt[0],bt[1])}}function te(rt){var at=-1,ht=rt==null?0:rt.length;for(this.clear();++at<ht;){var bt=rt[at];this.set(bt[0],bt[1])}}function dn(rt){var at=-1,ht=rt==null?0:rt.length;for(this.__data__=new te;++at<ht;)this.add(rt[at])}function _e(rt){var at=this.__data__=new Qt(rt);this.size=at.size}function pn(rt,at){for(var ht=rt.length;ht--;)if(yn(rt[ht][0],at))return ht;return-1}function tn(rt){return rt==null?rt===void 0?"[object Undefined]":"[object Null]":W&&W in Object(rt)?function(at){var ht=gt.call(at,W),bt=at[W];try{at[W]=void 0;var Nt=!0}catch{}var kt=it.call(at);return Nt&&(ht?at[W]=bt:delete at[W]),kt}(rt):function(at){return it.call(at)}(rt)}function Xn(rt){return Ve(rt)&&tn(rt)==r}function Nn(rt,at,ht,bt,Nt){return rt===at||(rt==null||at==null||!Ve(rt)&&!Ve(at)?rt!=rt&&at!=at:function(kt,tt,st,dt,mt,St){var Dt=Me(kt),It=Me(tt),Ct=Dt?n:le(kt),Ht=It?n:le(tt),jt=(Ct=Ct==r?o:Ct)==o,ke=(Ht=Ht==r?o:Ht)==o,Ie=Ct==Ht;if(Ie&&Ee(kt)){if(!Ee(tt))return!1;Dt=!0,jt=!1}if(Ie&&!jt)return St||(St=new _e),Dt||Se(kt)?Ln(kt,tt,st,dt,mt,St):function(Tt,Rt,ce,xt,Kt,Bt,fe){switch(ce){case k:if(Tt.byteLength!=Rt.byteLength||Tt.byteOffset!=Rt.byteOffset)return!1;Tt=Tt.buffer,Rt=Rt.buffer;case L:return!(Tt.byteLength!=Rt.byteLength||!Bt(new c(Tt),new c(Rt)));case a:case f:case d:return yn(+Tt,+Rt);case v:return Tt.name==Rt.name&&Tt.message==Rt.message;case p:case O:return Tt==Rt+"";case g:var Ke=Z;case S:var Mn=1&xt;if(Ke||(Ke=j),Tt.size!=Rt.size&&!Mn)return!1;var en=fe.get(Tt);if(en)return en==Rt;xt|=2,fe.set(Tt,Rt);var Pe=Ln(Ke(Tt),Ke(Rt),xt,Kt,Bt,fe);return fe.delete(Tt),Pe;case"[object Symbol]":if(Qe)return Qe.call(Tt)==Qe.call(Rt)}return!1}(kt,tt,Ct,st,dt,mt,St);if(!(1&st)){var We=jt&&gt.call(kt,"__wrapped__"),Et=ke&&gt.call(tt,"__wrapped__");if(We||Et){var Mt=We?kt.value():kt,zt=Et?tt.value():tt;return St||(St=new _e),mt(Mt,zt,st,dt,St)}}return!!Ie&&(St||(St=new _e),function(Tt,Rt,ce,xt,Kt,Bt){var fe=1&ce,Ke=we(Tt),Mn=Ke.length;if(Mn!=we(Rt).length&&!fe)return!1;for(var en=Mn;en--;){var Pe=Ke[en];if(!(fe?Pe in Rt:gt.call(Rt,Pe)))return!1}var Pi=Bt.get(Tt);if(Pi&&Bt.get(Rt))return Pi==Rt;var er=!0;Bt.set(Tt,Rt),Bt.set(Rt,Tt);for(var qr=fe;++en<Mn;){var nr=Tt[Pe=Ke[en]],rr=Rt[Pe];if(xt)var ji=fe?xt(rr,nr,Pe,Rt,Tt,Bt):xt(nr,rr,Pe,Tt,Rt,Bt);if(!(ji===void 0?nr===rr||Kt(nr,rr,ce,xt,Bt):ji)){er=!1;break}qr||(qr=Pe=="constructor")}if(er&&!qr){var ir=Tt.constructor,or=Rt.constructor;ir==or||!("constructor"in Tt)||!("constructor"in Rt)||typeof ir=="function"&&ir instanceof ir&&typeof or=="function"&&or instanceof or||(er=!1)}return Bt.delete(Tt),Bt.delete(Rt),er}(kt,tt,st,dt,mt,St))}(rt,at,ht,bt,Nn,Nt))}function Ln(rt,at,ht,bt,Nt,kt){var tt=1&ht,st=rt.length,dt=at.length;if(st!=dt&&!(tt&&dt>st))return!1;var mt=kt.get(rt);if(mt&&kt.get(at))return mt==at;var St=-1,Dt=!0,It=2&ht?new dn:void 0;for(kt.set(rt,at),kt.set(at,rt);++St<st;){var Ct=rt[St],Ht=at[St];if(bt)var jt=tt?bt(Ht,Ct,St,at,rt,kt):bt(Ct,Ht,St,rt,at,kt);if(jt!==void 0){if(jt)continue;Dt=!1;break}if(It){if(!F(at,function(ke,Ie){if(We=Ie,!It.has(We)&&(Ct===ke||Nt(Ct,ke,ht,bt,kt)))return It.push(Ie);var We})){Dt=!1;break}}else if(Ct!==Ht&&!Nt(Ct,Ht,ht,bt,kt)){Dt=!1;break}}return kt.delete(rt),kt.delete(at),Dt}function we(rt){return function(at,ht,bt){var Nt=ht(at);return Me(at)?Nt:function(kt,tt){for(var st=-1,dt=tt.length,mt=kt.length;++st<dt;)kt[mt+st]=tt[st];return kt}(Nt,bt(at))}(rt,tr,ze)}function Jt(rt,at){var ht,bt,Nt=rt.__data__;return((bt=typeof(ht=at))=="string"||bt=="number"||bt=="symbol"||bt=="boolean"?ht!=="__proto__":ht===null)?Nt[typeof at=="string"?"string":"hash"]:Nt.map}function ee(rt,at){var ht=function(bt,Nt){return bt==null?void 0:bt[Nt]}(rt,at);return function(bt){return!(!Qn(bt)||function(Nt){return!!X&&X in Nt}(bt))&&(Dn(bt)?lt:A).test(ue(bt))}(ht)?ht:void 0}ae.prototype.clear=function(){this.__data__=Xt?Xt(null):{},this.size=0},ae.prototype.delete=function(rt){var at=this.has(rt)&&delete this.__data__[rt];return this.size-=at?1:0,at},ae.prototype.get=function(rt){var at=this.__data__;if(Xt){var ht=at[rt];return ht===_?void 0:ht}return gt.call(at,rt)?at[rt]:void 0},ae.prototype.has=function(rt){var at=this.__data__;return Xt?at[rt]!==void 0:gt.call(at,rt)},ae.prototype.set=function(rt,at){var ht=this.__data__;return this.size+=this.has(rt)?0:1,ht[rt]=Xt&&at===void 0?_:at,this},Qt.prototype.clear=function(){this.__data__=[],this.size=0},Qt.prototype.delete=function(rt){var at=this.__data__,ht=pn(at,rt);return!(ht<0||(ht==at.length-1?at.pop():R.call(at,ht,1),--this.size,0))},Qt.prototype.get=function(rt){var at=this.__data__,ht=pn(at,rt);return ht<0?void 0:at[ht][1]},Qt.prototype.has=function(rt){return pn(this.__data__,rt)>-1},Qt.prototype.set=function(rt,at){var ht=this.__data__,bt=pn(ht,rt);return bt<0?(++this.size,ht.push([rt,at])):ht[bt][1]=at,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new ae,map:new(yt||Qt),string:new ae}},te.prototype.delete=function(rt){var at=Jt(this,rt).delete(rt);return this.size-=at?1:0,at},te.prototype.get=function(rt){return Jt(this,rt).get(rt)},te.prototype.has=function(rt){return Jt(this,rt).has(rt)},te.prototype.set=function(rt,at){var ht=Jt(this,rt),bt=ht.size;return ht.set(rt,at),this.size+=ht.size==bt?0:1,this},dn.prototype.add=dn.prototype.push=function(rt){return this.__data__.set(rt,_),this},dn.prototype.has=function(rt){return this.__data__.has(rt)},_e.prototype.clear=function(){this.__data__=new Qt,this.size=0},_e.prototype.delete=function(rt){var at=this.__data__,ht=at.delete(rt);return this.size=at.size,ht},_e.prototype.get=function(rt){return this.__data__.get(rt)},_e.prototype.has=function(rt){return this.__data__.has(rt)},_e.prototype.set=function(rt,at){var ht=this.__data__;if(ht instanceof Qt){var bt=ht.__data__;if(!yt||bt.length<199)return bt.push([rt,at]),this.size=++ht.size,this;ht=this.__data__=new te(bt)}return ht.set(rt,at),this.size=ht.size,this};var ze=G?function(rt){return rt==null?[]:(rt=Object(rt),function(at,ht){for(var bt=-1,Nt=at==null?0:at.length,kt=0,tt=[];++bt<Nt;){var st=at[bt];dt=st,T.call(rt,dt)&&(tt[kt++]=st)}var dt;return tt}(G(rt)))}:function(){return[]},le=tn;function gn(rt,at){return!!(at=at??b)&&(typeof rt=="number"||x.test(rt))&&rt>-1&&rt%1==0&&rt<at}function ue(rt){if(rt!=null){try{return ct.call(rt)}catch{}try{return rt+""}catch{}}return""}function yn(rt,at){return rt===at||rt!=rt&&at!=at}(vt&&le(new vt(new ArrayBuffer(1)))!=k||yt&&le(new yt)!=g||_t&&le(_t.resolve())!=s||pt&&le(new pt)!=S||Lt&&le(new Lt)!=C)&&(le=function(rt){var at=tn(rt),ht=at==o?rt.constructor:void 0,bt=ht?ue(ht):"";if(bt)switch(bt){case ye:return k;case ve:return g;case me:return s;case be:return S;case Rn:return C}return at});var Jn=Xn(function(){return arguments}())?Xn:function(rt){return Ve(rt)&&gt.call(rt,"callee")&&!T.call(rt,"callee")},Me=Array.isArray,Ee=Q||function(){return!1};function Dn(rt){if(!Qn(rt))return!1;var at=tn(rt);return at==E||at=="[object GeneratorFunction]"||at=="[object AsyncFunction]"||at=="[object Proxy]"}function Oe(rt){return typeof rt=="number"&&rt>-1&&rt%1==0&&rt<=b}function Qn(rt){var at=typeof rt;return rt!=null&&(at=="object"||at=="function")}function Ve(rt){return rt!=null&&typeof rt=="object"}var Se=H?function(rt){return function(at){return rt(at)}}(H):function(rt){return Ve(rt)&&Oe(rt.length)&&!!N[tn(rt)]};function tr(rt){return(at=rt)!=null&&Oe(at.length)&&!Dn(at)?function(ht,bt){var Nt=Me(ht),kt=!Nt&&Jn(ht),tt=!Nt&&!kt&&Ee(ht),st=!Nt&&!kt&&!tt&&Se(ht),dt=Nt||kt||tt||st,mt=dt?function(It,Ct){for(var Ht=-1,jt=Array(It);++Ht<It;)jt[Ht]=Ct(Ht);return jt}(ht.length,String):[],St=mt.length;for(var Dt in ht)!bt&&!gt.call(ht,Dt)||dt&&(Dt=="length"||tt&&(Dt=="offset"||Dt=="parent")||st&&(Dt=="buffer"||Dt=="byteLength"||Dt=="byteOffset")||gn(Dt,St))||mt.push(Dt);return mt}(rt):function(ht){if(Nt=(bt=ht)&&bt.constructor,bt!==(typeof Nt=="function"&&Nt.prototype||ot))return ut(ht);var bt,Nt,kt=[];for(var tt in Object(ht))gt.call(ht,tt)&&tt!="constructor"&&kt.push(tt);return kt}(rt);var at}w.exports=function(rt,at){return Nn(rt,at)}},210:function(w,y,h){var _=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(y,"__esModule",{value:!0});var b,r=_(h(465)),n=_(h(307));(function(a){a.compose=function(f,v,E){f===void 0&&(f={}),v===void 0&&(v={}),typeof f!="object"&&(f={}),typeof v!="object"&&(v={});var g=r.default(v);for(var d in E||(g=Object.keys(g).reduce(function(o,s){return g[s]!=null&&(o[s]=g[s]),o},{})),f)f[d]!==void 0&&v[d]===void 0&&(g[d]=f[d]);return Object.keys(g).length>0?g:void 0},a.diff=function(f,v){f===void 0&&(f={}),v===void 0&&(v={}),typeof f!="object"&&(f={}),typeof v!="object"&&(v={});var E=Object.keys(f).concat(Object.keys(v)).reduce(function(g,d){return n.default(f[d],v[d])||(g[d]=v[d]===void 0?null:v[d]),g},{});return Object.keys(E).length>0?E:void 0},a.invert=function(f,v){f===void 0&&(f={}),v===void 0&&(v={}),f=f||{};var E=Object.keys(v).reduce(function(g,d){return v[d]!==f[d]&&f[d]!==void 0&&(g[d]=v[d]),g},{});return Object.keys(f).reduce(function(g,d){return f[d]!==v[d]&&v[d]===void 0&&(g[d]=null),g},E)},a.transform=function(f,v,E){if(E===void 0&&(E=!1),typeof f!="object")return v;if(typeof v=="object"){if(!E)return v;var g=Object.keys(v).reduce(function(d,o){return f[o]===void 0&&(d[o]=v[o]),d},{});return Object.keys(g).length>0?g:void 0}}})(b||(b={})),y.default=b},895:function(w,y,h){var _=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}},b=_(h(529)),r=_(h(465)),n=_(h(307)),a=_(h(210)),f=_(h(430)),v=String.fromCharCode(0),E=function(){function g(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]}return g.prototype.insert=function(d,o){var s={};return typeof d=="string"&&d.length===0?this:(s.insert=d,o!=null&&typeof o=="object"&&Object.keys(o).length>0&&(s.attributes=o),this.push(s))},g.prototype.delete=function(d){return d<=0?this:this.push({delete:d})},g.prototype.retain=function(d,o){if(d<=0)return this;var s={retain:d};return o!=null&&typeof o=="object"&&Object.keys(o).length>0&&(s.attributes=o),this.push(s)},g.prototype.push=function(d){var o=this.ops.length,s=this.ops[o-1];if(d=r.default(d),typeof s=="object"){if(typeof d.delete=="number"&&typeof s.delete=="number")return this.ops[o-1]={delete:s.delete+d.delete},this;if(typeof s.delete=="number"&&d.insert!=null&&(o-=1,typeof(s=this.ops[o-1])!="object"))return this.ops.unshift(d),this;if(n.default(d.attributes,s.attributes)){if(typeof d.insert=="string"&&typeof s.insert=="string")return this.ops[o-1]={insert:s.insert+d.insert},typeof d.attributes=="object"&&(this.ops[o-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof s.retain=="number")return this.ops[o-1]={retain:s.retain+d.retain},typeof d.attributes=="object"&&(this.ops[o-1].attributes=d.attributes),this}}return o===this.ops.length?this.ops.push(d):this.ops.splice(o,0,d),this},g.prototype.chop=function(){var d=this.ops[this.ops.length-1];return d&&d.retain&&!d.attributes&&this.ops.pop(),this},g.prototype.filter=function(d){return this.ops.filter(d)},g.prototype.forEach=function(d){this.ops.forEach(d)},g.prototype.map=function(d){return this.ops.map(d)},g.prototype.partition=function(d){var o=[],s=[];return this.forEach(function(p){(d(p)?o:s).push(p)}),[o,s]},g.prototype.reduce=function(d,o){return this.ops.reduce(d,o)},g.prototype.changeLength=function(){return this.reduce(function(d,o){return o.insert?d+f.default.length(o):o.delete?d-o.delete:d},0)},g.prototype.length=function(){return this.reduce(function(d,o){return d+f.default.length(o)},0)},g.prototype.slice=function(d,o){d===void 0&&(d=0),o===void 0&&(o=1/0);for(var s=[],p=f.default.iterator(this.ops),S=0;S<o&&p.hasNext();){var O=void 0;S<d?O=p.next(d-S):(O=p.next(o-S),s.push(O)),S+=f.default.length(O)}return new g(s)},g.prototype.compose=function(d){var o=f.default.iterator(this.ops),s=f.default.iterator(d.ops),p=[],S=s.peek();if(S!=null&&typeof S.retain=="number"&&S.attributes==null){for(var O=S.retain;o.peekType()==="insert"&&o.peekLength()<=O;)O-=o.peekLength(),p.push(o.next());S.retain-O>0&&s.next(S.retain-O)}for(var C=new g(p);o.hasNext()||s.hasNext();)if(s.peekType()==="insert")C.push(s.next());else if(o.peekType()==="delete")C.push(o.next());else{var L=Math.min(o.peekLength(),s.peekLength()),k=o.next(L),A=s.next(L);if(typeof A.retain=="number"){var x={};typeof k.retain=="number"?x.retain=L:x.insert=k.insert;var N=a.default.compose(k.attributes,A.attributes,typeof k.retain=="number");if(N&&(x.attributes=N),C.push(x),!s.hasNext()&&n.default(C.ops[C.ops.length-1],x)){var I=new g(o.rest());return C.concat(I).chop()}}else typeof A.delete=="number"&&typeof k.retain=="number"&&C.push(A)}return C.chop()},g.prototype.concat=function(d){var o=new g(this.ops.slice());return d.ops.length>0&&(o.push(d.ops[0]),o.ops=o.ops.concat(d.ops.slice(1))),o},g.prototype.diff=function(d,o){if(this.ops===d.ops)return new g;var s=[this,d].map(function(L){return L.map(function(k){if(k.insert!=null)return typeof k.insert=="string"?k.insert:v;throw new Error("diff() called "+(L===d?"on":"with")+" non-document")}).join("")}),p=new g,S=b.default(s[0],s[1],o),O=f.default.iterator(this.ops),C=f.default.iterator(d.ops);return S.forEach(function(L){for(var k=L[1].length;k>0;){var A=0;switch(L[0]){case b.default.INSERT:A=Math.min(C.peekLength(),k),p.push(C.next(A));break;case b.default.DELETE:A=Math.min(k,O.peekLength()),O.next(A),p.delete(A);break;case b.default.EQUAL:A=Math.min(O.peekLength(),C.peekLength(),k);var x=O.next(A),N=C.next(A);n.default(x.insert,N.insert)?p.retain(A,a.default.diff(x.attributes,N.attributes)):p.push(N).delete(A)}k-=A}}),p.chop()},g.prototype.eachLine=function(d,o){o===void 0&&(o=`
`);for(var s=f.default.iterator(this.ops),p=new g,S=0;s.hasNext();){if(s.peekType()!=="insert")return;var O=s.peek(),C=f.default.length(O)-s.peekLength(),L=typeof O.insert=="string"?O.insert.indexOf(o,C)-C:-1;if(L<0)p.push(s.next());else if(L>0)p.push(s.next(L));else{if(d(p,s.next(1).attributes||{},S)===!1)return;S+=1,p=new g}}p.length()>0&&d(p,{},S)},g.prototype.invert=function(d){var o=new g;return this.reduce(function(s,p){if(p.insert)o.delete(f.default.length(p));else{if(p.retain&&p.attributes==null)return o.retain(p.retain),s+p.retain;if(p.delete||p.retain&&p.attributes){var S=p.delete||p.retain;return d.slice(s,s+S).forEach(function(O){p.delete?o.push(O):p.retain&&p.attributes&&o.retain(f.default.length(O),a.default.invert(p.attributes,O.attributes))}),s+S}}return s},0),o.chop()},g.prototype.transform=function(d,o){if(o===void 0&&(o=!1),o=!!o,typeof d=="number")return this.transformPosition(d,o);for(var s=d,p=f.default.iterator(this.ops),S=f.default.iterator(s.ops),O=new g;p.hasNext()||S.hasNext();)if(p.peekType()!=="insert"||!o&&S.peekType()==="insert")if(S.peekType()==="insert")O.push(S.next());else{var C=Math.min(p.peekLength(),S.peekLength()),L=p.next(C),k=S.next(C);if(L.delete)continue;k.delete?O.push(k):O.retain(C,a.default.transform(L.attributes,k.attributes,o))}else O.retain(f.default.length(p.next()));return O.chop()},g.prototype.transformPosition=function(d,o){o===void 0&&(o=!1),o=!!o;for(var s=f.default.iterator(this.ops),p=0;s.hasNext()&&p<=d;){var S=s.peekLength(),O=s.peekType();s.next(),O!=="delete"?(O==="insert"&&(p<d||!o)&&(d+=S),p+=S):d-=Math.min(S,d-p)}return d},g.Op=f.default,g.AttributeMap=a.default,g}();w.exports=E},977:function(w,y,h){var _=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(y,"__esModule",{value:!0});var b=_(h(430)),r=function(){function n(a){this.ops=a,this.index=0,this.offset=0}return n.prototype.hasNext=function(){return this.peekLength()<1/0},n.prototype.next=function(a){a||(a=1/0);var f=this.ops[this.index];if(f){var v=this.offset,E=b.default.length(f);if(a>=E-v?(a=E-v,this.index+=1,this.offset=0):this.offset+=a,typeof f.delete=="number")return{delete:a};var g={};return f.attributes&&(g.attributes=f.attributes),typeof f.retain=="number"?g.retain=a:typeof f.insert=="string"?g.insert=f.insert.substr(v,a):g.insert=f.insert,g}return{retain:1/0}},n.prototype.peek=function(){return this.ops[this.index]},n.prototype.peekLength=function(){return this.ops[this.index]?b.default.length(this.ops[this.index])-this.offset:1/0},n.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},n.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var a=this.offset,f=this.index,v=this.next(),E=this.ops.slice(this.index);return this.offset=a,this.index=f,[v].concat(E)}return[]},n}();y.default=r},430:function(w,y,h){var _=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(y,"__esModule",{value:!0});var b,r=_(h(977));(function(n){n.iterator=function(a){return new r.default(a)},n.length=function(a){return typeof a.delete=="number"?a.delete:typeof a.retain=="number"?a.retain:typeof a.insert=="string"?a.insert.length:1}})(b||(b={})),y.default=b},165:function(w,y,h){var _,b;(b=typeof(_=function(){var r,n={};function a(E,g,d){var o=E.getClientRects();if(o.length===2){var s=E.getBoundingClientRect();return o[g][d]<s[d]}return!1}function f(E){if(!E||screen.deviceXDPI===screen.logicalXDPI)return E;if("length"in E)return Array.prototype.map.call(E,f);var g=screen.deviceXDPI/screen.logicalXDPI;return{top:E.top/g,bottom:E.bottom/g,left:E.left/g,right:E.right/g,width:E.width/g,height:E.height/g}}function v(E,g){var d,o=0,s=1024;if(s>=g.length)return Array.prototype.push.apply(E,g);for(;o<g.length;)d=Array.prototype.push.apply(E,Array.prototype.slice.call(g,o,o+s)),o+=s;return d}return n.isBroken=function(){if(r===void 0){var E=document.createElement("p"),g=document.createElement("span"),d=document.createTextNode("aa"),o=document.createTextNode("aa"),s=document.createElement("img");s.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=");var p=document.createRange();if(r={},E.appendChild(d),E.appendChild(g),g.appendChild(s),g.appendChild(o),document.body.appendChild(E),p.setStart(d,1),p.setEnd(g,0),r.getClientRects=r.getBoundingClientRect=p.getClientRects().length>1,r.getClientRects||(p.setEnd(o,1),r.getClientRects=r.getBoundingClientRect=p.getClientRects().length===2),!r.getBoundingClientRect){p.setEnd(p.startContainer,p.startOffset);var S=p.getBoundingClientRect();r.getBoundingClientRect=S.top===0&&S.left===0}if(document.body.removeChild(E),!r.getBoundingClientRect){var O=document.createElement("p");O.style.width="0px",O.style.fontSize="20px",O.style.whiteSpace="normal",O.style.wordBreak="normal";var C=document.createTextNode("m mm");O.appendChild(C),document.body.appendChild(O),p.setStart(C,1),p.setEnd(C,2),a(p,1,"left")?r.getBoundingClientRect=!0:(p.setStart(C,1),p.setEnd(C,3),a(p,0,"top")&&(r.getBoundingClientRect=!0)),document.body.removeChild(O)}var L=window.ActiveXObject&&new Function("/*@cc_on return @_jscript_version; @*/")();r.ieZoom=!!L&&L<=10}return r},n.getClientRects=function(E){var g=this.isBroken();if(g.ieZoom)return f(E.getClientRects());if(!g.getClientRects)return E.getClientRects();var d=[],o=[],s=E.endContainer,p=E.endOffset,S=document.createRange();function O(C){for(var L=0;C=C.previousSibling;)L++;return L}for(;s!==E.commonAncestorContainer;)S.setStart(s,0),S.setEnd(s,p),v(o,S.getClientRects()),p=O(s),s=s.parentNode;return(S=E.cloneRange()).setEnd(s,p),v(d,S.getClientRects()),v(d,o),d},n.getBoundingClientRect=function(E){var g=this.getClientRects(E);if(g.length===0)return null;var d,o=E.getBoundingClientRect(),s=this.isBroken();if(s.ieZoom)return f(o);if(!s.getBoundingClientRect)return o;if(o.width===0&&o.height===0)return g[0];for(var p=0,S=g.length;p<S;p++){var O=g[p];d?(d.left=Math.min(d.left,O.left),d.top=Math.min(d.top,O.top),d.right=Math.max(d.right,O.right),d.bottom=Math.max(d.bottom,O.bottom)):d={left:O.left,top:O.top,right:O.right,bottom:O.bottom}}return d&&(d.width=d.right-d.left,d.height=d.bottom-d.top),d},n})=="function"?_.call(y,h,y,w):_)===void 0||(w.exports=b)},33:(w,y,h)=>{h.r(y),h.d(y,{default:()=>N});var _=function(){if(typeof Map<"u")return Map;function I(P,U){var $=-1;return P.some(function(et,K){return et[0]===U&&($=K,!0)}),$}return function(){function P(){this.__entries__=[]}return Object.defineProperty(P.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),P.prototype.get=function(U){var $=I(this.__entries__,U),et=this.__entries__[$];return et&&et[1]},P.prototype.set=function(U,$){var et=I(this.__entries__,U);~et?this.__entries__[et][1]=$:this.__entries__.push([U,$])},P.prototype.delete=function(U){var $=this.__entries__,et=I($,U);~et&&$.splice(et,1)},P.prototype.has=function(U){return!!~I(this.__entries__,U)},P.prototype.clear=function(){this.__entries__.splice(0)},P.prototype.forEach=function(U,$){$===void 0&&($=null);for(var et=0,K=this.__entries__;et<K.length;et++){var V=K[et];U.call($,V[1],V[0])}},P}()}(),b=typeof window<"u"&&typeof document<"u"&&window.document===document,r=h.g!==void 0&&h.g.Math===Math?h.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),n=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(r):function(I){return setTimeout(function(){return I(Date.now())},1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],f=typeof MutationObserver<"u",v=function(){function I(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(P,U){var $=!1,et=!1,K=0;function V(){$&&($=!1,P()),et&&H()}function q(){n(V)}function H(){var F=Date.now();if($){if(F-K<2)return;et=!0}else $=!0,et=!1,setTimeout(q,20);K=F}return H}(this.refresh.bind(this))}return I.prototype.addObserver=function(P){~this.observers_.indexOf(P)||this.observers_.push(P),this.connected_||this.connect_()},I.prototype.removeObserver=function(P){var U=this.observers_,$=U.indexOf(P);~$&&U.splice($,1),!U.length&&this.connected_&&this.disconnect_()},I.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},I.prototype.updateObservers_=function(){var P=this.observers_.filter(function(U){return U.gatherActive(),U.hasActive()});return P.forEach(function(U){return U.broadcastActive()}),P.length>0},I.prototype.connect_=function(){b&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),f?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},I.prototype.disconnect_=function(){b&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},I.prototype.onTransitionEnd_=function(P){var U=P.propertyName,$=U===void 0?"":U;a.some(function(et){return!!~$.indexOf(et)})&&this.refresh()},I.getInstance=function(){return this.instance_||(this.instance_=new I),this.instance_},I.instance_=null,I}(),E=function(I,P){for(var U=0,$=Object.keys(P);U<$.length;U++){var et=$[U];Object.defineProperty(I,et,{value:P[et],enumerable:!1,writable:!1,configurable:!0})}return I},g=function(I){return I&&I.ownerDocument&&I.ownerDocument.defaultView||r},d=O(0,0,0,0);function o(I){return parseFloat(I)||0}function s(I){for(var P=[],U=1;U<arguments.length;U++)P[U-1]=arguments[U];return P.reduce(function($,et){return $+o(I["border-"+et+"-width"])},0)}var p=typeof SVGGraphicsElement<"u"?function(I){return I instanceof g(I).SVGGraphicsElement}:function(I){return I instanceof g(I).SVGElement&&typeof I.getBBox=="function"};function S(I){return b?p(I)?function(P){var U=P.getBBox();return O(0,0,U.width,U.height)}(I):function(P){var U=P.clientWidth,$=P.clientHeight;if(!U&&!$)return d;var et=g(P).getComputedStyle(P),K=function(D){for(var B={},z=0,Y=["top","right","bottom","left"];z<Y.length;z++){var nt=Y[z],ot=D["padding-"+nt];B[nt]=o(ot)}return B}(et),V=K.left+K.right,q=K.top+K.bottom,H=o(et.width),F=o(et.height);if(et.boxSizing==="border-box"&&(Math.round(H+V)!==U&&(H-=s(et,"left","right")+V),Math.round(F+q)!==$&&(F-=s(et,"top","bottom")+q)),!function(D){return D===g(D).document.documentElement}(P)){var Z=Math.round(H+V)-U,j=Math.round(F+q)-$;Math.abs(Z)!==1&&(H-=Z),Math.abs(j)!==1&&(F-=j)}return O(K.left,K.top,H,F)}(I):d}function O(I,P,U,$){return{x:I,y:P,width:U,height:$}}var C=function(){function I(P){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=O(0,0,0,0),this.target=P}return I.prototype.isActive=function(){var P=S(this.target);return this.contentRect_=P,P.width!==this.broadcastWidth||P.height!==this.broadcastHeight},I.prototype.broadcastRect=function(){var P=this.contentRect_;return this.broadcastWidth=P.width,this.broadcastHeight=P.height,P},I}(),L=function(I,P){var U,$,et,K,V,q,H,F=($=(U=P).x,et=U.y,K=U.width,V=U.height,q=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,H=Object.create(q.prototype),E(H,{x:$,y:et,width:K,height:V,top:et,right:$+K,bottom:V+et,left:$}),H);E(this,{target:I,contentRect:F})},k=function(){function I(P,U,$){if(this.activeObservations_=[],this.observations_=new _,typeof P!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=P,this.controller_=U,this.callbackCtx_=$}return I.prototype.observe=function(P){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(P instanceof g(P).Element))throw new TypeError('parameter 1 is not of type "Element".');var U=this.observations_;U.has(P)||(U.set(P,new C(P)),this.controller_.addObserver(this),this.controller_.refresh())}},I.prototype.unobserve=function(P){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(P instanceof g(P).Element))throw new TypeError('parameter 1 is not of type "Element".');var U=this.observations_;U.has(P)&&(U.delete(P),U.size||this.controller_.removeObserver(this))}},I.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},I.prototype.gatherActive=function(){var P=this;this.clearActive(),this.observations_.forEach(function(U){U.isActive()&&P.activeObservations_.push(U)})},I.prototype.broadcastActive=function(){if(this.hasActive()){var P=this.callbackCtx_,U=this.activeObservations_.map(function($){return new L($.target,$.broadcastRect())});this.callback_.call(P,U,P),this.clearActive()}},I.prototype.clearActive=function(){this.activeObservations_.splice(0)},I.prototype.hasActive=function(){return this.activeObservations_.length>0},I}(),A=typeof WeakMap<"u"?new WeakMap:new _,x=function I(P){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var U=v.getInstance(),$=new k(P,U,this);A.set(this,$)};["observe","unobserve","disconnect"].forEach(function(I){x.prototype[I]=function(){var P;return(P=A.get(this))[I].apply(P,arguments)}});const N=r.ResizeObserver!==void 0?r.ResizeObserver:x},413:(w,y,h)=>{h.r(y),h.d(y,{default:()=>O});var _=h(379),b=h.n(_),r=h(795),n=h.n(r),a=h(569),f=h.n(a),v=h(565),E=h.n(v),g=h(216),d=h.n(g),o=h(589),s=h.n(o),p=h(582),S={};S.styleTagTransform=s(),S.setAttributes=E(),S.insert=f().bind(null,"head"),S.domAPI=n(),S.insertStyleElement=d(),b()(p.Z,S);const O=p.Z&&p.Z.locals?p.Z.locals:void 0},379:w=>{var y=[];function h(r){for(var n=-1,a=0;a<y.length;a++)if(y[a].identifier===r){n=a;break}return n}function _(r,n){for(var a={},f=[],v=0;v<r.length;v++){var E=r[v],g=n.base?E[0]+n.base:E[0],d=a[g]||0,o="".concat(g," ").concat(d);a[g]=d+1;var s=h(o),p={css:E[1],media:E[2],sourceMap:E[3],supports:E[4],layer:E[5]};if(s!==-1)y[s].references++,y[s].updater(p);else{var S=b(p,n);n.byIndex=v,y.splice(v,0,{identifier:o,updater:S,references:1})}f.push(o)}return f}function b(r,n){var a=n.domAPI(n);return a.update(r),function(f){if(f){if(f.css===r.css&&f.media===r.media&&f.sourceMap===r.sourceMap&&f.supports===r.supports&&f.layer===r.layer)return;a.update(r=f)}else a.remove()}}w.exports=function(r,n){var a=_(r=r||[],n=n||{});return function(f){f=f||[];for(var v=0;v<a.length;v++){var E=h(a[v]);y[E].references--}for(var g=_(f,n),d=0;d<a.length;d++){var o=h(a[d]);y[o].references===0&&(y[o].updater(),y.splice(o,1))}a=g}}},569:w=>{var y={};w.exports=function(h,_){var b=function(r){if(y[r]===void 0){var n=document.querySelector(r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch{n=null}y[r]=n}return y[r]}(h);if(!b)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");b.appendChild(_)}},216:w=>{w.exports=function(y){var h=document.createElement("style");return y.setAttributes(h,y.attributes),y.insert(h,y.options),h}},565:(w,y,h)=>{w.exports=function(_){var b=h.nc;b&&_.setAttribute("nonce",b)}},795:w=>{w.exports=function(y){var h=y.insertStyleElement(y);return{update:function(_){(function(b,r,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var f=n.layer!==void 0;f&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,f&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var v=n.sourceMap;v&&typeof btoa<"u"&&(a+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),r.styleTagTransform(a,b,r.options)})(h,y,_)},remove:function(){(function(_){if(_.parentNode===null)return!1;_.parentNode.removeChild(_)})(h)}}}},589:w=>{w.exports=function(y,h){if(h.styleSheet)h.styleSheet.cssText=y;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(y))}}},607:function(w,y,h){var _=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(y,"__esModule",{value:!0}),y.Cursor=y.default=void 0;var b=_(h(678));y.default=b.default;var r=_(h(353));y.Cursor=r.default,h(413)},353:(w,y,h)=>{Object.defineProperty(y,"__esModule",{value:!0});var _=h(207),b=function(){function r(n,a,f){this.id=n,this.name=a,this.color=f,this.toggleNearCursor=this.toggleNearCursor.bind(this),this._toggleOpenedCursor=this._toggleOpenedCursor.bind(this),this._setHoverState=this._setHoverState.bind(this)}return r.prototype.build=function(n){var a=document.createElement(r.CONTAINER_ELEMENT_TAG);a.classList.add(r.CURSOR_CLASS),a.id="ql-cursor-".concat(this.id),a.innerHTML=n.template;var f=a.getElementsByClassName(r.SELECTION_CLASS)[0],v=a.getElementsByClassName(r.CARET_CONTAINER_CLASS)[0],E=v.getElementsByClassName(r.CARET_CLASS)[0],g=a.getElementsByClassName(r.FLAG_CLASS)[0];return g.style.backgroundColor=this.color,E.style.backgroundColor=this.color,a.getElementsByClassName(r.NAME_CLASS)[0].textContent=this.name,this._hideDelay="".concat(n.hideDelayMs,"ms"),this._hideSpeedMs=n.hideSpeedMs,this._positionFlag=n.positionFlag,g.style.transitionDelay=this._hideDelay,g.style.transitionDuration="".concat(this._hideSpeedMs,"ms"),this._el=a,this._selectionEl=f,this._caretEl=v,this._flagEl=g,v.addEventListener("mouseover",this._setHoverState),this._el},r.prototype.show=function(){this._el.classList.remove(r.HIDDEN_CLASS)},r.prototype.hide=function(){this._el.classList.add(r.HIDDEN_CLASS)},r.prototype.remove=function(){this._el.parentNode.removeChild(this._el)},r.prototype.toggleNearCursor=function(n,a){var f=this._getCoordinates(),v=f.left,E=f.right,g=f.top,d=f.bottom,o=n>=v&&n<=E&&a>=g&&a<=d;return this._caretEl.classList.toggle(r.CONTAINER_HOVER_CLASS,o),o},r.prototype.toggleFlag=function(n){var a=this;this._caretEl.classList.toggle(r.CONTAINER_HOVER_CLASS,n)||(this._flagEl.classList.add(r.NO_DELAY_CLASS),setTimeout(function(){return a._flagEl.classList.remove(r.NO_DELAY_CLASS)},this._hideSpeedMs))},r.prototype.updateCaret=function(n,a){this._caretEl.style.top="".concat(n.top,"px"),this._caretEl.style.left="".concat(n.left,"px"),this._caretEl.style.height="".concat(n.height,"px"),this._positionFlag?this._positionFlag(this._flagEl,n,a):this._updateCaretFlag(n,a)},r.prototype.updateSelection=function(n,a){var f=this;this._clearSelection(),n=n||[],n=Array.from(n),n=this._sanitize(n),(n=this._sortByDomPosition(n)).forEach(function(v){return f._addSelection(v,a)})},r.prototype._setHoverState=function(){document.addEventListener("mousemove",this._toggleOpenedCursor)},r.prototype._toggleOpenedCursor=function(n){var a=this.toggleNearCursor(n.clientX,n.clientY);this._caretEl.classList.toggle(r.CONTAINER_NO_POINTER_CLASS,a),a||document.removeEventListener("mousemove",this._toggleOpenedCursor)},r.prototype._getCoordinates=function(){return this._caretEl.getBoundingClientRect()},r.prototype._updateCaretFlag=function(n,a){this._flagEl.style.width="";var f=this._flagEl.getBoundingClientRect();this._flagEl.classList.remove(r.FLAG_FLIPPED_CLASS),n.left>a.width-f.width&&this._flagEl.classList.add(r.FLAG_FLIPPED_CLASS),this._flagEl.style.left="".concat(n.left,"px"),this._flagEl.style.top="".concat(n.top,"px"),this._flagEl.style.width="".concat(Math.ceil(f.width),"px")},r.prototype._clearSelection=function(){this._selectionEl.innerHTML=""},r.prototype._addSelection=function(n,a){var f=this._selectionBlock(n,a);this._selectionEl.appendChild(f)},r.prototype._selectionBlock=function(n,a){var f=document.createElement(r.SELECTION_ELEMENT_TAG);return f.classList.add(r.SELECTION_BLOCK_CLASS),f.style.top="".concat(n.top-a.top,"px"),f.style.left="".concat(n.left-a.left,"px"),f.style.width="".concat(n.width,"px"),f.style.height="".concat(n.height,"px"),f.style.backgroundColor=_(this.color).setAlpha(.3).toString(),f},r.prototype._sortByDomPosition=function(n){return n.sort(function(a,f){return a.top===f.top?a.left-f.left:a.top-f.top})},r.prototype._sanitize=function(n){var a=this,f=new Set;return n.filter(function(v){if(!v.width||!v.height)return!1;var E=a._serialize(v);return!f.has(E)&&(f.add(E),!0)})},r.prototype._serialize=function(n){return["top:".concat(n.top),"right:".concat(n.right),"bottom:".concat(n.bottom),"left:".concat(n.left)].join(";")},r.CONTAINER_ELEMENT_TAG="SPAN",r.SELECTION_ELEMENT_TAG="SPAN",r.CURSOR_CLASS="ql-cursor",r.SELECTION_CLASS="ql-cursor-selections",r.SELECTION_BLOCK_CLASS="ql-cursor-selection-block",r.CARET_CLASS="ql-cursor-caret",r.CARET_CONTAINER_CLASS="ql-cursor-caret-container",r.CONTAINER_HOVER_CLASS="hover",r.CONTAINER_NO_POINTER_CLASS="no-pointer",r.FLAG_CLASS="ql-cursor-flag",r.FLAG_FLIPPED_CLASS="flag-flipped",r.NAME_CLASS="ql-cursor-name",r.HIDDEN_CLASS="hidden",r.NO_DELAY_CLASS="no-delay",r}();y.default=b},678:function(w,y,h){var _=this&&this.__createBinding||(Object.create?function(o,s,p,S){S===void 0&&(S=p);var O=Object.getOwnPropertyDescriptor(s,p);O&&!("get"in O?!s.__esModule:O.writable||O.configurable)||(O={enumerable:!0,get:function(){return s[p]}}),Object.defineProperty(o,S,O)}:function(o,s,p,S){S===void 0&&(S=p),o[S]=s[p]}),b=this&&this.__setModuleDefault||(Object.create?function(o,s){Object.defineProperty(o,"default",{enumerable:!0,value:s})}:function(o,s){o.default=s}),r=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var s={};if(o!=null)for(var p in o)p!=="default"&&Object.prototype.hasOwnProperty.call(o,p)&&_(s,o,p);return b(s,o),s},n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(y,"__esModule",{value:!0});var a=n(h(353)),f=r(h(165)),v=n(h(338)),E=n(h(33)),g=h(895),d=function(){function o(s,p){p===void 0&&(p={}),this._cursors={},this._isObserving=!1,this._handleCursorTouch=this._handleCursorTouch.bind(this),this.quill=s,this.options=this._setDefaults(p),this._container=this.quill.addContainer(this.options.containerClass),this._boundsContainer=this.options.boundsContainer||this.quill.container,this._currentSelection=this.quill.getSelection(),this._registerSelectionChangeListeners(),this._registerTextChangeListener(),this._registerDomListeners()}return o.prototype.createCursor=function(s,p,S){var O=this._cursors[s];if(!O){O=new a.default(s,p,S),this._cursors[s]=O;var C=O.build(this.options);this._container.appendChild(C)}return O},o.prototype.moveCursor=function(s,p){var S=this._cursors[s];S&&(S.range=p,this._updateCursor(S))},o.prototype.removeCursor=function(s){var p=this._cursors[s];p&&(p.remove(),delete this._cursors[s])},o.prototype.update=function(){var s=this;this.cursors().forEach(function(p){return s._updateCursor(p)})},o.prototype.clearCursors=function(){var s=this;this.cursors().forEach(function(p){return s.removeCursor(p.id)})},o.prototype.toggleFlag=function(s,p){var S=this._cursors[s];S&&S.toggleFlag(p)},o.prototype.cursors=function(){var s=this;return Object.keys(this._cursors).map(function(p){return s._cursors[p]})},o.prototype._registerSelectionChangeListeners=function(){var s=this;this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(p){s._currentSelection=p})},o.prototype._registerTextChangeListener=function(){var s=this;this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(p){return s._handleTextChange(p)})},o.prototype._registerDomListeners=function(){var s=this,p=this.quill.container.getElementsByClassName("ql-editor")[0];p.addEventListener("scroll",function(){return s.update()}),p.addEventListener("touchstart",this._handleCursorTouch)},o.prototype._handleCursorTouch=function(s){var p=this;this.cursors().forEach(function(S){S.toggleNearCursor(s.pageX,s.pageY),setTimeout(function(){return S.toggleFlag(!1)},p.options.hideDelayMs)})},o.prototype._registerResizeObserver=function(){var s=this;if(!this._isObserving){var p=this.quill.container.getElementsByClassName("ql-editor")[0],S=new E.default(function(O){if(!O[0].target.isConnected)return S.disconnect(),void(s._isObserving=!1);s.update()});S.observe(p),this._isObserving=!0}},o.prototype._updateCursor=function(s){if(this._registerResizeObserver(),!s.range)return s.hide();var p=this._indexWithinQuillBounds(s.range.index),S=this._indexWithinQuillBounds(s.range.index+s.range.length),O=this.quill.getLeaf(p),C=this.quill.getLeaf(S);if(!this._leafIsValid(O)||!this._leafIsValid(C))return s.hide();s.show();var L=this._boundsContainer.getBoundingClientRect(),k=this.quill.getBounds(S);s.updateCaret(k,L);var A=this._lineRanges(s,O,C).reduce(function(x,N){return x.concat(Array.from(f.getClientRects(N)))},[]);s.updateSelection(A,L)},o.prototype._indexWithinQuillBounds=function(s){var p=this.quill.getLength(),S=p?p-1:0;return s=Math.max(s,0),Math.min(s,S)},o.prototype._leafIsValid=function(s){return s&&s[0]&&s[0].domNode&&s[1]>=0},o.prototype._handleTextChange=function(s){var p=this;window.setTimeout(function(){p.options.transformOnTextChange&&p._transformCursors(s),p.options.selectionChangeSource&&(p._emitSelection(),p.update())})},o.prototype._emitSelection=function(){this.quill.emitter.emit(this.quill.constructor.events.SELECTION_CHANGE,this.quill.getSelection(),this._currentSelection,this.options.selectionChangeSource)},o.prototype._setDefaults=function(s){return(s=Object.assign({},s)).template||(s.template=o.DEFAULTS.template),s.containerClass||(s.containerClass=o.DEFAULTS.containerClass),s.selectionChangeSource!==null&&(s.selectionChangeSource||(s.selectionChangeSource=o.DEFAULTS.selectionChangeSource)),s.hideDelayMs=Number.isInteger(s.hideDelayMs)?s.hideDelayMs:o.DEFAULTS.hideDelayMs,s.hideSpeedMs=Number.isInteger(s.hideSpeedMs)?s.hideSpeedMs:o.DEFAULTS.hideSpeedMs,s.transformOnTextChange=!!s.transformOnTextChange,s},o.prototype._lineRanges=function(s,p,S){var O=this.quill.getLines(s.range);return O.reduce(function(C,L,k){if(!L.children){var A=document.createRange();return A.selectNode(L.domNode),C.concat(A)}var x=k===0?p:L.path(0).pop(),N=x[0],I=x[1],P=k===O.length-1?S:L.path(L.length()-1).pop(),U=P[0],$=P[1],et=document.createRange();return N.domNode.nodeType===Node.TEXT_NODE?et.setStart(N.domNode,I):et.setStartBefore(N.domNode),U.domNode.nodeType===Node.TEXT_NODE?et.setEnd(U.domNode,$):et.setEndAfter(U.domNode),C.concat(et)},[])},o.prototype._transformCursors=function(s){var p=this;s=new g(s),this.cursors().filter(function(S){return S.range}).forEach(function(S){S.range.index=s.transformPosition(S.range.index),p._updateCursor(S)})},o.DEFAULTS={template:v.default,containerClass:"ql-cursors",selectionChangeSource:"api",hideDelayMs:3e3,hideSpeedMs:400},o}();y.default=d},338:function(w,y,h){var _=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(y,"__esModule",{value:!0});var b=_(h(353)),r=`
  <span class="`.concat(b.default.SELECTION_CLASS,`"></span>
  <span class="`).concat(b.default.CARET_CONTAINER_CLASS,`">
    <span class="`).concat(b.default.CARET_CLASS,`"></span>
  </span>
  <div class="`).concat(b.default.FLAG_CLASS,`">
    <small class="`).concat(b.default.NAME_CLASS,`"></small>
  </div>
`);y.default=r},207:function(w){w.exports=function(){const y=/^\s+/,h=/\s+$/;function _(j,D){if(D=D||{},(j=j||"")instanceof _)return j;if(!(this instanceof _))return new _(j,D);var B=function(z){var Y={r:0,g:0,b:0},nt=1,ot=null,ft=null,ct=null,gt=!1,X=!1;return typeof z=="string"&&(z=function(M){M=M.replace(y,"").replace(h,"").toLowerCase();var c,T=!1;if(k[M])M=k[M],T=!0;else if(M=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(c=F.rgb.exec(M))?{r:c[1],g:c[2],b:c[3]}:(c=F.rgba.exec(M))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=F.hsl.exec(M))?{h:c[1],s:c[2],l:c[3]}:(c=F.hsla.exec(M))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=F.hsv.exec(M))?{h:c[1],s:c[2],v:c[3]}:(c=F.hsva.exec(M))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=F.hex8.exec(M))?{r:P(c[1]),g:P(c[2]),b:P(c[3]),a:K(c[4]),format:T?"name":"hex8"}:(c=F.hex6.exec(M))?{r:P(c[1]),g:P(c[2]),b:P(c[3]),format:T?"name":"hex"}:(c=F.hex4.exec(M))?{r:P(c[1]+""+c[1]),g:P(c[2]+""+c[2]),b:P(c[3]+""+c[3]),a:K(c[4]+""+c[4]),format:T?"name":"hex8"}:!!(c=F.hex3.exec(M))&&{r:P(c[1]+""+c[1]),g:P(c[2]+""+c[2]),b:P(c[3]+""+c[3]),format:T?"name":"hex"}}(z)),typeof z=="object"&&(Z(z.r)&&Z(z.g)&&Z(z.b)?(it=z.r,lt=z.g,J=z.b,Y={r:255*N(it,255),g:255*N(lt,255),b:255*N(J,255)},gt=!0,X=String(z.r).substr(-1)==="%"?"prgb":"rgb"):Z(z.h)&&Z(z.s)&&Z(z.v)?(ot=$(z.s),ft=$(z.v),Y=function(M,c,T){M=6*N(M,360),c=N(c,100),T=N(T,100);var R=Math.floor(M),W=M-R,G=T*(1-c),Q=T*(1-W*c),ut=T*(1-(1-W)*c),vt=R%6;return{r:255*[T,Q,G,G,ut,T][vt],g:255*[ut,T,T,Q,G,G][vt],b:255*[G,G,ut,T,T,Q][vt]}}(z.h,ot,ft),gt=!0,X="hsv"):Z(z.h)&&Z(z.s)&&Z(z.l)&&(ot=$(z.s),ct=$(z.l),Y=function(M,c,T){var R,W,G;function Q(yt,_t,pt){return pt<0&&(pt+=1),pt>1&&(pt-=1),pt<1/6?yt+6*(_t-yt)*pt:pt<.5?_t:pt<2/3?yt+(_t-yt)*(2/3-pt)*6:yt}if(M=N(M,360),c=N(c,100),T=N(T,100),c===0)R=W=G=T;else{var ut=T<.5?T*(1+c):T+c-T*c,vt=2*T-ut;R=Q(vt,ut,M+1/3),W=Q(vt,ut,M),G=Q(vt,ut,M-1/3)}return{r:255*R,g:255*W,b:255*G}}(z.h,ot,ct),gt=!0,X="hsl"),z.hasOwnProperty("a")&&(nt=z.a)),nt=x(nt),{ok:gt,format:z.format||X,r:Math.min(255,Math.max(Y.r,0)),g:Math.min(255,Math.max(Y.g,0)),b:Math.min(255,Math.max(Y.b,0)),a:nt};var it,lt,J}(j);this._originalInput=j,this._r=B.r,this._g=B.g,this._b=B.b,this._a=B.a,this._roundA=Math.round(100*this._a)/100,this._format=D.format||B.format,this._gradientType=D.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=B.ok}function b(j,D,B){j=N(j,255),D=N(D,255),B=N(B,255);var z,Y,nt=Math.max(j,D,B),ot=Math.min(j,D,B),ft=(nt+ot)/2;if(nt==ot)z=Y=0;else{var ct=nt-ot;switch(Y=ft>.5?ct/(2-nt-ot):ct/(nt+ot),nt){case j:z=(D-B)/ct+(D<B?6:0);break;case D:z=(B-j)/ct+2;break;case B:z=(j-D)/ct+4}z/=6}return{h:z,s:Y,l:ft}}function r(j,D,B){j=N(j,255),D=N(D,255),B=N(B,255);var z,Y,nt=Math.max(j,D,B),ot=Math.min(j,D,B),ft=nt,ct=nt-ot;if(Y=nt===0?0:ct/nt,nt==ot)z=0;else{switch(nt){case j:z=(D-B)/ct+(D<B?6:0);break;case D:z=(B-j)/ct+2;break;case B:z=(j-D)/ct+4}z/=6}return{h:z,s:Y,v:ft}}function n(j,D,B,z){var Y=[U(Math.round(j).toString(16)),U(Math.round(D).toString(16)),U(Math.round(B).toString(16))];return z&&Y[0].charAt(0)==Y[0].charAt(1)&&Y[1].charAt(0)==Y[1].charAt(1)&&Y[2].charAt(0)==Y[2].charAt(1)?Y[0].charAt(0)+Y[1].charAt(0)+Y[2].charAt(0):Y.join("")}function a(j,D,B,z){return[U(et(z)),U(Math.round(j).toString(16)),U(Math.round(D).toString(16)),U(Math.round(B).toString(16))].join("")}function f(j,D){D=D===0?0:D||10;var B=_(j).toHsl();return B.s-=D/100,B.s=I(B.s),_(B)}function v(j,D){D=D===0?0:D||10;var B=_(j).toHsl();return B.s+=D/100,B.s=I(B.s),_(B)}function E(j){return _(j).desaturate(100)}function g(j,D){D=D===0?0:D||10;var B=_(j).toHsl();return B.l+=D/100,B.l=I(B.l),_(B)}function d(j,D){D=D===0?0:D||10;var B=_(j).toRgb();return B.r=Math.max(0,Math.min(255,B.r-Math.round(-D/100*255))),B.g=Math.max(0,Math.min(255,B.g-Math.round(-D/100*255))),B.b=Math.max(0,Math.min(255,B.b-Math.round(-D/100*255))),_(B)}function o(j,D){D=D===0?0:D||10;var B=_(j).toHsl();return B.l-=D/100,B.l=I(B.l),_(B)}function s(j,D){var B=_(j).toHsl(),z=(B.h+D)%360;return B.h=z<0?360+z:z,_(B)}function p(j){var D=_(j).toHsl();return D.h=(D.h+180)%360,_(D)}function S(j,D){if(isNaN(D)||D<=0)throw new Error("Argument to polyad must be a positive number");for(var B=_(j).toHsl(),z=[_(j)],Y=360/D,nt=1;nt<D;nt++)z.push(_({h:(B.h+nt*Y)%360,s:B.s,l:B.l}));return z}function O(j){var D=_(j).toHsl(),B=D.h;return[_(j),_({h:(B+72)%360,s:D.s,l:D.l}),_({h:(B+216)%360,s:D.s,l:D.l})]}function C(j,D,B){D=D||6,B=B||30;var z=_(j).toHsl(),Y=360/B,nt=[_(j)];for(z.h=(z.h-(Y*D>>1)+720)%360;--D;)z.h=(z.h+Y)%360,nt.push(_(z));return nt}function L(j,D){D=D||6;for(var B=_(j).toHsv(),z=B.h,Y=B.s,nt=B.v,ot=[],ft=1/D;D--;)ot.push(_({h:z,s:Y,v:nt})),nt=(nt+ft)%1;return ot}_.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var j=this.toRgb();return(299*j.r+587*j.g+114*j.b)/1e3},getLuminance:function(){var j,D,B,z=this.toRgb();return j=z.r/255,D=z.g/255,B=z.b/255,.2126*(j<=.03928?j/12.92:Math.pow((j+.055)/1.055,2.4))+.7152*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))+.0722*(B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4))},setAlpha:function(j){return this._a=x(j),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var j=r(this._r,this._g,this._b);return{h:360*j.h,s:j.s,v:j.v,a:this._a}},toHsvString:function(){var j=r(this._r,this._g,this._b),D=Math.round(360*j.h),B=Math.round(100*j.s),z=Math.round(100*j.v);return this._a==1?"hsv("+D+", "+B+"%, "+z+"%)":"hsva("+D+", "+B+"%, "+z+"%, "+this._roundA+")"},toHsl:function(){var j=b(this._r,this._g,this._b);return{h:360*j.h,s:j.s,l:j.l,a:this._a}},toHslString:function(){var j=b(this._r,this._g,this._b),D=Math.round(360*j.h),B=Math.round(100*j.s),z=Math.round(100*j.l);return this._a==1?"hsl("+D+", "+B+"%, "+z+"%)":"hsla("+D+", "+B+"%, "+z+"%, "+this._roundA+")"},toHex:function(j){return n(this._r,this._g,this._b,j)},toHexString:function(j){return"#"+this.toHex(j)},toHex8:function(j){return function(D,B,z,Y,nt){var ot=[U(Math.round(D).toString(16)),U(Math.round(B).toString(16)),U(Math.round(z).toString(16)),U(et(Y))];return nt&&ot[0].charAt(0)==ot[0].charAt(1)&&ot[1].charAt(0)==ot[1].charAt(1)&&ot[2].charAt(0)==ot[2].charAt(1)&&ot[3].charAt(0)==ot[3].charAt(1)?ot[0].charAt(0)+ot[1].charAt(0)+ot[2].charAt(0)+ot[3].charAt(0):ot.join("")}(this._r,this._g,this._b,this._a,j)},toHex8String:function(j){return"#"+this.toHex8(j)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*N(this._r,255))+"%",g:Math.round(100*N(this._g,255))+"%",b:Math.round(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*N(this._r,255))+"%, "+Math.round(100*N(this._g,255))+"%, "+Math.round(100*N(this._b,255))+"%)":"rgba("+Math.round(100*N(this._r,255))+"%, "+Math.round(100*N(this._g,255))+"%, "+Math.round(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(A[n(this._r,this._g,this._b,!0)]||!1)},toFilter:function(j){var D="#"+a(this._r,this._g,this._b,this._a),B=D,z=this._gradientType?"GradientType = 1, ":"";if(j){var Y=_(j);B="#"+a(Y._r,Y._g,Y._b,Y._a)}return"progid:DXImageTransform.Microsoft.gradient("+z+"startColorstr="+D+",endColorstr="+B+")"},toString:function(j){var D=!!j;j=j||this._format;var B=!1,z=this._a<1&&this._a>=0;return D||!z||j!=="hex"&&j!=="hex6"&&j!=="hex3"&&j!=="hex4"&&j!=="hex8"&&j!=="name"?(j==="rgb"&&(B=this.toRgbString()),j==="prgb"&&(B=this.toPercentageRgbString()),j!=="hex"&&j!=="hex6"||(B=this.toHexString()),j==="hex3"&&(B=this.toHexString(!0)),j==="hex4"&&(B=this.toHex8String(!0)),j==="hex8"&&(B=this.toHex8String()),j==="name"&&(B=this.toName()),j==="hsl"&&(B=this.toHslString()),j==="hsv"&&(B=this.toHsvString()),B||this.toHexString()):j==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return _(this.toString())},_applyModification:function(j,D){var B=j.apply(null,[this].concat([].slice.call(D)));return this._r=B._r,this._g=B._g,this._b=B._b,this.setAlpha(B._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(d,arguments)},darken:function(){return this._applyModification(o,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(E,arguments)},spin:function(){return this._applyModification(s,arguments)},_applyCombination:function(j,D){return j.apply(null,[this].concat([].slice.call(D)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(p,arguments)},monochromatic:function(){return this._applyCombination(L,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(S,[3])},tetrad:function(){return this._applyCombination(S,[4])}},_.fromRatio=function(j,D){if(typeof j=="object"){var B={};for(var z in j)j.hasOwnProperty(z)&&(B[z]=z==="a"?j[z]:$(j[z]));j=B}return _(j,D)},_.equals=function(j,D){return!(!j||!D)&&_(j).toRgbString()==_(D).toRgbString()},_.random=function(){return _.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},_.mix=function(j,D,B){B=B===0?0:B||50;var z=_(j).toRgb(),Y=_(D).toRgb(),nt=B/100;return _({r:(Y.r-z.r)*nt+z.r,g:(Y.g-z.g)*nt+z.g,b:(Y.b-z.b)*nt+z.b,a:(Y.a-z.a)*nt+z.a})},_.readability=function(j,D){var B=_(j),z=_(D);return(Math.max(B.getLuminance(),z.getLuminance())+.05)/(Math.min(B.getLuminance(),z.getLuminance())+.05)},_.isReadable=function(j,D,B){var z,Y,nt,ot,ft,ct=_.readability(j,D);switch(Y=!1,(nt=B,(ot=((nt=nt||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&ot!=="AAA"&&(ot="AA"),(ft=(nt.size||"small").toLowerCase())!=="small"&&ft!=="large"&&(ft="small"),z={level:ot,size:ft}).level+z.size){case"AAsmall":case"AAAlarge":Y=ct>=4.5;break;case"AAlarge":Y=ct>=3;break;case"AAAsmall":Y=ct>=7}return Y},_.mostReadable=function(j,D,B){var z,Y,nt,ot,ft=null,ct=0;Y=(B=B||{}).includeFallbackColors,nt=B.level,ot=B.size;for(var gt=0;gt<D.length;gt++)(z=_.readability(j,D[gt]))>ct&&(ct=z,ft=_(D[gt]));return _.isReadable(j,ft,{level:nt,size:ot})||!Y?ft:(B.includeFallbackColors=!1,_.mostReadable(j,["#fff","#000"],B))};var k=_.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=_.hexNames=function(j){var D={};for(var B in j)j.hasOwnProperty(B)&&(D[j[B]]=B);return D}(k);function x(j){return j=parseFloat(j),(isNaN(j)||j<0||j>1)&&(j=1),j}function N(j,D){(function(z){return typeof z=="string"&&z.indexOf(".")!=-1&&parseFloat(z)===1})(j)&&(j="100%");var B=function(z){return typeof z=="string"&&z.indexOf("%")!=-1}(j);return j=Math.min(D,Math.max(0,parseFloat(j))),B&&(j=parseInt(j*D,10)/100),Math.abs(j-D)<1e-6?1:j%D/parseFloat(D)}function I(j){return Math.min(1,Math.max(0,j))}function P(j){return parseInt(j,16)}function U(j){return j.length==1?"0"+j:""+j}function $(j){return j<=1&&(j=100*j+"%"),j}function et(j){return Math.round(255*parseFloat(j)).toString(16)}function K(j){return P(j)/255}var V,q,H,F=(q="[\\s|\\(]+("+(V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",H="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+q),rgba:new RegExp("rgba"+H),hsl:new RegExp("hsl"+q),hsla:new RegExp("hsla"+H),hsv:new RegExp("hsv"+q),hsva:new RegExp("hsva"+H),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Z(j){return!!F.CSS_UNIT.exec(j)}return _}()}},i={};function u(w){var y=i[w];if(y!==void 0)return y.exports;var h=i[w]={id:w,loaded:!1,exports:{}};return e[w].call(h.exports,h,h.exports,u),h.loaded=!0,h.exports}u.n=w=>{var y=w&&w.__esModule?()=>w.default:()=>w;return u.d(y,{a:y}),y},u.d=(w,y)=>{for(var h in y)u.o(y,h)&&!u.o(w,h)&&Object.defineProperty(w,h,{enumerable:!0,get:y[h]})},u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),u.o=(w,y)=>Object.prototype.hasOwnProperty.call(w,y),u.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},u.nmd=w=>(w.paths=[],w.children||(w.children=[]),w),u.nc=void 0;var m=u(607);return m.default})())})(Rs);var Bu=Rs.exports;const Fu=Ni(Bu);xs.register("modules/cursors",Fu);const Ns=new xs(document.querySelector("#container"),{modules:{cursors:!0,toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]],history:{userOnly:!0}},placeholder:"Start collaborating...",theme:"snow"}),Ls=new Cn,Uu=new Pu("quill-demo-room",Ls),Hu=Ls.getText("quill");new ju(Hu,Ns,Uu.awareness);window.addEventListener("blur",()=>{Ns.blur()});
